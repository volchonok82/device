"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window.addEventListener("load",(function(){var t;!function(t,e,n){var r=[],o=[],i={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var n=this;setTimeout((function(){e(n[t])}),0)},addTest:function(t,e,n){o.push({name:t,fn:e,options:n})},addAsyncTest:function(t){o.push({name:null,fn:t})}},a=function(){};function s(t,e){return _typeof(t)===e}a.prototype=i,a=new a;var l,c,u=e.documentElement,p="svg"===u.nodeName.toLowerCase();function f(t){var e=u.className,n=a._config.classPrefix||"";if(p&&(e=e.baseVal),a._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");e=e.replace(r,"$1"+n+"js$2")}a._config.enableClasses&&(e+=" "+n+t.join(" "+n),p?u.className.baseVal=e:u.className=e)}function d(t,e){if("object"==_typeof(t))for(var n in t)l(t,n)&&d(n,t[n]);else{var r=(t=t.toLowerCase()).split("."),o=a[r[0]];if(2==r.length&&(o=o[r[1]]),void 0!==o)return a;e="function"==typeof e?e():e,1==r.length?a[r[0]]=e:(!a[r[0]]||a[r[0]]instanceof Boolean||(a[r[0]]=new Boolean(a[r[0]])),a[r[0]][r[1]]=e),f([(e&&0!=e?"":"no-")+r.join("-")]),a._trigger(t,e)}return a}l=s(c={}.hasOwnProperty,"undefined")||s(c.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return c.call(t,e)},i._l={},i.on=function(t,e){this._l[t]||(this._l[t]=[]),this._l[t].push(e),a.hasOwnProperty(t)&&setTimeout((function(){a._trigger(t,a[t])}),0)},i._trigger=function(t,e){if(this._l[t]){var n=this._l[t];setTimeout((function(){var t;for(t=0;t<n.length;t++)(0,n[t])(e)}),0),delete this._l[t]}},a._q.push((function(){i.addTest=d})),
/*!
    {
      "name": "Webp",
      "async": true,
      "property": "webp",
      "tags": ["image"],
      "builderAliases": ["img_webp"],
      "authors": ["Krister Kari", "@amandeep", "Rich Bradshaw", "Ryan Seddon", "Paul Irish"],
      "notes": [{
        "name": "Webp Info",
        "href": "https://developers.google.com/speed/webp/"
      }, {
        "name": "Chormium blog - Chrome 32 Beta: Animated WebP images and faster Chrome for Android touch input",
        "href": "https://blog.chromium.org/2013/11/chrome-32-beta-animated-webp-images-and.html"
      }, {
        "name": "Webp Lossless Spec",
        "href": "https://developers.google.com/speed/webp/docs/webp_lossless_bitstream_specification"
      }, {
        "name": "Article about WebP support on Android browsers",
        "href": "http://www.wope-framework.com/en/2013/06/24/webp-support-on-android-browsers/"
      }, {
        "name": "Chormium WebP announcement",
        "href": "https://blog.chromium.org/2011/11/lossless-and-transparency-encoding-in.html?m=1"
      }]
    }
    !*/
a.addAsyncTest((function(){var t=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],e=t.shift();function n(t,e,n){var r=new Image;function o(e){var o=!(!e||"load"!==e.type)&&1==r.width;d(t,"webp"===t&&o?new Boolean(o):o),n&&n(e)}r.onerror=o,r.onload=o,r.src=e}n(e.name,e.uri,(function(e){if(e&&"load"===e.type)for(var r=0;r<t.length;r++)n(t[r].name,t[r].uri)}))})),function(){var t,e,n,i,l,c;for(var u in o)if(o.hasOwnProperty(u)){if(t=[],(e=o[u]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(n=0;n<e.options.aliases.length;n++)t.push(e.options.aliases[n].toLowerCase());for(i=s(e.fn,"function")?e.fn():e.fn,l=0;l<t.length;l++)1===(c=t[l].split(".")).length?a[c[0]]=i:(!a[c[0]]||a[c[0]]instanceof Boolean||(a[c[0]]=new Boolean(a[c[0]])),a[c[0]][c[1]]=i),r.push((i?"":"no-")+c.join("-"))}}(),f(r),delete i.addTest,delete i.addAsyncTest;for(var h=0;h<a._q.length;h++)a._q[h]();t.Modernizr=a}(window,document),$(".slider-home-page__container").slick({autoplay:!0,autoplaySpeed:2e3,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!0,arrows:!1,dots:!0,slidesToShow:1,slidesToScroll:1,speed:1,waitForAnimate:!1,appendDots:$(".slider-home-page__dots")}),t=function(){var t="%%REPLACE_THIS_WITH_VERSION%%";function e(t){t.parentElement.removeChild(t)}function n(t){return null!=t}function r(t){t.preventDefault()}function o(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t,e,n){n>0&&(c(t,e),setTimeout((function(){u(t,e)}),n))}function a(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function l(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function c(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function u(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function p(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function f(t,e){return 100/(e-t)}function d(t,e,n){return 100*e/(t[n+1]-t[n])}function h(t,e){for(var n=1;t>=e[n];)n+=1;return n}function m(t,e,n){if(n>=t.slice(-1)[0])return 100;var r=h(n,t),o=t[r-1],i=t[r],a=e[r-1],s=e[r];return a+function(t,e){return d(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([o,i],n)/f(a,s)}function g(t,e,n,r){if(100===r)return r;var o=h(r,t),i=t[o-1],a=t[o];return n?r-i>(a-i)/2?a:i:e[o-1]?t[o-1]+function(t,e){return Math.round(t/e)*e}(r-t[o-1],e[o-1]):r}function v(e,n,r){var i;if("number"==typeof n&&(n=[n]),!Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'range' contains invalid value.");if(!o(i="min"===e?0:"max"===e?100:parseFloat(e))||!o(n[0]))throw new Error("noUiSlider ("+t+"): 'range' value isn't numeric.");r.xPct.push(i),r.xVal.push(n[0]),i?r.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(r.xSteps[0]=n[1]),r.xHighestCompleteStep.push(0)}function b(t,e,n){if(e)if(n.xVal[t]!==n.xVal[t+1]){n.xSteps[t]=d([n.xVal[t],n.xVal[t+1]],e,0)/f(n.xPct[t],n.xPct[t+1]);var r=(n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t],o=Math.ceil(Number(r.toFixed(3))-1),i=n.xVal[t]+n.xNumSteps[t]*o;n.xHighestCompleteStep[t]=i}else n.xSteps[t]=n.xHighestCompleteStep[t]=n.xVal[t]}function A(t,e,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var o=[];for(r in t)t.hasOwnProperty(r)&&o.push([t[r],r]);for(o.length&&"object"===_typeof(o[0][0])?o.sort((function(t,e){return t[0][0]-e[0][0]})):o.sort((function(t,e){return t[0]-e[0]})),r=0;r<o.length;r++)v(o[r][1],o[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)b(r,this.xNumSteps[r],this)}A.prototype.getDistance=function(e){var n,r=[];for(n=0;n<this.xNumSteps.length-1;n++){var o=this.xNumSteps[n];if(o&&e/o%1!=0)throw new Error("noUiSlider ("+t+"): 'limit', 'margin' and 'padding' of "+this.xPct[n]+"% range must be divisible by step.");r[n]=d(this.xVal,e,n)}return r},A.prototype.getAbsoluteDistance=function(t,e,n){var r,o=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[o+1];)o++;else t===this.xPct[this.xPct.length-1]&&(o=this.xPct.length-2);n||t!==this.xPct[o+1]||o++;var i=1,a=e[o],s=0,l=0,c=0,u=0;for(r=n?(t-this.xPct[o])/(this.xPct[o+1]-this.xPct[o]):(this.xPct[o+1]-t)/(this.xPct[o+1]-this.xPct[o]);a>0;)s=this.xPct[o+1+u]-this.xPct[o+u],e[o+u]*i+100-100*r>100?(l=s*r,i=(a-100*r)/e[o+u],r=1):(l=e[o+u]*s/100*i,i=0),n?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),a=e[o+u]*i;return t+c},A.prototype.toStepping=function(t){return t=m(this.xVal,this.xPct,t)},A.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var r=h(n,e),o=t[r-1],i=t[r],a=e[r-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([o,i],(n-a)*f(a,e[r]))}(this.xVal,this.xPct,t)},A.prototype.getStep=function(t){return t=g(this.xPct,this.xSteps,this.snap,t)},A.prototype.getDefaultStep=function(t,e,n){var r=h(t,this.xPct);return(100===t||e&&t===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},A.prototype.getNearbySteps=function(t){var e=h(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},A.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(l);return Math.max.apply(null,t)},A.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var y={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},S={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};function x(e){if(function(t){return"object"===_typeof(t)&&"function"==typeof t.to&&"function"==typeof t.from}(e))return!0;throw new Error("noUiSlider ("+t+"): 'format' requires 'to' and 'from' methods.")}function w(e,n){if(!o(n))throw new Error("noUiSlider ("+t+"): 'step' is not numeric.");e.singleStep=n}function E(e,n){if(!o(n))throw new Error("noUiSlider ("+t+"): 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=n}function C(e,n){if(!o(n))throw new Error("noUiSlider ("+t+"): 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=n}function k(e,n){if("object"!==_typeof(n)||Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+t+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+t+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new A(n,e.snap,e.singleStep)}function P(e,n){if(n=s(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+t+"): 'start' option is incorrect.");e.handles=n.length,e.start=n}function N(e,n){if(e.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'snap' option must be a boolean.")}function _(e,n){if(e.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animate' option must be a boolean.")}function U(e,n){if(e.animationDuration=n,"number"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animationDuration' option must be a number.")}function L(e,n){var r,o=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(r=1;r<e.handles;r++)o.push(n);o.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==e.handles+1)throw new Error("noUiSlider ("+t+"): 'connect' option doesn't match handle count.");o=n}e.connect=o}function D(e,n){switch(n){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+t+"): 'orientation' option is invalid.")}}function V(e,n){if(!o(n))throw new Error("noUiSlider ("+t+"): 'margin' option must be numeric.");0!==n&&(e.margin=e.spectrum.getDistance(n))}function M(e,n){if(!o(n))throw new Error("noUiSlider ("+t+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(n),!e.limit||e.handles<2)throw new Error("noUiSlider ("+t+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function O(e,n){var r;if(!o(n)&&!Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(n)&&2!==n.length&&!o(n[0])&&!o(n[1]))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==n){for(Array.isArray(n)||(n=[n,n]),e.padding=[e.spectrum.getDistance(n[0]),e.spectrum.getDistance(n[1])],r=0;r<e.spectrum.xNumSteps.length-1;r++)if(e.padding[0][r]<0||e.padding[1][r]<0)throw new Error("noUiSlider ("+t+"): 'padding' option must be a positive number(s).");var i=n[0]+n[1],a=e.spectrum.xVal[0];if(i/(e.spectrum.xVal[e.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider ("+t+"): 'padding' option must not exceed 100% of the range.")}}function R(e,n){switch(n){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+t+"): 'direction' option was not recognized.")}}function T(e,n){if("string"!=typeof n)throw new Error("noUiSlider ("+t+"): 'behaviour' must be a string containing options.");var r=n.indexOf("tap")>=0,o=n.indexOf("drag")>=0,i=n.indexOf("fixed")>=0,a=n.indexOf("snap")>=0,s=n.indexOf("hover")>=0,l=n.indexOf("unconstrained")>=0;if(i){if(2!==e.handles)throw new Error("noUiSlider ("+t+"): 'fixed' behaviour must be used with 2 handles");V(e,e.start[1]-e.start[0])}if(l&&(e.margin||e.limit))throw new Error("noUiSlider ("+t+"): 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:r||a,drag:o,fixed:i,snap:a,hover:s,unconstrained:l}}function B(e,n){if(!1!==n)if(!0===n){e.tooltips=[];for(var r=0;r<e.handles;r++)e.tooltips.push(!0)}else{if(e.tooltips=s(n),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+t+"): must pass a formatter for all handles.");e.tooltips.forEach((function(e){if("boolean"!=typeof e&&("object"!==_typeof(e)||"function"!=typeof e.to))throw new Error("noUiSlider ("+t+"): 'tooltips' must be passed a formatter or 'false'.")}))}}function q(t,e){t.ariaFormat=e,x(e)}function j(t,e){t.format=e,x(e)}function H(e,n){if(e.keyboardSupport=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'keyboardSupport' option must be a boolean.")}function z(t,e){t.documentElement=e}function F(e,n){if("string"!=typeof n&&!1!==n)throw new Error("noUiSlider ("+t+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=n}function Q(e,n){if("object"!==_typeof(n))throw new Error("noUiSlider ("+t+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var r in e.cssClasses={},n)n.hasOwnProperty(r)&&(e.cssClasses[r]=e.cssPrefix+n[r]);else e.cssClasses=n}function I(e){var r={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:y,format:y},o={step:{r:!1,t:w},keyboardPageMultiplier:{r:!1,t:E},keyboardDefaultStep:{r:!1,t:C},start:{r:!0,t:P},connect:{r:!0,t:L},direction:{r:!0,t:R},snap:{r:!1,t:N},animate:{r:!1,t:_},animationDuration:{r:!1,t:U},range:{r:!0,t:k},orientation:{r:!1,t:D},margin:{r:!1,t:V},limit:{r:!1,t:M},padding:{r:!1,t:O},behaviour:{r:!0,t:T},ariaFormat:{r:!1,t:q},format:{r:!1,t:j},tooltips:{r:!1,t:B},keyboardSupport:{r:!0,t:H},documentElement:{r:!1,t:z},cssPrefix:{r:!0,t:F},cssClasses:{r:!0,t:Q}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:S,keyboardPageMultiplier:5,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(o).forEach((function(a){if(!n(e[a])&&void 0===i[a]){if(o[a].r)throw new Error("noUiSlider ("+t+"): '"+a+"' is required.");return!0}o[a].t(r,n(e[a])?e[a]:i[a])})),r.pips=e.pips;var a=document.createElement("div"),s=void 0!==a.style.msTransform,l=void 0!==a.style.transform;return r.transformRule=l?"transform":s?"msTransform":"webkitTransform",r.style=[["left","top"],["right","bottom"]][r.dir][r.ort],r}function J(n,o,l){var f,d,h,m,g,v,b,A,y=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},S=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),x=n,w=o.spectrum,E=[],C=[],k=[],P=0,N={},_=n.ownerDocument,U=o.documentElement||_.documentElement,L=_.body,D="rtl"===_.dir||1===o.ort?0:100;function V(t,e){var n=_.createElement("div");return e&&c(n,e),t.appendChild(n),n}function M(t,e){var n=V(t,o.cssClasses.origin),r=V(n,o.cssClasses.handle);return V(r,o.cssClasses.touchArea),r.setAttribute("data-handle",e),o.keyboardSupport&&(r.setAttribute("tabindex","0"),r.addEventListener("keydown",(function(t){return function(t,e){if(T()||B(e))return!1;var n=["Left","Right"],r=["Down","Up"],i=["PageDown","PageUp"],a=["Home","End"];o.dir&&!o.ort?n.reverse():o.ort&&!o.dir&&(r.reverse(),i.reverse());var s,l=t.key.replace("Arrow",""),c=l===i[0],u=l===i[1],p=l===r[0]||l===n[0]||c,f=l===r[1]||l===n[1]||u,d=l===a[0],h=l===a[1];if(!(p||f||d||h))return!0;if(t.preventDefault(),f||p){var m=o.keyboardPageMultiplier,g=p?0:1,v=dt(e)[g];if(null===v)return!1;!1===v&&(v=w.getDefaultStep(C[e],p,o.keyboardDefaultStep)),(u||c)&&(v*=m),v=Math.max(v,1e-7),v*=p?-1:1,s=E[e]+v}else s=h?o.spectrum.xVal[o.spectrum.xVal.length-1]:o.spectrum.xVal[0];return lt(e,w.toStepping(s),!0,!0),nt("slide",e),nt("update",e),nt("change",e),nt("set",e),!1}(t,e)}))),r.setAttribute("role","slider"),r.setAttribute("aria-orientation",o.ort?"vertical":"horizontal"),0===e?c(r,o.cssClasses.handleLower):e===o.handles-1&&c(r,o.cssClasses.handleUpper),n}function O(t,e){return!!e&&V(t,o.cssClasses.connect)}function R(t,e){return!!o.tooltips[e]&&V(t.firstChild,o.cssClasses.tooltip)}function T(){return x.hasAttribute("disabled")}function B(t){return d[t].hasAttribute("disabled")}function q(){g&&(et("update.tooltips"),g.forEach((function(t){t&&e(t)})),g=null)}function j(){q(),g=d.map(R),tt("update.tooltips",(function(t,e,n){if(g[e]){var r=t[e];!0!==o.tooltips[e]&&(r=o.tooltips[e].to(n[e])),g[e].innerHTML=r}}))}function H(t,e,n){var r=_.createElement("div"),i=[];i[0]=o.cssClasses.valueNormal,i[1]=o.cssClasses.valueLarge,i[2]=o.cssClasses.valueSub;var a=[];a[0]=o.cssClasses.markerNormal,a[1]=o.cssClasses.markerLarge,a[2]=o.cssClasses.markerSub;var s=[o.cssClasses.valueHorizontal,o.cssClasses.valueVertical],l=[o.cssClasses.markerHorizontal,o.cssClasses.markerVertical];function u(t,e){var n=e===o.cssClasses.value,r=n?i:a;return e+" "+(n?s:l)[o.ort]+" "+r[t]}return c(r,o.cssClasses.pips),c(r,0===o.ort?o.cssClasses.pipsHorizontal:o.cssClasses.pipsVertical),Object.keys(t).forEach((function(i){!function(t,i,a){if(-1!==(a=e?e(i,a):a)){var s=V(r,!1);s.className=u(a,o.cssClasses.marker),s.style[o.style]=t+"%",a>0&&((s=V(r,!1)).className=u(a,o.cssClasses.value),s.setAttribute("data-value",i),s.style[o.style]=t+"%",s.innerHTML=n.to(i))}}(i,t[i][0],t[i][1])})),r}function z(){m&&(e(m),m=null)}function F(e){z();var n=e.mode,r=e.density||1,o=e.filter||!1,i=function(e,n,r){if("range"===e||"steps"===e)return w.xVal;if("count"===e){if(n<2)throw new Error("noUiSlider ("+t+"): 'values' (>= 2) required for mode 'count'.");var o=n-1,i=100/o;for(n=[];o--;)n[o]=o*i;n.push(100),e="positions"}return"positions"===e?n.map((function(t){return w.fromStepping(r?w.getStep(t):t)})):"values"===e?r?n.map((function(t){return w.fromStepping(w.getStep(w.toStepping(t)))})):n:void 0}(n,e.values||!1,e.stepped||!1),a=function(t,e,n){var r,o={},i=w.xVal[0],a=w.xVal[w.xVal.length-1],s=!1,l=!1,c=0;return r=n.slice().sort((function(t,e){return t-e})),(n=r.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==i&&(n.unshift(i),s=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach((function(r,i){var a,u,p,f,d,h,m,g,v,b,A=r,y=n[i+1],S="steps"===e;if(S&&(a=w.xNumSteps[i]),a||(a=y-A),!1!==A)for(void 0===y&&(y=A),a=Math.max(a,1e-7),u=A;u<=y;u=(u+a).toFixed(7)/1){for(g=(d=(f=w.toStepping(u))-c)/t,b=d/(v=Math.round(g)),p=1;p<=v;p+=1)o[(h=c+p*b).toFixed(5)]=[w.fromStepping(h),0];m=n.indexOf(u)>-1?1:S?2:0,!i&&s&&u!==y&&(m=0),u===y&&l||(o[f.toFixed(5)]=[u,m]),c=f}})),o}(r,n,i),s=e.format||{to:Math.round};return m=x.appendChild(H(a,o,s))}function Q(){var t=f.getBoundingClientRect(),e="offset"+["Width","Height"][o.ort];return 0===o.ort?t.width||f[e]:t.height||f[e]}function J(t,e,n,r){var i=function(i){return!!(i=function(t,e,n){var r,o,i=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(s=!0),"mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(i){var l=function(t){return t.target===n||n.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(n)};if("touchstart"===t.type){var c=Array.prototype.filter.call(t.touches,l);if(c.length>1)return!1;r=c[0].pageX,o=c[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,l);if(!u)return!1;r=u.pageX,o=u.pageY}}return e=e||p(_),(a||s)&&(r=t.clientX+e.x,o=t.clientY+e.y),t.pageOffset=e,t.points=[r,o],t.cursor=a||s,t}(i,r.pageOffset,r.target||e))&&!(T()&&!r.doNotReject)&&(a=x,s=o.cssClasses.tap,!((a.classList?a.classList.contains(s):new RegExp("\\b"+s+"\\b").test(a.className))&&!r.doNotReject)&&!(t===y.start&&void 0!==i.buttons&&i.buttons>1)&&(!r.hover||!i.buttons)&&(S||i.preventDefault(),i.calcPoint=i.points[o.ort],void n(i,r)));var a,s},a=[];return t.split(" ").forEach((function(t){e.addEventListener(t,i,!!S&&{passive:!0}),a.push([t,i])})),a}function X(t){var e,n,r,i,s,l,c=100*(t-(e=f,n=o.ort,r=e.getBoundingClientRect(),i=e.ownerDocument,s=i.documentElement,l=p(i),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),n?r.top+l.y-s.clientTop:r.left+l.x-s.clientLeft))/Q();return c=a(c),o.dir?100-c:c}function W(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&Y(t,e)}function G(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return Y(t,e);var n=(o.dir?-1:1)*(t.calcPoint-e.startCalcPoint);it(n>0,100*n/e.baseSize,e.locations,e.handleNumbers)}function Y(t,e){e.handle&&(u(e.handle,o.cssClasses.active),P-=1),e.listeners.forEach((function(t){U.removeEventListener(t[0],t[1])})),0===P&&(u(x,o.cssClasses.drag),st(),t.cursor&&(L.style.cursor="",L.removeEventListener("selectstart",r))),e.handleNumbers.forEach((function(t){nt("change",t),nt("set",t),nt("end",t)}))}function $(t,e){if(e.handleNumbers.some(B))return!1;var n;1===e.handleNumbers.length&&(n=d[e.handleNumbers[0]].children[0],P+=1,c(n,o.cssClasses.active)),t.stopPropagation();var i=[],a=J(y.move,U,G,{target:t.target,handle:n,listeners:i,startCalcPoint:t.calcPoint,baseSize:Q(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:C.slice()}),s=J(y.end,U,Y,{target:t.target,handle:n,listeners:i,doNotReject:!0,handleNumbers:e.handleNumbers}),l=J("mouseout",U,W,{target:t.target,handle:n,listeners:i,doNotReject:!0,handleNumbers:e.handleNumbers});i.push.apply(i,a.concat(s,l)),t.cursor&&(L.style.cursor=getComputedStyle(t.target).cursor,d.length>1&&c(x,o.cssClasses.drag),L.addEventListener("selectstart",r,!1)),e.handleNumbers.forEach((function(t){nt("start",t)}))}function K(t){t.stopPropagation();var e=X(t.calcPoint),n=function(t){var e=100,n=!1;return d.forEach((function(r,o){if(!B(o)){var i=C[o],a=Math.abs(i-t);(a<e||a<=e&&t>i||100===a&&100===e)&&(n=o,e=a)}})),n}(e);if(!1===n)return!1;o.events.snap||i(x,o.cssClasses.tap,o.animationDuration),lt(n,e,!0,!0),st(),nt("slide",n,!0),nt("update",n,!0),nt("change",n,!0),nt("set",n,!0),o.events.snap&&$(t,{handleNumbers:[n]})}function Z(t){var e=X(t.calcPoint),n=w.getStep(e),r=w.fromStepping(n);Object.keys(N).forEach((function(t){"hover"===t.split(".")[0]&&N[t].forEach((function(t){t.call(v,r)}))}))}function tt(t,e){N[t]=N[t]||[],N[t].push(e),"update"===t.split(".")[0]&&d.forEach((function(t,e){nt("update",e)}))}function et(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(N).forEach((function(t){var r=t.split(".")[0],o=t.substring(r.length);e&&e!==r||n&&n!==o||delete N[t]}))}function nt(t,e,n){Object.keys(N).forEach((function(r){var i=r.split(".")[0];t===i&&N[r].forEach((function(t){t.call(v,E.map(o.format.to),e,E.slice(),n||!1,C.slice(),v)}))}))}function rt(t,e,n,r,i,s){var l;return d.length>1&&!o.events.unconstrained&&(r&&e>0&&(l=w.getAbsoluteDistance(t[e-1],o.margin,0),n=Math.max(n,l)),i&&e<d.length-1&&(l=w.getAbsoluteDistance(t[e+1],o.margin,1),n=Math.min(n,l))),d.length>1&&o.limit&&(r&&e>0&&(l=w.getAbsoluteDistance(t[e-1],o.limit,0),n=Math.min(n,l)),i&&e<d.length-1&&(l=w.getAbsoluteDistance(t[e+1],o.limit,1),n=Math.max(n,l))),o.padding&&(0===e&&(l=w.getAbsoluteDistance(0,o.padding[0],0),n=Math.max(n,l)),e===d.length-1&&(l=w.getAbsoluteDistance(100,o.padding[1],1),n=Math.min(n,l))),!((n=a(n=w.getStep(n)))===t[e]&&!s)&&n}function ot(t,e){var n=o.ort;return(n?e:t)+", "+(n?t:e)}function it(t,e,n,r){var o=n.slice(),i=[!t,t],a=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach((function(t,n){var r=rt(o,t,o[t]+e,i[n],a[n],!1);!1===r?e=0:(e=r-o[t],o[t]=r)})):i=a=[!0];var s=!1;r.forEach((function(t,r){s=lt(t,n[t]+e,i[r],a[r])||s})),s&&r.forEach((function(t){nt("update",t),nt("slide",t)}))}function at(t,e){return o.dir?100-t-e:t}function st(){k.forEach((function(t){var e=C[t]>50?-1:1,n=3+(d.length+e*t);d[t].style.zIndex=n}))}function lt(t,e,n,r,i){return i||(e=rt(C,t,e,n,r,!1)),!1!==e&&(function(t,e){C[t]=e,E[t]=w.fromStepping(e);var n="translate("+ot(10*(at(e,0)-D)+"%","0")+")";d[t].style[o.transformRule]=n,ct(t),ct(t+1)}(t,e),!0)}function ct(t){if(h[t]){var e=0,n=100;0!==t&&(e=C[t-1]),t!==h.length-1&&(n=C[t]);var r=n-e,i="translate("+ot(at(e,r)+"%","0")+")",a="scale("+ot(r/100,"1")+")";h[t].style[o.transformRule]=i+" "+a}}function ut(t,e){return null===t||!1===t||void 0===t?C[e]:("number"==typeof t&&(t=String(t)),t=o.format.from(t),!1===(t=w.toStepping(t))||isNaN(t)?C[e]:t)}function pt(t,e,n){var r=s(t),a=void 0===C[0];e=void 0===e||!!e,o.animate&&!a&&i(x,o.cssClasses.tap,o.animationDuration),k.forEach((function(t){lt(t,ut(r[t],t),!0,!1,n)}));for(var l=1===k.length?0:1;l<k.length;++l)k.forEach((function(t){lt(t,C[t],!0,!0,n)}));st(),k.forEach((function(t){nt("update",t),null!==r[t]&&e&&nt("set",t)}))}function ft(){var t=E.map(o.format.to);return 1===t.length?t[0]:t}function dt(t){var e=C[t],n=w.getNearbySteps(e),r=E[t],i=n.thisStep.step,a=null;if(o.snap)return[r-n.stepBefore.startValue||null,n.stepAfter.startValue-r||null];!1!==i&&r+i>n.stepAfter.startValue&&(i=n.stepAfter.startValue-r),a=r>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&r-n.stepBefore.highestStep,100===e?i=null:0===e&&(a=null);var s=w.countStepDecimals();return null!==i&&!1!==i&&(i=Number(i.toFixed(s))),null!==a&&!1!==a&&(a=Number(a.toFixed(s))),[a,i]}return c(b=x,o.cssClasses.target),0===o.dir?c(b,o.cssClasses.ltr):c(b,o.cssClasses.rtl),0===o.ort?c(b,o.cssClasses.horizontal):c(b,o.cssClasses.vertical),c(b,"rtl"===getComputedStyle(b).direction?o.cssClasses.textDirectionRtl:o.cssClasses.textDirectionLtr),f=V(b,o.cssClasses.base),function(t,e){var n=V(e,o.cssClasses.connects);d=[],(h=[]).push(O(n,t[0]));for(var r=0;r<o.handles;r++)d.push(M(e,r)),k[r]=r,h.push(O(n,t[r+1]))}(o.connect,f),(A=o.events).fixed||d.forEach((function(t,e){J(y.start,t.children[0],$,{handleNumbers:[e]})})),A.tap&&J(y.start,f,K,{}),A.hover&&J(y.move,f,Z,{hover:!0}),A.drag&&h.forEach((function(t,e){if(!1!==t&&0!==e&&e!==h.length-1){var n=d[e-1],r=d[e],i=[t];c(t,o.cssClasses.draggable),A.fixed&&(i.push(n.children[0]),i.push(r.children[0])),i.forEach((function(t){J(y.start,t,$,{handles:[n,r],handleNumbers:[e-1,e]})}))}})),pt(o.start),o.pips&&F(o.pips),o.tooltips&&j(),tt("update",(function(t,e,n,r,i){k.forEach((function(t){var e=d[t],r=rt(C,t,0,!0,!0,!0),a=rt(C,t,100,!0,!0,!0),s=i[t],l=o.ariaFormat.to(n[t]);r=w.fromStepping(r).toFixed(1),a=w.fromStepping(a).toFixed(1),s=w.fromStepping(s).toFixed(1),e.children[0].setAttribute("aria-valuemin",r),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",s),e.children[0].setAttribute("aria-valuetext",l)}))})),v={destroy:function(){for(var t in o.cssClasses)o.cssClasses.hasOwnProperty(t)&&u(x,o.cssClasses[t]);for(;x.firstChild;)x.removeChild(x.firstChild);delete x.noUiSlider},steps:function(){return k.map(dt)},on:tt,off:et,get:ft,set:pt,setHandle:function(e,n,r,o){if(!((e=Number(e))>=0&&e<k.length))throw new Error("noUiSlider ("+t+"): invalid handle number, got: "+e);lt(e,ut(n,e),!0,!0,o),nt("update",e),r&&nt("set",e)},reset:function(t){pt(o.start,t)},__moveHandles:function(t,e,n){it(t,e,C,n)},options:l,updateOptions:function(t,e){var n=ft(),r=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];r.forEach((function(e){void 0!==t[e]&&(l[e]=t[e])}));var i=I(l);r.forEach((function(e){void 0!==t[e]&&(o[e]=i[e])})),w=i.spectrum,o.margin=i.margin,o.limit=i.limit,o.padding=i.padding,o.pips?F(o.pips):z(),o.tooltips?j():q(),C=[],pt(t.start||n,e)},target:x,removePips:z,removeTooltips:q,getTooltips:function(){return g},getOrigins:function(){return d},pips:F}}return{__spectrum:A,version:t,cssClasses:S,create:function(e,n){if(!e||!e.nodeName)throw new Error("noUiSlider ("+t+"): create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider ("+t+"): Slider was already initialized.");var r=J(e,I(n),n);return e.noUiSlider=r,r}}},"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():window.noUiSlider=t();var e=document.querySelector(".nouislider");e&&noUiSlider.create(e,{tooltips:!0,connect:!0,range:{min:0,max:1e4},start:[0,5e3],step:100,format:{to:function(t){return String(t)},from:function(t){return Number(t.replace(",-",""))}}}),function(){var t,e=[],n=document.querySelectorAll("[data-da]"),r=[],o=[];if(n.length>0){for(var i=0,a=0;a<n.length;a++){var s=n[a],l=s.getAttribute("data-da");if(""!=l){var c=l.split(","),u=c[1]?c[1].trim():"last",p=c[2]?c[2].trim():"767",f="min"===c[3]?c[3].trim():"max",d=document.querySelector("."+c[0].trim());c.length>0&&d&&(s.setAttribute("data-da-index",i),e[i]={parent:s.parentNode,index:y(s)},r[i]={element:s,destination:document.querySelector("."+c[0].trim()),place:u,breakpoint:p,type:f},i++)}}(t=r).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),t.sort((function(t,e){return t.place>e.place?1:-1}));for(var h=0;h<r.length;h++){var m=r[h],g=m.breakpoint,v=m.type;o.push(window.matchMedia("("+v+"-width: "+g+"px)")),o[h].addListener(b)}}function b(t){for(var e=0;e<r.length;e++){var n=r[e],i=n.element,a=n.destination,s=n.place,l="_dynamic_adapt_"+n.breakpoint;if(o[e].matches){if(!i.classList.contains(l)){var c=S(a)[s];"first"===s?c=S(a)[0]:"last"===s&&(c=S(a)[S(a).length]),a.insertBefore(i,a.children[c]),i.classList.add(l)}}else i.classList.contains(l)&&(A(i),i.classList.remove(l))}}function A(t){var n=t.getAttribute("data-da-index"),r=e[n],o=r.parent,i=r.index,a=S(o,!0)[i];o.insertBefore(t,o.children[a])}function y(t){return Array.prototype.slice.call(t.parentNode.children).indexOf(t)}function S(t,e){for(var n=t.children,r=[],o=0;o<n.length;o++){var i=n[o];(e||null==i.getAttribute("data-da"))&&r.push(o)}return r}b()}();var n=document.querySelector(".icon-menu"),r=document.querySelector("body"),o=document.querySelector(".menu__body");n.onclick=function(){n.classList.toggle("active"),o.classList.toggle("active"),r.classList.toggle("lock")};var i=document.querySelectorAll(".popup-link"),a=document.querySelector("body"),s=document.querySelectorAll(".lock-padding"),l=!0;if(i.length>0)for(var c=function(t){var e=i[t];e.addEventListener("click",(function(t){var n=e.getAttribute("href").replace("#","");!function(t){if(t&&l){var e=document.querySelector(".popup.open");e?h(e,!1):function(){var t=window.innerWidth-document.querySelector(".container").offsetWidth+"px";if(s.length>0)for(var e=0;e<s.length;e++){s[e].style.paddingRight=t}a.style.paddingRight=t,a.classList.add("lock"),l=!1,setTimeout((function(){l=!0}),800)}(),t.classList.add("open"),t.addEventListener("click",(function(t){t.target.closest(".popup__content")||h(t.target.closest(".popup"))}))}}(document.getElementById(n)),t.preventDefault()}))},u=0;u<i.length;u++)c(u);var p=document.querySelectorAll(".close-popup");if(p.length>0)for(var f=function(t){var e=p[t];e.addEventListener("click",(function(t){h(e.closest(".popup")),t.preventDefault()}))},d=0;d<p.length;d++)f(d);function h(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l&&(t.classList.remove("open"),e&&m())}function m(){setTimeout((function(){if(s.length>0)for(var t=0;t<s.length;t++){s[t].style.paddingRight="0px"}a.style.paddingRight="0px",a.classList.remove("lock")}),0),l=!1,setTimeout((function(){l=!0}),800)}document.addEventListener("keydown",(function(t){"Escape"===t.key&&h(document.querySelector(".popup.open"))})),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);var g=document.querySelector(".menu__catalog span");g.addEventListener("click",(function(){g.classList.toggle("show"),document.querySelector(".catalog-menu__wrap").classList.toggle("show"),console.log("clik")}));var v=document.querySelectorAll("._tabs-link");document.querySelectorAll("._tabs-block");v.forEach((function(t){t.addEventListener("click",(function(){var e=this.getAttribute("data-tab"),n=document.querySelector('._tabs-block[data-tab="'+e+'"]'),r=document.querySelector("._tabs-link._active"),o=document.querySelector("._tabs-block._active");r.classList.remove("_active"),t.classList.add("_active"),o.classList.remove("_active"),n.classList.add("_active")}))}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZmFjdG9yeSIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiY2xhc3NlcyIsInRlc3RzIiwiTW9kZXJuaXpyUHJvdG8iLCJfdmVyc2lvbiIsIl9jb25maWciLCJjbGFzc1ByZWZpeCIsImVuYWJsZUNsYXNzZXMiLCJlbmFibGVKU0NsYXNzIiwidXNlUHJlZml4ZXMiLCJfcSIsIm9uIiwidGVzdCIsImNiIiwidGhpcyIsInNldFRpbWVvdXQiLCJzZWxmIiwiYWRkVGVzdCIsImZuIiwibmFtZSIsIm9wdGlvbnMiLCJhZGRBc3luY1Rlc3QiLCJwdXNoIiwiTW9kZXJuaXpyIiwiaXMiLCJvYmoiLCJ0eXBlIiwiX3R5cGVvZiIsInByb3RvdHlwZSIsImhhc093blByb3AiLCJfaGFzT3duUHJvcGVydHkiLCJkb2NFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiaXNTVkciLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwic2V0Q2xhc3NlcyIsImNsYXNzTmFtZSIsImJhc2VWYWwiLCJyZXBsYWNlIiwicmVKUyIsImpvaW4iLCJsYXN0IiwiZmVhdHVyZU5hbWVTcGxpdCIsImZlYXR1cmUiLCJrZXkiLCJzcGxpdCIsIl90cmlnZ2VyIiwibGVuZ3RoIiwiQm9vbGVhbiIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm9iamVjdCIsInByb3BlcnR5IiwiY29uc3RydWN0b3IiLCJfbCIsInJlcyIsImNicyIsImkiLCJ3ZWJwVGVzdHMiLCJ1cmkiLCJpbWFnZSIsIm9uZXJyb3IiLCJ3ZWJwIiwic2hpZnQiLCJhZGRSZXN1bHQiLCJldmVudCIsInJlc3VsdCIsIndpZHRoIiwib25sb2FkIiwic2xpY2siLCJlIiwiYXV0b3BsYXkiLCJmZWF0dXJlTmFtZXMiLCJhbGlhc0lkeCIsIm5hbWVJZHgiLCJmZWF0dXJlSWR4IiwiYWxpYXNlcyIsImZlYXR1cmVOYW1lIiwidGVzdFJ1bm5lciIsInNsaWRlc1RvU2hvdyIsInNsaWRlc1RvU2Nyb2xsIiwid2FpdEZvckFuaW1hdGUiLCIkIiwiYXV0b3BsYXlTcGVlZCIsImFwcGVuZERvdHMiLCJwYXVzZU9uSG92ZXIiLCJwYXVzZU9uRG90c0hvdmVyIiwiYXJyb3dzIiwibW9kdWxlIiwic3BlZWQiLCJlbGVtIiwiVkVSU0lPTiIsInJlbW92ZUVsZW1lbnQiLCJlbCIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsImlzU2V0IiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsImlzTnVtZXJpYyIsInN1cHBvcnRQYWdlT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJpc0Zpbml0ZSIsImlzQ1NTMUNvbXBhdCIsImFkZENsYXNzRm9yIiwiZWxlbWVudCIsImR1cmF0aW9uIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInN0YXJ0IiwibGltaXQiLCJhIiwibW92ZSIsIk1hdGgiLCJtYXgiLCJtaW4iLCJlbmQiLCJhc0FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiY291bnREZWNpbWFscyIsIm51bVN0ciIsInBpZWNlcyIsIlN0cmluZyIsImNsYXNzTGlzdCIsImFkZCIsImdldCIsInJlbW92ZSIsInN1cHBvcnRzUGFzc2l2ZSIsIlJlZ0V4cCIsImZyb21QZXJjZW50YWdlIiwiZG9jIiwicmFuZ2UiLCJzdGFydFJhbmdlIiwiY29tcGF0TW9kZSIsImdldEoiLCJ4IiwicGFnZVhPZmZzZXQiLCJib2R5Iiwic2Nyb2xsTGVmdCIsInkiLCJzY3JvbGxUb3AiLCJzdWJSYW5nZVJhdGlvIiwicGEiLCJwYiIsInhTdGVwcyIsInhQY3QiLCJjbG9zZXN0IiwiYXJyIiwicGVyY2VudGFnZSIsImoiLCJpbmRleCIsIkVycm9yIiwic2xpY2UiLCJ0aGF0IiwieFZhbCIsInZiIiwiaXNOYU4iLCJhYnMiLCJ2YSIsImdldFN0ZXAiLCJzbmFwIiwiaGlnaGVzdFN0ZXAiLCJzdGVwIiwieEhpZ2hlc3RDb21wbGV0ZVN0ZXAiLCJTcGVjdHJ1bSIsImVudHJ5Iiwic2luZ2xlU3RlcCIsImIiLCJ4TnVtU3RlcHMiLCJyb3VuZCIsInRvIiwiaGFuZGxlRW50cnlQb2ludCIsIm9yZGVyZWQiLCJzb3J0IiwicGFyc2VGbG9hdCIsImhhbmRsZVN0ZXBQb2ludCIsImdldERpc3RhbmNlIiwibiIsInhQY3RfaW5kZXgiLCJjZWlsIiwiTnVtYmVyIiwidG90YWxTdGVwcyIsInRvRml4ZWQiLCJyZXN0X2ZhY3RvciIsImRpcmVjdGlvbiIsInJhbmdlX3BjdCIsInN0YXJ0X2ZhY3RvciIsInJlc3RfcmVsX2Rpc3RhbmNlIiwicmVsX3JhbmdlX2Rpc3RhbmNlIiwicmFuZ2VfY291bnRlciIsImRpc3RhbmNlcyIsImFic19kaXN0YW5jZV9jb3VudGVyIiwiZnJvbVN0ZXBwaW5nIiwiZ2V0QWJzb2x1dGVEaXN0YW5jZSIsInN0ZXBCZWZvcmUiLCJzdGVwRGVjaW1hbHMiLCJtYXAiLCJjc3NDbGFzc2VzIiwiaGFuZGxlTG93ZXIiLCJoYW5kbGVVcHBlciIsInRleHREaXJlY3Rpb25MdHIiLCJwaXBzSG9yaXpvbnRhbCIsIm1hcmtlckhvcml6b250YWwiLCJ0b1N0ZXBwaW5nIiwibWFya2VyTGFyZ2UiLCJtYXJrZXJWZXJ0aWNhbCIsInZhbHVlSG9yaXpvbnRhbCIsInZhbHVlVmVydGljYWwiLCJpc1BlcmNlbnRhZ2UiLCJ2YWx1ZVN1YiIsImdldERlZmF1bHRTdGVwIiwiaXNEb3duIiwic2l6ZSIsImdldE5lYXJieVN0ZXBzIiwidGVzdEtleWJvYXJkUGFnZU11bHRpcGxpZXIiLCJwYXJzZWQiLCJ0aGlzU3RlcCIsImtleWJvYXJkUGFnZU11bHRpcGxpZXIiLCJzdGFydFZhbHVlIiwiY291bnRTdGVwRGVjaW1hbHMiLCJhcHBseSIsImNvbnZlcnQiLCJkZWZhdWx0Rm9ybWF0dGVyIiwiZnJvbSIsInRlc3RTbmFwIiwidGFyZ2V0IiwiYmFzZSIsIm9yaWdpbiIsImhhbmRsZSIsInRlc3RBbmltYXRlIiwidG91Y2hBcmVhIiwidmVydGljYWwiLCJiYWNrZ3JvdW5kIiwiY29ubmVjdCIsImNvbm5lY3RzIiwibHRyIiwicnRsIiwidGVzdEFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJkcmFnZ2FibGUiLCJkcmFnIiwidGFwIiwiYWN0aXZlIiwidG9vbHRpcCIsInBpcHMiLCJwaXBzVmVydGljYWwiLCJtYXJrZXIiLCJ2YWx1ZU5vcm1hbCIsInZhbHVlTGFyZ2UiLCJ2YWxpZGF0ZUZvcm1hdCIsImlzVmFsaWRGb3JtYXR0ZXIiLCJ0ZXN0T3JpZW50YXRpb24iLCJrZXlib2FyZERlZmF1bHRTdGVwIiwidGVzdFJhbmdlIiwidGVzdFBhZGRpbmciLCJoYW5kbGVzIiwicGFkZGluZyIsInRvdGFsUGFkZGluZyIsImxhc3RWYWx1ZSIsInRlc3REaXJlY3Rpb24iLCJ0ZXN0Q29ubmVjdCIsImluZGV4T2YiLCJob3ZlciIsInVuY29uc3RyYWluZWQiLCJvcnQiLCJldmVudHMiLCJmaXhlZCIsInRlc3RNYXJnaW4iLCJtYXJnaW4iLCJzcGVjdHJ1bSIsInRlc3RMaW1pdCIsInRvb2x0aXBzIiwidGVzdEFyaWFGb3JtYXQiLCJ0ZXN0Rm9ybWF0IiwidGVzdEtleWJvYXJkU3VwcG9ydCIsImtleWJvYXJkU3VwcG9ydCIsImNzc1ByZWZpeCIsImZpcnN0VmFsdWUiLCJkaXIiLCJ0ZXN0T3B0aW9ucyIsInRlc3RCZWhhdmlvdXIiLCJhbmltYXRlIiwidGVzdFN0ZXAiLCJ0IiwiciIsInRlc3RUb29sdGlwcyIsIm9yaWVudGF0aW9uIiwiZm9yRWFjaCIsImZvcm1hdHRlciIsImFyaWFGb3JtYXQiLCJ0ZXN0RG9jdW1lbnRFbGVtZW50IiwidGVzdENzc1ByZWZpeCIsImJlaGF2aW91ciIsImZvcm1hdCIsIm5vUHJlZml4IiwidHJhbnNmb3JtUnVsZSIsImFjdGlvbnMiLCJzdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSIsInNjb3BlX1RhcmdldCIsInNjb3BlX0hhbmRsZXMiLCJzY29wZV9Db25uZWN0cyIsInNjb3BlX1BpcHMiLCJzY29wZV9TcGVjdHJ1bSIsInNjb3BlX1ZhbHVlcyIsInNjb3BlX0hhbmRsZU51bWJlcnMiLCJzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQiLCJzY29wZV9FdmVudHMiLCJzY29wZV9TZWxmIiwic2NvcGVfRG9jdW1lbnQiLCJzY29wZV9Cb2R5IiwiUElQU19OT05FIiwiUElQU19MQVJHRV9WQUxVRSIsIlBJUFNfU01BTExfVkFMVUUiLCJzY29wZV9EaXJPZmZzZXQiLCJhZGROb2RlVG8iLCJkaXYiLCJhZGRUYXJnZXQiLCJhcHBlbmRDaGlsZCIsImFkZE9yaWdpbiIsInNldEF0dHJpYnV0ZSIsImV2ZW50S2V5ZG93biIsImhhbmRsZU51bWJlciIsImFkZENvbm5lY3QiLCJ0ZXN0Q3NzQ2xhc3NlcyIsImRlZmF1bHRzIiwiYWRkRWxlbWVudHMiLCJjb25uZWN0QmFzZSIsIk9iamVjdCIsImtleXMiLCJkIiwiY3JlYXRlRWxlbWVudCIsIm1zUHJlZml4Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJhZGRUb29sdGlwIiwiaXNTbGlkZXJEaXNhYmxlZCIsInNjb3BlIiwiaGFuZGxlT3JpZ2luIiwiaGFzQXR0cmlidXRlIiwic2NvcGVfQmFzZSIsInNjb3BlX1Rvb2x0aXBzIiwicG9pbnRlckVuYWJsZWQiLCJuYXZpZ2F0b3IiLCJtc1BvaW50ZXJFbmFibGVkIiwiQ1NTIiwic3VwcG9ydHMiLCJkZWZpbmVQcm9wZXJ0eSIsIm9wdHMiLCJnZXRTdXBwb3J0c1Bhc3NpdmUiLCJyZW1vdmVUb29sdGlwcyIsInNjb3BlX0xvY2F0aW9ucyIsImJpbmRFdmVudCIsImZvcm1hdHRlZFZhbHVlIiwidW5lbmNvZGVkIiwibm93IiwicG9zaXRpb25zIiwiY2hpbGRyZW4iLCJnZXRHcm91cCIsIm1vZGUiLCJ2YWx1ZXMiLCJzdGVwcGVkIiwiaXNIYW5kbGVEaXNhYmxlZCIsInJlZmVyZW5jZSIsImhvcml6b250YWxLZXlzIiwibGFyZ2VTdGVwS2V5cyIsImVkZ2VLZXlzIiwiaW5SdWxlT3JkZXIiLCJvIiwicmV2ZXJzZSIsInZlcnRpY2FsS2V5cyIsImYiLCJwcm9wb3NhbCIsInVwd2FyZCIsImhhbmRsZU51bWJlcnMiLCJpc0xhcmdlVXAiLCJpc0xhcmdlRG93biIsImlzTWF4IiwiaXNVcCIsImlzTWluIiwicHJvcG9zYWxzIiwiZ2V0TmV4dFN0ZXBzRm9ySGFuZGxlIiwic2V0SGFuZGxlIiwibXVsdGlwbGllciIsInRyYW5zbGF0ZVJ1bGUiLCJ1cGRhdGVDb25uZWN0IiwiZmlyZUV2ZW50IiwiaW50ZXJ2YWwiLCJzdGVwcyIsInJlYWxTdGVwcyIsImZpcnN0Q2hpbGQiLCJyZW1vdmVFdmVudCIsImhpZ2giLCJuZXdQY3QiLCJwY3REaWZmZXJlbmNlIiwiaW5kZXhlcyIsImFkZE1hcmtpbmciLCJzcHJlYWQiLCJmaWx0ZXJGdW5jIiwidGFyZ2V0VG91Y2hlcyIsInZhbHVlU2l6ZUNsYXNzZXMiLCJmaW5kIiwiY2hhbmdlZFRvdWNoZXMiLCJtYXJrZXJTaXplQ2xhc3NlcyIsIm1hcmtlck5vcm1hbCIsIm1hcmtlclN1YiIsInZhbHVlT3JpZW50YXRpb25DbGFzc2VzIiwibWFya2VyT3JpZW50YXRpb25DbGFzc2VzIiwiY2xpZW50WCIsInBhZ2VPZmZzZXQiLCJzb3VyY2UiLCJjbGllbnRZIiwic2l6ZUNsYXNzZXMiLCJnZXRQYWdlT2Zmc2V0IiwiaGFuZGxlUG9zaXRpb24iLCJvZmZzZXQiLCJjYWxjUG9pbnRUb1BlcmNlbnRhZ2UiLCJub2RlIiwiZ2V0Q2xhc3NlcyIsImdldENsb3Nlc3RIYW5kbGUiLCJjbGlja2VkUG9zaXRpb24iLCJzbWFsbGVzdERpZmZlcmVuY2UiLCJpbm5lckhUTUwiLCJkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUiLCJyZW1vdmVQaXBzIiwiaXNDbG9zZXIiLCJncmlkIiwiZXZlbnRFbmQiLCJkYXRhIiwiZGVuc2l0eSIsImZpbHRlciIsImdyb3VwIiwib3JpZW50YXRpb25DbGFzc2VzIiwiYWRkU3ByZWFkIiwiZXZlbnRNb3ZlIiwiZ2VuZXJhdGVTcHJlYWQiLCJmaXJzdEluUmFuZ2UiLCJ1bnNoaWZ0IiwiaWdub3JlRmlyc3QiLCJsYXN0SW5SYW5nZSIsIm1ldGhvZCIsImN1cnJlbnQiLCJxIiwicGN0UG9zIiwiaGFzQ2xhc3MiLCJzdGVwU2l6ZSIsImxvdyIsImlzU3RlcHMiLCJwcmV2UGN0IiwibWV0aG9kcyIsImlnbm9yZUxhc3QiLCJjaGVja1RvdWNoIiwiZXZlbnRUYXJnZXQiLCJtb3ZlbWVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJtb3ZlSGFuZGxlcyIsImxvY2F0aW9ucyIsImFsdCIsImNhbGxiYWNrIiwic2NvcGVfRG9jdW1lbnRFbGVtZW50Iiwib3V0RXZlbnQiLCJ0b3VjaCIsImxpc3RlbmVycyIsImRvTm90UmVqZWN0IiwiYnV0dG9ucyIsInRvdWNoZXMiLCJpc1RvdWNoT25UYXJnZXQiLCJjb250YWlucyIsInNoYWRvd1Jvb3QiLCJldmVudFRhcCIsInBhZ2VYIiwicGFnZVkiLCJzdG9wUHJvcGFnYXRpb24iLCJ0YXJnZXRUb3VjaCIsInBvaW50ZXIiLCJldmVudFN0YXJ0IiwiZml4RXZlbnQiLCJjYWxjUG9pbnQiLCJwb2ludHMiLCJiYXNlU2l6ZSIsIm1vdmVFdmVudCIsImF0dGFjaEV2ZW50IiwiZXZlbnROYW1lIiwicGFzc2l2ZSIsImV2ZW50SG92ZXIiLCJkb2NFbGVtIiwidXNlckFnZW50IiwidG9wIiwiY2xpZW50VG9wIiwibGVmdCIsImNsaWVudExlZnQiLCJyZWxhdGVkVGFyZ2V0IiwiYXBwVmVyc2lvbiIsImJ1dHRvbnNQcm9wZXJ0eSIsInN0YXJ0Q2FsY1BvaW50IiwiYyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjdXJzb3IiLCJzb21lIiwiZXZlbnRIb2xkZXJzIiwiaGFuZGxlQmVmb3JlIiwiZW5kRXZlbnQiLCJuYW1lc3BhY2VkRXZlbnQiLCJkb2N1bWVudExlYXZlIiwiY29uY2F0IiwidE5hbWVzcGFjZSIsImdldENvbXB1dGVkU3R5bGUiLCJuYW1lc3BhY2UiLCJjaGVja0hhbmRsZVBvc2l0aW9uIiwibG9va0ZvcndhcmQiLCJzZXRaaW5kZXgiLCJsb29rQmFja3dhcmQiLCJkaXN0YW5jZSIsInRhcmdldEV2ZW50IiwidmFsdWVTZXQiLCJpbnB1dCIsImZpcmVTZXRFdmVudCIsImV4YWN0SW5wdXQiLCJpc0luaXQiLCJiaW5kIiwidEV2ZW50Iiwic3Vic3RyaW5nIiwicmVzb2x2ZVRvVmFsdWUiLCJldmVudFR5cGUiLCJnZXRWYWx1ZSIsIm5vVWlTbGlkZXIiLCJpbmNyZW1lbnQiLCJsb2NhdGlvbiIsIm5lYXJieVN0ZXBzIiwidiIsImRlY3JlbWVudCIsImdldE5leHRTdGVwcyIsInVwZGF0ZUFibGUiLCJzdGF0ZSIsIm9wdGlvbnNUb1VwZGF0ZSIsIm5ld09wdGlvbnMiLCJ0cmFuc2Zvcm1EaXJlY3Rpb24iLCJ6SW5kZXgiLCJ2YWx1ZUdldCIsInVwZGF0ZU9wdGlvbnMiLCJnZXRPcmlnaW5zIiwiY29ubmVjdFdpZHRoIiwiaCIsImwiLCJzY2FsZVJ1bGUiLCJpbml0aWFsaXplIiwib3JpZ2luYWxQb3NpdGlvbnMiLCJkYU1hdGNoTWVkaWEiLCJkYUVsZW1lbnQiLCJwYXJlbnROb2RlIiwiaW5kZXhJblBhcmVudCIsImRhRWxlbWVudHNBcnJheSIsIm51bWJlciIsImRhUGxhY2UiLCJkYVR5cGUiLCJzdGVwQWZ0ZXIiLCJkeW5hbWljQWRhcHRTb3J0IiwiZHluYW1pY0FkYXB0IiwiZGFCcmVha3BvaW50IiwiZGFDbGFzc25hbWUiLCJhY3R1YWxJbmRleCIsImluZGV4T2ZFbGVtZW50cyIsImRhRGVzdGluYXRpb24iLCJpbnNlcnRCZWZvcmUiLCJob3Jpem9udGFsIiwidGV4dERpcmVjdGlvblJ0bCIsImNvbm5lY3RPcHRpb25zIiwicXVlcnlTZWxlY3RvciIsImhhbmRsZUFmdGVyIiwiZXZlbnRIb2xkZXIiLCJ0b2dnbGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiUElQU19OT19WQUxVRSIsInBvcHVwT3BlbiIsImN1cnJlbnRQb3B1cCIsImRhRWxlbWVudHMiLCJkYU1vdmUiLCJkYUFycmF5Iiwib2ZmIiwicmVzZXQiLCJfX21vdmVIYW5kbGVzIiwicG9wdXBDbG9zZUljb24iLCJkeW5hbWljQWRhcHRCYWNrIiwiZGFJbmRleCIsIm9yaWdpbmFsUGxhY2UiLCJwYXJlbnRQbGFjZSIsImluZGV4UGxhY2UiLCJvcmlnaW5hbE9wdGlvbnMiLCJiYWNrIiwiY2hpbGRyZW5BcnJheSIsInBvcHVwQ2xvc2UiLCJ1bmxvY2siLCJfX3NwZWN0cnVtIiwidmVyc2lvbiIsImRvVW5sb2NrIiwiY3JlYXRlIiwicG9wdXBBY3RpdmUiLCJhcGkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwic2xpZGVyTm9VaSIsInBhZGRpbmdSaWdodCIsImRvY3VtZW50Qm9keSIsIkVsZW1lbnQiLCJjb250ZW50IiwiZ2V0QXR0cmlidXRlIiwidHJpbSIsInBhcmVudCIsImRlc3RpbmF0aW9uIiwicGxhY2UiLCJicmVha3BvaW50IiwibWF0Y2hNZWRpYSIsImFkZExpc3RlbmVyIiwibWF0Y2hlcyIsImNoaWxkcmVuRWxlbWVudCIsImJ1cmdlciIsIm1lbnUiLCJvbmNsaWNrIiwicG9wdXBMaW5rcyIsImxvY2tQYWRkaW5nIiwiX2xvb3AiLCJwb3B1cExpbmsiLCJwb3B1cE5hbWUiLCJsb2NrUGFkZGluZ1ZhbHVlIiwiaW5uZXJXaWR0aCIsIm9mZnNldFdpZHRoIiwiYm9keUxvY2siLCJnZXRFbGVtZW50QnlJZCIsIl9sb29wMiIsImFyZ3VtZW50cyIsImJvZHlVbkxvY2siLCJjc3MiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsImNhdGFsb2dMaW5rIiwiY29uc29sZSIsImxvZyIsInRhYnNUaXRsZXMiLCJ0aXRsZSIsImlkIiwiYWN0aXZlVGl0bGUiLCJhY3RpdmVDb250ZW50Il0sIm1hcHBpbmdzIjoiOFBBQUFBLE9BQU9DLGlCQUFpQixRQUFRLFdBMHNCeEIsSUFBSUMsR0FqckJYLFNBQVVGLEVBQVFHLEVBQVVDLEdBQzNCLElBQUlDLEVBQVUsR0FHVkMsRUFBUSxHQVdSQyxFQUFpQixDQUNuQkMsU0FBQSxRQUtBQyxRQUFPLENB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LmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbi8qIVxuICogbW9kZXJuaXpyIHYzLjYuMFxuICogQnVpbGQgaHR0cHM6Ly9tb2Rlcm5penIuY29tL2Rvd25sb2FkPy13ZWJwLXNldGNsYXNzZXMtZG9udG1pblxuICpcbiAqIENvcHlyaWdodCAoYylcbiAqICBGYXJ1ayBBdGVzXG4gKiAgUGF1bCBJcmlzaFxuICogIEFsZXggU2V4dG9uXG4gKiAgUnlhbiBTZWRkb25cbiAqICBQYXRyaWNrIEtldHRuZXJcbiAqICBTdHUgQ294XG4gKiAgUmljaGFyZCBIZXJyZXJhXG5cbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuLypcbiAqIE1vZGVybml6ciB0ZXN0cyB3aGljaCBuYXRpdmUgQ1NTMyBhbmQgSFRNTDUgZmVhdHVyZXMgYXJlIGF2YWlsYWJsZSBpbiB0aGVcbiAqIGN1cnJlbnQgVUEgYW5kIG1ha2VzIHRoZSByZXN1bHRzIGF2YWlsYWJsZSB0byB5b3UgaW4gdHdvIHdheXM6IGFzIHByb3BlcnRpZXMgb25cbiAqIGEgZ2xvYmFsIGBNb2Rlcm5penJgIG9iamVjdCwgYW5kIGFzIGNsYXNzZXMgb24gdGhlIGA8aHRtbD5gIGVsZW1lbnQuIFRoaXNcbiAqIGluZm9ybWF0aW9uIGFsbG93cyB5b3UgdG8gcHJvZ3Jlc3NpdmVseSBlbmhhbmNlIHlvdXIgcGFnZXMgd2l0aCBhIGdyYW51bGFyIGxldmVsXG4gKiBvZiBjb250cm9sIG92ZXIgdGhlIGV4cGVyaWVuY2UuXG4qL1xuXG47KGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCl7XG4gIHZhciBjbGFzc2VzID0gW107XG4gIFxuXG4gIHZhciB0ZXN0cyA9IFtdO1xuICBcblxuICAvKipcbiAgICpcbiAgICogTW9kZXJuaXpyUHJvdG8gaXMgdGhlIGNvbnN0cnVjdG9yIGZvciBNb2Rlcm5penJcbiAgICpcbiAgICogQGNsYXNzXG4gICAqIEBhY2Nlc3MgcHVibGljXG4gICAqL1xuXG4gIHZhciBNb2Rlcm5penJQcm90byA9IHtcbiAgICAvLyBUaGUgY3VycmVudCB2ZXJzaW9uLCBkdW1teVxuICAgIF92ZXJzaW9uOiAnMy42LjAnLFxuXG4gICAgLy8gQW55IHNldHRpbmdzIHRoYXQgZG9uJ3Qgd29yayBhcyBzZXBhcmF0ZSBtb2R1bGVzXG4gICAgLy8gY2FuIGdvIGluIGhlcmUgYXMgY29uZmlndXJhdGlvbi5cbiAgICBfY29uZmlnOiB7XG4gICAgICAnY2xhc3NQcmVmaXgnOiAnJyxcbiAgICAgICdlbmFibGVDbGFzc2VzJzogdHJ1ZSxcbiAgICAgICdlbmFibGVKU0NsYXNzJzogdHJ1ZSxcbiAgICAgICd1c2VQcmVmaXhlcyc6IHRydWVcbiAgICB9LFxuXG4gICAgLy8gUXVldWUgb2YgdGVzdHNcbiAgICBfcTogW10sXG5cbiAgICAvLyBTdHViIHRoZXNlIGZvciBwZW9wbGUgd2hvIGFyZSBsaXN0ZW5pbmdcbiAgICBvbjogZnVuY3Rpb24odGVzdCwgY2IpIHtcbiAgICAgIC8vIEkgZG9uJ3QgcmVhbGx5IHRoaW5rIHBlb3BsZSBzaG91bGQgZG8gdGhpcywgYnV0IHdlIGNhblxuICAgICAgLy8gc2FmZSBndWFyZCBpdCBhIGJpdC5cbiAgICAgIC8vIC0tIE5PVEU6OiB0aGlzIGdldHMgV0FZIG92ZXJyaWRkZW4gaW4gc3JjL2FkZFRlc3QgZm9yIGFjdHVhbCBhc3luYyB0ZXN0cy5cbiAgICAgIC8vIFRoaXMgaXMgaW4gY2FzZSBwZW9wbGUgbGlzdGVuIHRvIHN5bmNocm9ub3VzIHRlc3RzLiBJIHdvdWxkIGxlYXZlIGl0IG91dCxcbiAgICAgIC8vIGJ1dCB0aGUgY29kZSB0byAqZGlzYWxsb3cqIHN5bmMgdGVzdHMgaW4gdGhlIHJlYWwgdmVyc2lvbiBvZiB0aGlzXG4gICAgICAvLyBmdW5jdGlvbiBpcyBhY3R1YWxseSBsYXJnZXIgdGhhbiB0aGlzLlxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgY2Ioc2VsZlt0ZXN0XSk7XG4gICAgICB9LCAwKTtcbiAgICB9LFxuXG4gICAgYWRkVGVzdDogZnVuY3Rpb24obmFtZSwgZm4sIG9wdGlvbnMpIHtcbiAgICAgIHRlc3RzLnB1c2goe25hbWU6IG5hbWUsIGZuOiBmbiwgb3B0aW9uczogb3B0aW9uc30pO1xuICAgIH0sXG5cbiAgICBhZGRBc3luY1Rlc3Q6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICB0ZXN0cy5wdXNoKHtuYW1lOiBudWxsLCBmbjogZm59KTtcbiAgICB9XG4gIH07XG5cbiAgXG5cbiAgLy8gRmFrZSBzb21lIG9mIE9iamVjdC5jcmVhdGUgc28gd2UgY2FuIGZvcmNlIG5vbiB0ZXN0IHJlc3VsdHMgdG8gYmUgbm9uIFwib3duXCIgcHJvcGVydGllcy5cbiAgdmFyIE1vZGVybml6ciA9IGZ1bmN0aW9uKCkge307XG4gIE1vZGVybml6ci5wcm90b3R5cGUgPSBNb2Rlcm5penJQcm90bztcblxuICAvLyBMZWFrIG1vZGVybml6ciBnbG9iYWxseSB3aGVuIHlvdSBgcmVxdWlyZWAgaXQgcmF0aGVyIHRoYW4gZm9yY2UgaXQgaGVyZS5cbiAgLy8gT3ZlcndyaXRlIG5hbWUgc28gY29uc3RydWN0b3IgbmFtZSBpcyBuaWNlciA6RFxuICBNb2Rlcm5penIgPSBuZXcgTW9kZXJuaXpyKCk7XG5cbiAgXG5cbiAgLyoqXG4gICAqIGlzIHJldHVybnMgYSBib29sZWFuIGlmIHRoZSB0eXBlb2YgYW4gb2JqIGlzIGV4YWN0bHkgdHlwZS5cbiAgICpcbiAgICogQGFjY2VzcyBwcml2YXRlXG4gICAqIEBmdW5jdGlvbiBpc1xuICAgKiBAcGFyYW0geyp9IG9iaiAtIEEgdGhpbmcgd2Ugd2FudCB0byBjaGVjayB0aGUgdHlwZSBvZlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIEEgc3RyaW5nIHRvIGNvbXBhcmUgdGhlIHR5cGVvZiBhZ2FpbnN0XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cblxuICBmdW5jdGlvbiBpcyhvYmosIHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gdHlwZTtcbiAgfVxuICA7XG5cbiAgLyoqXG4gICAqIFJ1biB0aHJvdWdoIGFsbCB0ZXN0cyBhbmQgZGV0ZWN0IHRoZWlyIHN1cHBvcnQgaW4gdGhlIGN1cnJlbnQgVUEuXG4gICAqXG4gICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgKi9cblxuICBmdW5jdGlvbiB0ZXN0UnVubmVyKCkge1xuICAgIHZhciBmZWF0dXJlTmFtZXM7XG4gICAgdmFyIGZlYXR1cmU7XG4gICAgdmFyIGFsaWFzSWR4O1xuICAgIHZhciByZXN1bHQ7XG4gICAgdmFyIG5hbWVJZHg7XG4gICAgdmFyIGZlYXR1cmVOYW1lO1xuICAgIHZhciBmZWF0dXJlTmFtZVNwbGl0O1xuXG4gICAgZm9yICh2YXIgZmVhdHVyZUlkeCBpbiB0ZXN0cykge1xuICAgICAgaWYgKHRlc3RzLmhhc093blByb3BlcnR5KGZlYXR1cmVJZHgpKSB7XG4gICAgICAgIGZlYXR1cmVOYW1lcyA9IFtdO1xuICAgICAgICBmZWF0dXJlID0gdGVzdHNbZmVhdHVyZUlkeF07XG4gICAgICAgIC8vIHJ1biB0aGUgdGVzdCwgdGhyb3cgdGhlIHJldHVybiB2YWx1ZSBpbnRvIHRoZSBNb2Rlcm5penIsXG4gICAgICAgIC8vIHRoZW4gYmFzZWQgb24gdGhhdCBib29sZWFuLCBkZWZpbmUgYW4gYXBwcm9wcmlhdGUgY2xhc3NOYW1lXG4gICAgICAgIC8vIGFuZCBwdXNoIGl0IGludG8gYW4gYXJyYXkgb2YgY2xhc3NlcyB3ZSdsbCBqb2luIGxhdGVyLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBuYW1lLCBpdCdzIGFuICdhc3luYycgdGVzdCB0aGF0IGlzIHJ1bixcbiAgICAgICAgLy8gYnV0IG5vdCBkaXJlY3RseSBhZGRlZCB0byB0aGUgb2JqZWN0LiBUaGF0IHNob3VsZFxuICAgICAgICAvLyBiZSBkb25lIHdpdGggYSBwb3N0LXJ1biBhZGRUZXN0IGNhbGwuXG4gICAgICAgIGlmIChmZWF0dXJlLm5hbWUpIHtcbiAgICAgICAgICBmZWF0dXJlTmFtZXMucHVzaChmZWF0dXJlLm5hbWUudG9Mb3dlckNhc2UoKSk7XG5cbiAgICAgICAgICBpZiAoZmVhdHVyZS5vcHRpb25zICYmIGZlYXR1cmUub3B0aW9ucy5hbGlhc2VzICYmIGZlYXR1cmUub3B0aW9ucy5hbGlhc2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gQWRkIGFsbCB0aGUgYWxpYXNlcyBpbnRvIHRoZSBuYW1lcyBsaXN0XG4gICAgICAgICAgICBmb3IgKGFsaWFzSWR4ID0gMDsgYWxpYXNJZHggPCBmZWF0dXJlLm9wdGlvbnMuYWxpYXNlcy5sZW5ndGg7IGFsaWFzSWR4KyspIHtcbiAgICAgICAgICAgICAgZmVhdHVyZU5hbWVzLnB1c2goZmVhdHVyZS5vcHRpb25zLmFsaWFzZXNbYWxpYXNJZHhdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGUgdGVzdCwgb3IgdXNlIHRoZSByYXcgdmFsdWUgaWYgaXQncyBub3QgYSBmdW5jdGlvblxuICAgICAgICByZXN1bHQgPSBpcyhmZWF0dXJlLmZuLCAnZnVuY3Rpb24nKSA/IGZlYXR1cmUuZm4oKSA6IGZlYXR1cmUuZm47XG5cblxuICAgICAgICAvLyBTZXQgZWFjaCBvZiB0aGUgbmFtZXMgb24gdGhlIE1vZGVybml6ciBvYmplY3RcbiAgICAgICAgZm9yIChuYW1lSWR4ID0gMDsgbmFtZUlkeCA8IGZlYXR1cmVOYW1lcy5sZW5ndGg7IG5hbWVJZHgrKykge1xuICAgICAgICAgIGZlYXR1cmVOYW1lID0gZmVhdHVyZU5hbWVzW25hbWVJZHhdO1xuICAgICAgICAgIC8vIFN1cHBvcnQgZG90IHByb3BlcnRpZXMgYXMgc3ViIHRlc3RzLiBXZSBkb24ndCBkbyBjaGVja2luZyB0byBtYWtlIHN1cmVcbiAgICAgICAgICAvLyB0aGF0IHRoZSBpbXBsaWVkIHBhcmVudCB0ZXN0cyBoYXZlIGJlZW4gYWRkZWQuIFlvdSBtdXN0IGNhbGwgdGhlbSBpblxuICAgICAgICAgIC8vIG9yZGVyIChlaXRoZXIgaW4gdGhlIHRlc3QsIG9yIG1ha2UgdGhlIHBhcmVudCB0ZXN0IGEgZGVwZW5kZW5jeSkuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBDYXAgaXQgdG8gVFdPIHRvIG1ha2UgdGhlIGxvZ2ljIHNpbXBsZSBhbmQgYmVjYXVzZSB3aG8gbmVlZHMgdGhhdCBraW5kIG9mIHN1YnRlc3RpbmdcbiAgICAgICAgICAvLyBoYXNodGFnIGZhbW91cyBsYXN0IHdvcmRzXG4gICAgICAgICAgZmVhdHVyZU5hbWVTcGxpdCA9IGZlYXR1cmVOYW1lLnNwbGl0KCcuJyk7XG5cbiAgICAgICAgICBpZiAoZmVhdHVyZU5hbWVTcGxpdC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIE1vZGVybml6cltmZWF0dXJlTmFtZVNwbGl0WzBdXSA9IHJlc3VsdDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY2FzdCB0byBhIEJvb2xlYW4sIGlmIG5vdCBvbmUgYWxyZWFkeVxuICAgICAgICAgICAgaWYgKE1vZGVybml6cltmZWF0dXJlTmFtZVNwbGl0WzBdXSAmJiAhKE1vZGVybml6cltmZWF0dXJlTmFtZVNwbGl0WzBdXSBpbnN0YW5jZW9mIEJvb2xlYW4pKSB7XG4gICAgICAgICAgICAgIE1vZGVybml6cltmZWF0dXJlTmFtZVNwbGl0WzBdXSA9IG5ldyBCb29sZWFuKE1vZGVybml6cltmZWF0dXJlTmFtZVNwbGl0WzBdXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE1vZGVybml6cltmZWF0dXJlTmFtZVNwbGl0WzBdXVtmZWF0dXJlTmFtZVNwbGl0WzFdXSA9IHJlc3VsdDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjbGFzc2VzLnB1c2goKHJlc3VsdCA/ICcnIDogJ25vLScpICsgZmVhdHVyZU5hbWVTcGxpdC5qb2luKCctJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIDtcblxuICAvKipcbiAgICogZG9jRWxlbWVudCBpcyBhIGNvbnZlbmllbmNlIHdyYXBwZXIgdG8gZ3JhYiB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBkb2N1bWVudFxuICAgKlxuICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fFNWR0VsZW1lbnR9IFRoZSByb290IGVsZW1lbnQgb2YgdGhlIGRvY3VtZW50XG4gICAqL1xuXG4gIHZhciBkb2NFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICBcblxuICAvKipcbiAgICogQSBjb252ZW5pZW5jZSBoZWxwZXIgdG8gY2hlY2sgaWYgdGhlIGRvY3VtZW50IHdlIGFyZSBydW5uaW5nIGluIGlzIGFuIFNWRyBkb2N1bWVudFxuICAgKlxuICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuXG4gIHZhciBpc1NWRyA9IGRvY0VsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N2Zyc7XG4gIFxuXG4gIC8qKlxuICAgKiBzZXRDbGFzc2VzIHRha2VzIGFuIGFycmF5IG9mIGNsYXNzIG5hbWVzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIHJvb3QgZWxlbWVudFxuICAgKlxuICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICogQGZ1bmN0aW9uIHNldENsYXNzZXNcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gY2xhc3NlcyAtIEFycmF5IG9mIGNsYXNzIG5hbWVzXG4gICAqL1xuXG4gIC8vIFBhc3MgaW4gYW4gYW5kIGFycmF5IG9mIGNsYXNzIG5hbWVzLCBlLmcuOlxuICAvLyAgWyduby13ZWJwJywgJ2JvcmRlcnJhZGl1cycsIC4uLl1cbiAgZnVuY3Rpb24gc2V0Q2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGRvY0VsZW1lbnQuY2xhc3NOYW1lO1xuICAgIHZhciBjbGFzc1ByZWZpeCA9IE1vZGVybml6ci5fY29uZmlnLmNsYXNzUHJlZml4IHx8ICcnO1xuXG4gICAgaWYgKGlzU1ZHKSB7XG4gICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuYmFzZVZhbDtcbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgYG5vLWpzYCB0byBganNgIChpbmRlcGVuZGVudGx5IG9mIHRoZSBgZW5hYmxlQ2xhc3Nlc2Agb3B0aW9uKVxuICAgIC8vIEhhbmRsZSBjbGFzc1ByZWZpeCBvbiB0aGlzIHRvb1xuICAgIGlmIChNb2Rlcm5penIuX2NvbmZpZy5lbmFibGVKU0NsYXNzKSB7XG4gICAgICB2YXIgcmVKUyA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBjbGFzc1ByZWZpeCArICduby1qcyhcXFxcc3wkKScpO1xuICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnJlcGxhY2UocmVKUywgJyQxJyArIGNsYXNzUHJlZml4ICsgJ2pzJDInKTtcbiAgICB9XG5cbiAgICBpZiAoTW9kZXJuaXpyLl9jb25maWcuZW5hYmxlQ2xhc3Nlcykge1xuICAgICAgLy8gQWRkIHRoZSBuZXcgY2xhc3Nlc1xuICAgICAgY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzUHJlZml4ICsgY2xhc3Nlcy5qb2luKCcgJyArIGNsYXNzUHJlZml4KTtcbiAgICAgIGlmIChpc1NWRykge1xuICAgICAgICBkb2NFbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsID0gY2xhc3NOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jRWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICA7XG5cbiAgLyoqXG4gICAqIGhhc093blByb3AgaXMgYSBzaGltIGZvciBoYXNPd25Qcm9wZXJ0eSB0aGF0IGlzIG5lZWRlZCBmb3IgU2FmYXJpIDIuMCBzdXBwb3J0XG4gICAqXG4gICAqIEBhdXRob3Iga2FuZ2F4XG4gICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgKiBAZnVuY3Rpb24gaGFzT3duUHJvcFxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byBjaGVjayBmb3IgYSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgLSBUaGUgcHJvcGVydHkgdG8gY2hlY2sgZm9yXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cblxuICAvLyBoYXNPd25Qcm9wZXJ0eSBzaGltIGJ5IGthbmdheCBuZWVkZWQgZm9yIFNhZmFyaSAyLjAgc3VwcG9ydFxuICB2YXIgaGFzT3duUHJvcDtcblxuICAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIF9oYXNPd25Qcm9wZXJ0eSA9ICh7fSkuaGFzT3duUHJvcGVydHk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAvKiB3ZSBoYXZlIG5vIHdheSBvZiB0ZXN0aW5nIElFIDUuNSBvciBzYWZhcmkgMixcbiAgICAgKiBzbyBqdXN0IGFzc3VtZSB0aGUgZWxzZSBnZXRzIGhpdCAqL1xuICAgIGlmICghaXMoX2hhc093blByb3BlcnR5LCAndW5kZWZpbmVkJykgJiYgIWlzKF9oYXNPd25Qcm9wZXJ0eS5jYWxsLCAndW5kZWZpbmVkJykpIHtcbiAgICAgIGhhc093blByb3AgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiBfaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGFzT3duUHJvcCA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgLyogeWVzLCB0aGlzIGNhbiBnaXZlIGZhbHNlIHBvc2l0aXZlcy9uZWdhdGl2ZXMsIGJ1dCBtb3N0IG9mIHRoZSB0aW1lIHdlIGRvbid0IGNhcmUgYWJvdXQgdGhvc2UgKi9cbiAgICAgICAgcmV0dXJuICgocHJvcGVydHkgaW4gb2JqZWN0KSAmJiBpcyhvYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlW3Byb3BlcnR5XSwgJ3VuZGVmaW5lZCcpKTtcbiAgICAgIH07XG4gICAgfVxuICB9KSgpO1xuXG4gIFxuXG5cbiAgIC8vIF9sIHRyYWNrcyBsaXN0ZW5lcnMgZm9yIGFzeW5jIHRlc3RzLCBhcyB3ZWxsIGFzIHRlc3RzIHRoYXQgZXhlY3V0ZSBhZnRlciB0aGUgaW5pdGlhbCBydW5cbiAgTW9kZXJuaXpyUHJvdG8uX2wgPSB7fTtcblxuICAvKipcbiAgICogTW9kZXJuaXpyLm9uIGlzIGEgd2F5IHRvIGxpc3RlbiBmb3IgdGhlIGNvbXBsZXRpb24gb2YgYXN5bmMgdGVzdHMuIEJlaW5nXG4gICAqIGFzeW5jaHJvbm91cywgdGhleSBtYXkgbm90IGZpbmlzaCBiZWZvcmUgeW91ciBzY3JpcHRzIHJ1bi4gQXMgYSByZXN1bHQgeW91XG4gICAqIHdpbGwgZ2V0IGEgcG9zc2libHkgZmFsc2UgbmVnYXRpdmUgYHVuZGVmaW5lZGAgdmFsdWUuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBNb2Rlcm5penJcbiAgICogQG5hbWUgTW9kZXJuaXpyLm9uXG4gICAqIEBhY2Nlc3MgcHVibGljXG4gICAqIEBmdW5jdGlvbiBvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZSAtIFN0cmluZyBuYW1lIG9mIHRoZSBmZWF0dXJlIGRldGVjdFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrIGZ1bmN0aW9uIHJldHVybmluZyBhIEJvb2xlYW4gLSB0cnVlIGlmIGZlYXR1cmUgaXMgc3VwcG9ydGVkLCBmYWxzZSBpZiBub3RcbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogYGBganNcbiAgICogTW9kZXJuaXpyLm9uKCdmbGFzaCcsIGZ1bmN0aW9uKCByZXN1bHQgKSB7XG4gICAqICAgaWYgKHJlc3VsdCkge1xuICAgKiAgICAvLyB0aGUgYnJvd3NlciBoYXMgZmxhc2hcbiAgICogICB9IGVsc2Uge1xuICAgKiAgICAgLy8gdGhlIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBmbGFzaFxuICAgKiAgIH1cbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cblxuICBNb2Rlcm5penJQcm90by5vbiA9IGZ1bmN0aW9uKGZlYXR1cmUsIGNiKSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBsaXN0IG9mIGxpc3RlbmVycyBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgaWYgKCF0aGlzLl9sW2ZlYXR1cmVdKSB7XG4gICAgICB0aGlzLl9sW2ZlYXR1cmVdID0gW107XG4gICAgfVxuXG4gICAgLy8gUHVzaCB0aGlzIHRlc3Qgb24gdG8gdGhlIGxpc3RlbmVyIGxpc3RcbiAgICB0aGlzLl9sW2ZlYXR1cmVdLnB1c2goY2IpO1xuXG4gICAgLy8gSWYgaXQncyBhbHJlYWR5IGJlZW4gcmVzb2x2ZWQsIHRyaWdnZXIgaXQgb24gbmV4dCB0aWNrXG4gICAgaWYgKE1vZGVybml6ci5oYXNPd25Qcm9wZXJ0eShmZWF0dXJlKSkge1xuICAgICAgLy8gTmV4dCBUaWNrXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBNb2Rlcm5penIuX3RyaWdnZXIoZmVhdHVyZSwgTW9kZXJuaXpyW2ZlYXR1cmVdKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogX3RyaWdnZXIgaXMgdGhlIHByaXZhdGUgZnVuY3Rpb24gdXNlZCB0byBzaWduYWwgdGVzdCBjb21wbGV0aW9uIGFuZCBydW4gYW55XG4gICAqIGNhbGxiYWNrcyByZWdpc3RlcmVkIHRocm91Z2ggW01vZGVybml6ci5vbl0oI21vZGVybml6ci1vbilcbiAgICpcbiAgICogQG1lbWJlcm9mIE1vZGVybml6clxuICAgKiBAbmFtZSBNb2Rlcm5penIuX3RyaWdnZXJcbiAgICogQGFjY2VzcyBwcml2YXRlXG4gICAqIEBmdW5jdGlvbiBfdHJpZ2dlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmVhdHVyZSAtIHN0cmluZyBuYW1lIG9mIHRoZSBmZWF0dXJlIGRldGVjdFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufGJvb2xlYW59IFtyZXNdIC0gQSBmZWF0dXJlIGRldGVjdGlvbiBmdW5jdGlvbiwgb3IgdGhlIGJvb2xlYW4gPVxuICAgKiByZXN1bHQgb2YgYSBmZWF0dXJlIGRldGVjdGlvbiBmdW5jdGlvblxuICAgKi9cblxuICBNb2Rlcm5penJQcm90by5fdHJpZ2dlciA9IGZ1bmN0aW9uKGZlYXR1cmUsIHJlcykge1xuICAgIGlmICghdGhpcy5fbFtmZWF0dXJlXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjYnMgPSB0aGlzLl9sW2ZlYXR1cmVdO1xuXG4gICAgLy8gRm9yY2UgYXN5bmNcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGksIGNiO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYiA9IGNic1tpXTtcbiAgICAgICAgY2IocmVzKTtcbiAgICAgIH1cbiAgICB9LCAwKTtcblxuICAgIC8vIERvbid0IHRyaWdnZXIgdGhlc2UgYWdhaW5cbiAgICBkZWxldGUgdGhpcy5fbFtmZWF0dXJlXTtcbiAgfTtcblxuICAvKipcbiAgICogYWRkVGVzdCBhbGxvd3MgeW91IHRvIGRlZmluZSB5b3VyIG93biBmZWF0dXJlIGRldGVjdHMgdGhhdCBhcmUgbm90IGN1cnJlbnRseVxuICAgKiBpbmNsdWRlZCBpbiBNb2Rlcm5penIgKHVuZGVyIHRoZSBjb3ZlcnMgaXQncyB0aGUgZXhhY3Qgc2FtZSBjb2RlIE1vZGVybml6clxuICAgKiB1c2VzIGZvciBpdHMgb3duIFtmZWF0dXJlIGRldGVjdGlvbnNdKGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL3RyZWUvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cykpLiBKdXN0IGxpa2UgdGhlIG9mZmljYWwgZGV0ZWN0cywgdGhlIHJlc3VsdFxuICAgKiB3aWxsIGJlIGFkZGVkIG9udG8gdGhlIE1vZGVybml6ciBvYmplY3QsIGFzIHdlbGwgYXMgYW4gYXBwcm9wcmlhdGUgY2xhc3NOYW1lIHNldCBvblxuICAgKiB0aGUgaHRtbCBlbGVtZW50IHdoZW4gY29uZmlndXJlZCB0byBkbyBzb1xuICAgKlxuICAgKiBAbWVtYmVyb2YgTW9kZXJuaXpyXG4gICAqIEBuYW1lIE1vZGVybml6ci5hZGRUZXN0XG4gICAqIEBvcHRpb25OYW1lIE1vZGVybml6ci5hZGRUZXN0KClcbiAgICogQG9wdGlvblByb3AgYWRkVGVzdFxuICAgKiBAYWNjZXNzIHB1YmxpY1xuICAgKiBAZnVuY3Rpb24gYWRkVGVzdFxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IGZlYXR1cmUgLSBUaGUgc3RyaW5nIG5hbWUgb2YgdGhlIGZlYXR1cmUgZGV0ZWN0LCBvciBhblxuICAgKiBvYmplY3Qgb2YgZmVhdHVyZSBkZXRlY3QgbmFtZXMgYW5kIHRlc3RcbiAgICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFufSB0ZXN0IC0gRnVuY3Rpb24gcmV0dXJuaW5nIHRydWUgaWYgZmVhdHVyZSBpcyBzdXBwb3J0ZWQsXG4gICAqIGZhbHNlIGlmIG5vdC4gT3RoZXJ3aXNlIGEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdHMgb2YgYSBmZWF0dXJlIGRldGVjdGlvblxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBUaGUgbW9zdCBjb21tb24gd2F5IG9mIGNyZWF0aW5nIHlvdXIgb3duIGZlYXR1cmUgZGV0ZWN0cyBpcyBieSBjYWxsaW5nXG4gICAqIGBNb2Rlcm5penIuYWRkVGVzdGAgd2l0aCBhIHN0cmluZyAocHJlZmVyYWJseSBqdXN0IGxvd2VyY2FzZSwgd2l0aG91dCBhbnlcbiAgICogcHVuY3R1YXRpb24pLCBhbmQgYSBmdW5jdGlvbiB5b3Ugd2FudCBleGVjdXRlZCB0aGF0IHdpbGwgcmV0dXJuIGEgYm9vbGVhbiByZXN1bHRcbiAgICpcbiAgICogYGBganNcbiAgICogTW9kZXJuaXpyLmFkZFRlc3QoJ2l0c1R1ZXNkYXknLCBmdW5jdGlvbigpIHtcbiAgICogIHZhciBkID0gbmV3IERhdGUoKTtcbiAgICogIHJldHVybiBkLmdldERheSgpID09PSAyO1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIFdoZW4gdGhlIGFib3ZlIGlzIHJ1biwgaXQgd2lsbCBzZXQgTW9kZXJuaXpyLml0c3R1ZXNkYXkgdG8gYHRydWVgIHdoZW4gaXQgaXMgdHVlc2RheSxcbiAgICogYW5kIHRvIGBmYWxzZWAgZXZlcnkgb3RoZXIgZGF5IG9mIHRoZSB3ZWVrLiBPbmUgdGhpbmcgdG8gbm90aWNlIGlzIHRoYXQgdGhlIG5hbWVzIG9mXG4gICAqIGZlYXR1cmUgZGV0ZWN0IGZ1bmN0aW9ucyBhcmUgYWx3YXlzIGxvd2VyY2FzZWQgd2hlbiBhZGRlZCB0byB0aGUgTW9kZXJuaXpyIG9iamVjdC4gVGhhdFxuICAgKiBtZWFucyB0aGF0IGBNb2Rlcm5penIuaXRzVHVlc2RheWAgd2lsbCBub3QgZXhpc3QsIGJ1dCBgTW9kZXJuaXpyLml0c3R1ZXNkYXlgIHdpbGwuXG4gICAqXG4gICAqXG4gICAqICBTaW5jZSB3ZSBvbmx5IGxvb2sgYXQgdGhlIHJldHVybmVkIHZhbHVlIGZyb20gYW55IGZlYXR1cmUgZGV0ZWN0aW9uIGZ1bmN0aW9uLFxuICAgKiAgeW91IGRvIG5vdCBuZWVkIHRvIGFjdHVhbGx5IHVzZSBhIGZ1bmN0aW9uLiBGb3Igc2ltcGxlIGRldGVjdGlvbnMsIGp1c3QgcGFzc2luZ1xuICAgKiAgaW4gYSBzdGF0ZW1lbnQgdGhhdCB3aWxsIHJldHVybiBhIGJvb2xlYW4gdmFsdWUgd29ya3MganVzdCBmaW5lLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBNb2Rlcm5penIuYWRkVGVzdCgnaGFzSnF1ZXJ5JywgJ2pRdWVyeScgaW4gd2luZG93KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEp1c3QgbGlrZSBiZWZvcmUsIHdoZW4gdGhlIGFib3ZlIHJ1bnMgYE1vZGVybml6ci5oYXNqcXVlcnlgIHdpbGwgYmUgdHJ1ZSBpZlxuICAgKiBqUXVlcnkgaGFzIGJlZW4gaW5jbHVkZWQgb24gdGhlIHBhZ2UuIE5vdCB1c2luZyBhIGZ1bmN0aW9uIHNhdmVzIGEgc21hbGwgYW1vdW50XG4gICAqIG9mIG92ZXJoZWFkIGZvciB0aGUgYnJvd3NlciwgYXMgd2VsbCBhcyBtYWtpbmcgeW91ciBjb2RlIG11Y2ggbW9yZSByZWFkYWJsZS5cbiAgICpcbiAgICogRmluYWxseSwgeW91IGFsc28gaGF2ZSB0aGUgYWJpbGl0eSB0byBwYXNzIGluIGFuIG9iamVjdCBvZiBmZWF0dXJlIG5hbWVzIGFuZFxuICAgKiB0aGVpciB0ZXN0cy4gVGhpcyBpcyBoYW5keSBpZiB5b3Ugd2FudCB0byBhZGQgbXVsdGlwbGUgZGV0ZWN0aW9ucyBpbiBvbmUgZ28uXG4gICAqIFRoZSBrZXlzIHNob3VsZCBhbHdheXMgYmUgYSBzdHJpbmcsIGFuZCB0aGUgdmFsdWUgY2FuIGJlIGVpdGhlciBhIGJvb2xlYW4gb3JcbiAgICogZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgYm9vbGVhbi5cbiAgICpcbiAgICogYGBganNcbiAgICogdmFyIGRldGVjdHMgPSB7XG4gICAqICAnaGFzanF1ZXJ5JzogJ2pRdWVyeScgaW4gd2luZG93LFxuICAgKiAgJ2l0c3R1ZXNkYXknOiBmdW5jdGlvbigpIHtcbiAgICogICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICAgKiAgICByZXR1cm4gZC5nZXREYXkoKSA9PT0gMjtcbiAgICogIH1cbiAgICogfVxuICAgKlxuICAgKiBNb2Rlcm5penIuYWRkVGVzdChkZXRlY3RzKTtcbiAgICogYGBgXG4gICAqXG4gICAqIFRoZXJlIGlzIHJlYWxseSBubyBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGZpcnN0IG1ldGhvZHMgYW5kIHRoaXMgb25lLCBpdCBpc1xuICAgKiBqdXN0IGEgY29udmVuaWVuY2UgdG8gbGV0IHlvdSB3cml0ZSBtb3JlIHJlYWRhYmxlIGNvZGUuXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFkZFRlc3QoZmVhdHVyZSwgdGVzdCkge1xuXG4gICAgaWYgKHR5cGVvZiBmZWF0dXJlID09ICdvYmplY3QnKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gZmVhdHVyZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChmZWF0dXJlLCBrZXkpKSB7XG4gICAgICAgICAgYWRkVGVzdChrZXksIGZlYXR1cmVbIGtleSBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGZlYXR1cmUgPSBmZWF0dXJlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB2YXIgZmVhdHVyZU5hbWVTcGxpdCA9IGZlYXR1cmUuc3BsaXQoJy4nKTtcbiAgICAgIHZhciBsYXN0ID0gTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dO1xuXG4gICAgICAvLyBBZ2Fpbiwgd2UgZG9uJ3QgY2hlY2sgZm9yIHBhcmVudCB0ZXN0IGV4aXN0ZW5jZS4gR2V0IHRoYXQgcmlnaHQsIHRob3VnaC5cbiAgICAgIGlmIChmZWF0dXJlTmFtZVNwbGl0Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgIGxhc3QgPSBsYXN0W2ZlYXR1cmVOYW1lU3BsaXRbMV1dO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxhc3QgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gd2UncmUgZ29pbmcgdG8gcXVpdCBpZiB5b3UncmUgdHJ5aW5nIHRvIG92ZXJ3cml0ZSBhbiBleGlzdGluZyB0ZXN0XG4gICAgICAgIC8vIGlmIHdlIHdlcmUgdG8gYWxsb3cgaXQsIHdlJ2QgZG8gdGhpczpcbiAgICAgICAgLy8gICB2YXIgcmUgPSBuZXcgUmVnRXhwKFwiXFxcXGIobm8tKT9cIiArIGZlYXR1cmUgKyBcIlxcXFxiXCIpO1xuICAgICAgICAvLyAgIGRvY0VsZW1lbnQuY2xhc3NOYW1lID0gZG9jRWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSggcmUsICcnICk7XG4gICAgICAgIC8vIGJ1dCwgbm8gcmx5LCBzdHVmZiAnZW0uXG4gICAgICAgIHJldHVybiBNb2Rlcm5penI7XG4gICAgICB9XG5cbiAgICAgIHRlc3QgPSB0eXBlb2YgdGVzdCA9PSAnZnVuY3Rpb24nID8gdGVzdCgpIDogdGVzdDtcblxuICAgICAgLy8gU2V0IHRoZSB2YWx1ZSAodGhpcyBpcyB0aGUgbWFnaWMsIHJpZ2h0IGhlcmUpLlxuICAgICAgaWYgKGZlYXR1cmVOYW1lU3BsaXQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dID0gdGVzdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNhc3QgdG8gYSBCb29sZWFuLCBpZiBub3Qgb25lIGFscmVhZHlcbiAgICAgICAgaWYgKE1vZGVybml6cltmZWF0dXJlTmFtZVNwbGl0WzBdXSAmJiAhKE1vZGVybml6cltmZWF0dXJlTmFtZVNwbGl0WzBdXSBpbnN0YW5jZW9mIEJvb2xlYW4pKSB7XG4gICAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dID0gbmV3IEJvb2xlYW4oTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE1vZGVybml6cltmZWF0dXJlTmFtZVNwbGl0WzBdXVtmZWF0dXJlTmFtZVNwbGl0WzFdXSA9IHRlc3Q7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCBhIHNpbmdsZSBjbGFzcyAoZWl0aGVyIGBmZWF0dXJlYCBvciBgbm8tZmVhdHVyZWApXG4gICAgICBzZXRDbGFzc2VzKFsoISF0ZXN0ICYmIHRlc3QgIT0gZmFsc2UgPyAnJyA6ICduby0nKSArIGZlYXR1cmVOYW1lU3BsaXQuam9pbignLScpXSk7XG5cbiAgICAgIC8vIFRyaWdnZXIgdGhlIGV2ZW50XG4gICAgICBNb2Rlcm5penIuX3RyaWdnZXIoZmVhdHVyZSwgdGVzdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1vZGVybml6cjsgLy8gYWxsb3cgY2hhaW5pbmcuXG4gIH1cblxuICAvLyBBZnRlciBhbGwgdGhlIHRlc3RzIGFyZSBydW4sIGFkZCBzZWxmIHRvIHRoZSBNb2Rlcm5penIgcHJvdG90eXBlXG4gIE1vZGVybml6ci5fcS5wdXNoKGZ1bmN0aW9uKCkge1xuICAgIE1vZGVybml6clByb3RvLmFkZFRlc3QgPSBhZGRUZXN0O1xuICB9KTtcblxuICBcblxuLyohXG57XG4gIFwibmFtZVwiOiBcIldlYnBcIixcbiAgXCJhc3luY1wiOiB0cnVlLFxuICBcInByb3BlcnR5XCI6IFwid2VicFwiLFxuICBcInRhZ3NcIjogW1wiaW1hZ2VcIl0sXG4gIFwiYnVpbGRlckFsaWFzZXNcIjogW1wiaW1nX3dlYnBcIl0sXG4gIFwiYXV0aG9yc1wiOiBbXCJLcmlzdGVyIEthcmlcIiwgXCJAYW1hbmRlZXBcIiwgXCJSaWNoIEJyYWRzaGF3XCIsIFwiUnlhbiBTZWRkb25cIiwgXCJQYXVsIElyaXNoXCJdLFxuICBcIm5vdGVzXCI6IFt7XG4gICAgXCJuYW1lXCI6IFwiV2VicCBJbmZvXCIsXG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vc3BlZWQvd2VicC9cIlxuICB9LCB7XG4gICAgXCJuYW1lXCI6IFwiQ2hvcm1pdW0gYmxvZyAtIENocm9tZSAzMiBCZXRhOiBBbmltYXRlZCBXZWJQIGltYWdlcyBhbmQgZmFzdGVyIENocm9tZSBmb3IgQW5kcm9pZCB0b3VjaCBpbnB1dFwiLFxuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vYmxvZy5jaHJvbWl1bS5vcmcvMjAxMy8xMS9jaHJvbWUtMzItYmV0YS1hbmltYXRlZC13ZWJwLWltYWdlcy1hbmQuaHRtbFwiXG4gIH0sIHtcbiAgICBcIm5hbWVcIjogXCJXZWJwIExvc3NsZXNzIFNwZWNcIixcbiAgICBcImhyZWZcIjogXCJodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9zcGVlZC93ZWJwL2RvY3Mvd2VicF9sb3NzbGVzc19iaXRzdHJlYW1fc3BlY2lmaWNhdGlvblwiXG4gIH0sIHtcbiAgICBcIm5hbWVcIjogXCJBcnRpY2xlIGFib3V0IFdlYlAgc3VwcG9ydCBvbiBBbmRyb2lkIGJyb3dzZXJzXCIsXG4gICAgXCJocmVmXCI6IFwiaHR0cDovL3d3dy53b3BlLWZyYW1ld29yay5jb20vZW4vMjAxMy8wNi8yNC93ZWJwLXN1cHBvcnQtb24tYW5kcm9pZC1icm93c2Vycy9cIlxuICB9LCB7XG4gICAgXCJuYW1lXCI6IFwiQ2hvcm1pdW0gV2ViUCBhbm5vdW5jZW1lbnRcIixcbiAgICBcImhyZWZcIjogXCJodHRwczovL2Jsb2cuY2hyb21pdW0ub3JnLzIwMTEvMTEvbG9zc2xlc3MtYW5kLXRyYW5zcGFyZW5jeS1lbmNvZGluZy1pbi5odG1sP209MVwiXG4gIH1dXG59XG4hKi9cbi8qIERPQ1xuVGVzdHMgZm9yIGxvc3N5LCBub24tYWxwaGEgd2VicCBzdXBwb3J0LlxuXG5UZXN0cyBmb3IgYWxsIGZvcm1zIG9mIHdlYnAgc3VwcG9ydCAobG9zc2xlc3MsIGxvc3N5LCBhbHBoYSwgYW5kIGFuaW1hdGVkKS4uXG5cbiAgTW9kZXJuaXpyLndlYnAgICAgICAgICAgICAgIC8vIEJhc2ljIHN1cHBvcnQgKGxvc3N5KVxuICBNb2Rlcm5penIud2VicC5sb3NzbGVzcyAgICAgLy8gTG9zc2xlc3NcbiAgTW9kZXJuaXpyLndlYnAuYWxwaGEgICAgICAgIC8vIEFscGhhIChib3RoIGxvc3N5IGFuZCBsb3NzbGVzcylcbiAgTW9kZXJuaXpyLndlYnAuYW5pbWF0aW9uICAgIC8vIEFuaW1hdGVkIFdlYlBcblxuKi9cblxuXG4gIE1vZGVybml6ci5hZGRBc3luY1Rlc3QoZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgd2VicFRlc3RzID0gW3tcbiAgICAgICd1cmknOiAnZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmlRQUFBQlhSVUpRVmxBNElCZ0FBQUF3QVFDZEFTb0JBQUVBQXdBMEphUUFBM0FBL3Z1VUFBQT0nLFxuICAgICAgJ25hbWUnOiAnd2VicCdcbiAgICB9LCB7XG4gICAgICAndXJpJzogJ2RhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1Jrb0FBQUJYUlVKUVZsQTRXQW9BQUFBUUFBQUFBQUFBQUFBQVFVeFFTQXdBQUFBQkJ4QVIvUTlFUlA4REFBQldVRGdnR0FBQUFEQUJBSjBCS2dFQUFRQURBRFFscEFBRGNBRCsrLzFRQUE9PScsXG4gICAgICAnbmFtZSc6ICd3ZWJwLmFscGhhJ1xuICAgIH0sIHtcbiAgICAgICd1cmknOiAnZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmxJQUFBQlhSVUpRVmxBNFdBb0FBQUFTQUFBQUFBQUFBQUFBUVU1SlRRWUFBQUQvLy8vL0FBQkJUazFHSmdBQUFBQUFBQUFBQUFBQUFBQUFBR1FBQUFCV1VEaE1EUUFBQUM4QUFBQVFCeEFSRVlpSS9nY0EnLFxuICAgICAgJ25hbWUnOiAnd2VicC5hbmltYXRpb24nXG4gICAgfSwge1xuICAgICAgJ3VyaSc6ICdkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaDRBQUFCWFJVSlFWbEE0VEJFQUFBQXZBQUFBQUFmUS8vNzN2LytCaU9oL0FBQT0nLFxuICAgICAgJ25hbWUnOiAnd2VicC5sb3NzbGVzcydcbiAgICB9XTtcblxuICAgIHZhciB3ZWJwID0gd2VicFRlc3RzLnNoaWZ0KCk7XG4gICAgZnVuY3Rpb24gdGVzdChuYW1lLCB1cmksIGNiKSB7XG5cbiAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICBmdW5jdGlvbiBhZGRSZXN1bHQoZXZlbnQpIHtcbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IGlzIGZyb20gJ29ubG9hZCcsIGNoZWNrIHRoZSBzZWUgaWYgdGhlIGltYWdlJ3Mgd2lkdGggaXNcbiAgICAgICAgLy8gMSBwaXhlbCAod2hpY2ggaW5kaWNpYXRlcyBzdXBwb3J0KS4gb3RoZXJ3aXNlLCBpdCBmYWlsc1xuXG4gICAgICAgIHZhciByZXN1bHQgPSBldmVudCAmJiBldmVudC50eXBlID09PSAnbG9hZCcgPyBpbWFnZS53aWR0aCA9PSAxIDogZmFsc2U7XG4gICAgICAgIHZhciBiYXNlVGVzdCA9IG5hbWUgPT09ICd3ZWJwJztcblxuICAgICAgICAvLyBpZiBpdCBpcyB0aGUgYmFzZSB0ZXN0LCBhbmQgdGhlIHJlc3VsdCBpcyBmYWxzZSwganVzdCBzZXQgYSBsaXRlcmFsIGZhbHNlXG4gICAgICAgIC8vIHJhdGhlciB0aGFuIHVzZSB0aGUgQm9vbGVhbiBjb250cnN1Y3RvclxuICAgICAgICBhZGRUZXN0KG5hbWUsIChiYXNlVGVzdCAmJiByZXN1bHQpID8gbmV3IEJvb2xlYW4ocmVzdWx0KSA6IHJlc3VsdCk7XG5cbiAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgY2IoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGltYWdlLm9uZXJyb3IgPSBhZGRSZXN1bHQ7XG4gICAgICBpbWFnZS5vbmxvYWQgPSBhZGRSZXN1bHQ7XG5cbiAgICAgIGltYWdlLnNyYyA9IHVyaTtcbiAgICB9XG5cbiAgICAvLyB0ZXN0IGZvciB3ZWJwIHN1cHBvcnQgaW4gZ2VuZXJhbFxuICAgIHRlc3Qod2VicC5uYW1lLCB3ZWJwLnVyaSwgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gaWYgdGhlIHdlYnAgdGVzdCBsb2FkZWQsIHRlc3QgZXZlcnl0aGluZyBlbHNlLlxuICAgICAgaWYgKGUgJiYgZS50eXBlID09PSAnbG9hZCcpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3ZWJwVGVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0ZXN0KHdlYnBUZXN0c1tpXS5uYW1lLCB3ZWJwVGVzdHNbaV0udXJpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gIH0pO1xuXG5cblxuICAvLyBSdW4gZWFjaCB0ZXN0XG4gIHRlc3RSdW5uZXIoKTtcblxuICAvLyBSZW1vdmUgdGhlIFwibm8tanNcIiBjbGFzcyBpZiBpdCBleGlzdHNcbiAgc2V0Q2xhc3NlcyhjbGFzc2VzKTtcblxuICBkZWxldGUgTW9kZXJuaXpyUHJvdG8uYWRkVGVzdDtcbiAgZGVsZXRlIE1vZGVybml6clByb3RvLmFkZEFzeW5jVGVzdDtcblxuICAvLyBSdW4gdGhlIHRoaW5ncyB0aGF0IGFyZSBzdXBwb3NlZCB0byBydW4gYWZ0ZXIgdGhlIHRlc3RzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgTW9kZXJuaXpyLl9xLmxlbmd0aDsgaSsrKSB7XG4gICAgTW9kZXJuaXpyLl9xW2ldKCk7XG4gIH1cblxuICAvLyBMZWFrIE1vZGVybml6ciBuYW1lc3BhY2VcbiAgd2luZG93Lk1vZGVybml6ciA9IE1vZGVybml6cjtcblxuXG47XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQpO1xuJCgnLnNsaWRlci1ob21lLXBhZ2VfX2NvbnRhaW5lcicpLnNsaWNrKHtcclxuICAvLyDQv9C+0LLRgtC+0YDQtdC90LjQtSDQv9C+INGD0LzQvtC70YfQsNC90LjRjiB0cnVlXHJcbiAgLy8gaW5maW5pdGU6IGZhbHNlLFxyXG4gIFxyXG4gIC8vINCw0LLRgtC+0LLQvtC40YHQv9GA0L7QuNC30LLQtdC00LXQvdC40LVcclxuICBhdXRvcGxheTogdHJ1ZSxcclxuICBhdXRvcGxheVNwZWVkOiAyMDAwLFxyXG4gIC8vINC/0LDRg9C30YtcclxuICBwYXVzZU9uRm9jdXM6IHRydWUsXHJcbiAgcGF1c2VPbkhvdmVyOiB0cnVlLFxyXG4gIHBhdXNlT25Eb3RzSG92ZXI6IHRydWUsXHJcblxyXG4gIC8vINC10YHQu9C4INGB0YLRgNC10LvQutC4INC90LUg0L3Rg9C20L3Ri1xyXG4gIGFycm93czpmYWxzZSxcclxuIFxyXG5cclxuICAvLyDQtdGB0LvQuCDQvdGD0LbQvdGLINGC0L7Rh9C60LhcclxuICBkb3RzOiB0cnVlLFxyXG5cclxuICAvLyDQsNC00LDQv9GC0LjQstC90LDRjyDQstGL0YHQvtGC0LBcclxuICAvLyBhZGFwdGl2ZUhlaWdodDogdHJ1ZSxcclxuXHJcbiAgLy8g0LrQvtC70LjRh9C10YHRgtCy0L4g0YHQu9Cw0LnQtNC+0LIg0LTQu9GPINC/0L7QutCw0LfQsFxyXG4gIHNsaWRlc1RvU2hvdzogMSxcclxuICAvLyDQutC+0LvQuNGH0LXRgdGC0LLQviDRgdC70LDQudC00L7QsiDQv9GA0L7QutGA0YPRh9C40LLQsNC10LzRi9GFINC30LAg0YDQsNC3XHJcbiAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcblxyXG4gIC8vINGB0LrQvtGA0L7RgdGC0Ywg0L/RgNC+0LvQuNGB0YLRi9Cy0LDQvdC40Y8g0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4gMzAwXHJcbiAgc3BlZWQ6IDEsXHJcblxyXG4gIC8vINGB0YLQsNGA0YLQvtCy0YvQuSDRgdC70LDQudC0XHJcbiAgLy8gaW5pdGlhbFNsaWRlOiAwLFxyXG5cclxuICAvLyDQvtGC0LrQu9GO0YfQuNGC0Ywg0L/QtdGA0LXRgtCw0YHQutC40LLQsNC90LjQtVxyXG4gIC8vIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgLy8gc3dpcGU6IGZhbHNlLFxyXG5cclxuICAvLyDQvtC20LjQtNCw0L3QuNC1INC60L7QvdGG0LAg0LDQvdC40LzQsNGG0LjQuFxyXG4gIHdhaXRGb3JBbmltYXRlOiBmYWxzZSxcclxuXHJcbiAgLy8g0LLRi9C00LXQu9GP0LXQvCDRhtC10L3RgtGA0LDQu9C90YvQuSDRgdC70LDQudC0XHJcbiAgLy8gY2VudGVyTW9kZTogdHJ1ZSxcclxuXHJcblxyXG4gIC8vINC/0LvQsNCy0L3QvtC1INC40LfQvNC10L3QtdC90LjQtSDQvtC00L3QvtCz0L4g0YHQu9Cw0LnQtNCwXHJcbiAgLy8gZmFkZTogdHJ1ZSxcclxuXHJcbiBcclxuXHJcbiAgLy8g0YDQsNC30LvQuNGH0L3Ri9C1INC/0LDRgNCw0LzQtdGC0YDRiyDQvdCwINGA0LDQt9C90YvRhSDQsdGA0LXQudC60L/QvtC90YLQsNGFXHJcbiAgLy8gcmVzcG9uc2l2ZTpbe1xyXG4gIC8vICAgICBicmVha3BvaW50OiA3NjgsXHJcbiAgLy8gICAgIHNldHRpbmdkOntcclxuICAvLyAgICAgICAgIHNwZWVkOiAxMDAsXHJcbiAgLy8gICAgIH1cclxuICAvLyB9XSxcclxuXHJcbiAgLy8g0LzQvtC20LXQvCDQv9C10YDQtdC80LXRgdGC0LjRgtGMINGB0YDQtdC70LrQuCDQuCDRgtC+0YfQutC4INCyINC70Y7QsdC+0Lkg0LTQuNCyXHJcbiAgLy8gYXBwZW5kQXJyb3dzOiAkKCcubmV3ZGl2JyksXHJcbiAgYXBwZW5kRG90czogJCgnLnNsaWRlci1ob21lLXBhZ2VfX2RvdHMnKSxcclxuXHJcbn0pO1xyXG5cclxuXHJcblxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgICAgIHdpbmRvdy5ub1VpU2xpZGVyID0gZmFjdG9yeSgpO1xuICAgIH1cbn0pKGZ1bmN0aW9uICgpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBWRVJTSU9OID0gXCIlJVJFUExBQ0VfVEhJU19XSVRIX1ZFUlNJT04lJVwiO1xuXG4gICAgLy9yZWdpb24gSGVscGVyIE1ldGhvZHNcblxuICAgIGZ1bmN0aW9uIGlzVmFsaWRGb3JtYXR0ZXIoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgZW50cnkudG8gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgZW50cnkuZnJvbSA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoZWwpIHtcbiAgICAgICAgZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gQmluZGFibGUgdmVyc2lvblxuICAgIGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZXMgZHVwbGljYXRlcyBmcm9tIGFuIGFycmF5LlxuICAgIGZ1bmN0aW9uIHVuaXF1ZShhcnJheSkge1xuICAgICAgICByZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRoaXNbYV0gPyAodGhpc1thXSA9IHRydWUpIDogZmFsc2U7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG5cbiAgICAvLyBSb3VuZCBhIHZhbHVlIHRvIHRoZSBjbG9zZXN0ICd0bycuXG4gICAgZnVuY3Rpb24gY2xvc2VzdCh2YWx1ZSwgdG8pIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgLyB0bykgKiB0bztcbiAgICB9XG5cbiAgICAvLyBDdXJyZW50IHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50LlxuICAgIGZ1bmN0aW9uIG9mZnNldChlbGVtLCBvcmllbnRhdGlvbikge1xuICAgICAgICB2YXIgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIHZhciBkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgdmFyIHBhZ2VPZmZzZXQgPSBnZXRQYWdlT2Zmc2V0KGRvYyk7XG5cbiAgICAgICAgLy8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGNvbnRhaW5zIGxlZnQgc2Nyb2xsIGluIENocm9tZSBvbiBBbmRyb2lkLlxuICAgICAgICAvLyBJIGhhdmVuJ3QgZm91bmQgYSBmZWF0dXJlIGRldGVjdGlvbiB0aGF0IHByb3ZlcyB0aGlzLiBXb3JzdCBjYXNlXG4gICAgICAgIC8vIHNjZW5hcmlvIG9uIG1pcy1tYXRjaDogdGhlICd0YXAnIGZlYXR1cmUgb24gaG9yaXpvbnRhbCBzbGlkZXJzIGJyZWFrcy5cbiAgICAgICAgaWYgKC93ZWJraXQuKkNocm9tZS4qTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgICAgcGFnZU9mZnNldC54ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcmllbnRhdGlvbiA/XG4gICAgICAgICAgICByZWN0LnRvcCArIHBhZ2VPZmZzZXQueSAtIGRvY0VsZW0uY2xpZW50VG9wIDpcbiAgICAgICAgICAgIHJlY3QubGVmdCArIHBhZ2VPZmZzZXQueCAtIGRvY0VsZW0uY2xpZW50TGVmdDtcbiAgICB9XG5cbiAgICAvLyBDaGVja3Mgd2hldGhlciBhIHZhbHVlIGlzIG51bWVyaWNhbC5cbiAgICBmdW5jdGlvbiBpc051bWVyaWMoYSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGEgPT09IFwibnVtYmVyXCIgJiYgIWlzTmFOKGEpICYmIGlzRmluaXRlKGEpO1xuICAgIH1cblxuICAgIC8vIFNldHMgYSBjbGFzcyBhbmQgcmVtb3ZlcyBpdCBhZnRlciBbZHVyYXRpb25dIG1zLlxuICAgIGZ1bmN0aW9uIGFkZENsYXNzRm9yKGVsZW1lbnQsIGNsYXNzTmFtZSwgZHVyYXRpb24pIHtcbiAgICAgICAgaWYgKGR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMaW1pdHMgYSB2YWx1ZSB0byAwIC0gMTAwXG4gICAgZnVuY3Rpb24gbGltaXQoYSkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oYSwgMTAwKSwgMCk7XG4gICAgfVxuXG4gICAgLy8gV3JhcHMgYSB2YXJpYWJsZSBhcyBhbiBhcnJheSwgaWYgaXQgaXNuJ3Qgb25lIHlldC5cbiAgICAvLyBOb3RlIHRoYXQgYW4gaW5wdXQgYXJyYXkgaXMgcmV0dXJuZWQgYnkgcmVmZXJlbmNlIVxuICAgIGZ1bmN0aW9uIGFzQXJyYXkoYSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGEgOiBbYV07XG4gICAgfVxuXG4gICAgLy8gQ291bnRzIGRlY2ltYWxzXG4gICAgZnVuY3Rpb24gY291bnREZWNpbWFscyhudW1TdHIpIHtcbiAgICAgICAgbnVtU3RyID0gU3RyaW5nKG51bVN0cik7XG4gICAgICAgIHZhciBwaWVjZXMgPSBudW1TdHIuc3BsaXQoXCIuXCIpO1xuICAgICAgICByZXR1cm4gcGllY2VzLmxlbmd0aCA+IDEgPyBwaWVjZXNbMV0ubGVuZ3RoIDogMDtcbiAgICB9XG5cbiAgICAvLyBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS8jYWRkX2NsYXNzXG4gICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAoZWwuY2xhc3NMaXN0ICYmICEvXFxzLy50ZXN0KGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBcIiArIGNsYXNzTmFtZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNyZW1vdmVfY2xhc3NcbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3QgJiYgIS9cXHMvLnRlc3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIihefFxcXFxiKVwiICsgY2xhc3NOYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwifFwiKSArIFwiKFxcXFxifCQpXCIsIFwiZ2lcIiksXG4gICAgICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBodHRwczovL3BsYWluanMuY29tL2phdmFzY3JpcHQvYXR0cmlidXRlcy9hZGRpbmctcmVtb3ZpbmctYW5kLXRlc3RpbmctZm9yLWNsYXNzZXMtOS9cbiAgICBmdW5jdGlvbiBoYXNDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3QgP1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkgOlxuICAgICAgICAgICAgbmV3IFJlZ0V4cChcIlxcXFxiXCIgKyBjbGFzc05hbWUgKyBcIlxcXFxiXCIpLnRlc3QoZWwuY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3Njcm9sbFkjTm90ZXNcbiAgICBmdW5jdGlvbiBnZXRQYWdlT2Zmc2V0KGRvYykge1xuICAgICAgICB2YXIgc3VwcG9ydFBhZ2VPZmZzZXQgPSB3aW5kb3cucGFnZVhPZmZzZXQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGlzQ1NTMUNvbXBhdCA9IChkb2MuY29tcGF0TW9kZSB8fCBcIlwiKSA9PT0gXCJDU1MxQ29tcGF0XCI7XG4gICAgICAgIHZhciB4ID0gc3VwcG9ydFBhZ2VPZmZzZXQgP1xuICAgICAgICAgICAgd2luZG93LnBhZ2VYT2Zmc2V0IDpcbiAgICAgICAgICAgIGlzQ1NTMUNvbXBhdCA/XG4gICAgICAgICAgICBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOlxuICAgICAgICAgICAgZG9jLmJvZHkuc2Nyb2xsTGVmdDtcbiAgICAgICAgdmFyIHkgPSBzdXBwb3J0UGFnZU9mZnNldCA/XG4gICAgICAgICAgICB3aW5kb3cucGFnZVlPZmZzZXQgOlxuICAgICAgICAgICAgaXNDU1MxQ29tcGF0ID9cbiAgICAgICAgICAgIGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDpcbiAgICAgICAgICAgIGRvYy5ib2R5LnNjcm9sbFRvcDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB3ZSBwcm92aWRlIGEgZnVuY3Rpb24gdG8gY29tcHV0ZSBjb25zdGFudHMgaW5zdGVhZFxuICAgIC8vIG9mIGFjY2Vzc2luZyB3aW5kb3cuKiBhcyBzb29uIGFzIHRoZSBtb2R1bGUgbmVlZHMgaXRcbiAgICAvLyBzbyB0aGF0IHdlIGRvIG5vdCBjb21wdXRlIGFueXRoaW5nIGlmIG5vdCBuZWVkZWRcbiAgICBmdW5jdGlvbiBnZXRBY3Rpb25zKCkge1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGV2ZW50cyB0byBiaW5kLiBJRTExIGltcGxlbWVudHMgcG9pbnRlckV2ZW50cyB3aXRob3V0XG4gICAgICAgIC8vIGEgcHJlZml4LCB3aGljaCBicmVha3MgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBJRTEwIGltcGxlbWVudGF0aW9uLlxuICAgICAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCA/IHtcbiAgICAgICAgICAgICAgICBzdGFydDogXCJwb2ludGVyZG93blwiLFxuICAgICAgICAgICAgICAgIG1vdmU6IFwicG9pbnRlcm1vdmVcIixcbiAgICAgICAgICAgICAgICBlbmQ6IFwicG9pbnRlcnVwXCJcbiAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAgd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8ge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBcIk1TUG9pbnRlckRvd25cIixcbiAgICAgICAgICAgICAgICBtb3ZlOiBcIk1TUG9pbnRlck1vdmVcIixcbiAgICAgICAgICAgICAgICBlbmQ6IFwiTVNQb2ludGVyVXBcIlxuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICBzdGFydDogXCJtb3VzZWRvd24gdG91Y2hzdGFydFwiLFxuICAgICAgICAgICAgICAgIG1vdmU6IFwibW91c2Vtb3ZlIHRvdWNobW92ZVwiLFxuICAgICAgICAgICAgICAgIGVuZDogXCJtb3VzZXVwIHRvdWNoZW5kXCJcbiAgICAgICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWRcbiAgICAvLyBJc3N1ZSAjNzg1XG4gICAgZnVuY3Rpb24gZ2V0U3VwcG9ydHNQYXNzaXZlKCkge1xuICAgICAgICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInBhc3NpdmVcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgbnVsbCwgb3B0cyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgICAgICByZXR1cm4gc3VwcG9ydHNQYXNzaXZlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LkNTUyAmJiBDU1Muc3VwcG9ydHMgJiYgQ1NTLnN1cHBvcnRzKFwidG91Y2gtYWN0aW9uXCIsIFwibm9uZVwiKTtcbiAgICB9XG5cbiAgICAvL2VuZHJlZ2lvblxuXG4gICAgLy9yZWdpb24gUmFuZ2UgQ2FsY3VsYXRpb25cblxuICAgIC8vIERldGVybWluZSB0aGUgc2l6ZSBvZiBhIHN1Yi1yYW5nZSBpbiByZWxhdGlvbiB0byBhIGZ1bGwgcmFuZ2UuXG4gICAgZnVuY3Rpb24gc3ViUmFuZ2VSYXRpbyhwYSwgcGIpIHtcbiAgICAgICAgcmV0dXJuIDEwMCAvIChwYiAtIHBhKTtcbiAgICB9XG5cbiAgICAvLyAocGVyY2VudGFnZSkgSG93IG1hbnkgcGVyY2VudCBpcyB0aGlzIHZhbHVlIG9mIHRoaXMgcmFuZ2U/XG4gICAgZnVuY3Rpb24gZnJvbVBlcmNlbnRhZ2UocmFuZ2UsIHZhbHVlLCBzdGFydFJhbmdlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgKiAxMDApIC8gKHJhbmdlW3N0YXJ0UmFuZ2UgKyAxXSAtIHJhbmdlW3N0YXJ0UmFuZ2VdKTtcbiAgICB9XG5cbiAgICAvLyAocGVyY2VudGFnZSkgV2hlcmUgaXMgdGhpcyB2YWx1ZSBvbiB0aGlzIHJhbmdlP1xuICAgIGZ1bmN0aW9uIHRvUGVyY2VudGFnZShyYW5nZSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZyb21QZXJjZW50YWdlKHJhbmdlLCByYW5nZVswXSA8IDAgPyB2YWx1ZSArIE1hdGguYWJzKHJhbmdlWzBdKSA6IHZhbHVlIC0gcmFuZ2VbMF0sIDApO1xuICAgIH1cblxuICAgIC8vICh2YWx1ZSkgSG93IG11Y2ggaXMgdGhpcyBwZXJjZW50YWdlIG9uIHRoaXMgcmFuZ2U/XG4gICAgZnVuY3Rpb24gaXNQZXJjZW50YWdlKHJhbmdlLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gKHZhbHVlICogKHJhbmdlWzFdIC0gcmFuZ2VbMF0pKSAvIDEwMCArIHJhbmdlWzBdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEoodmFsdWUsIGFycikge1xuICAgICAgICB2YXIgaiA9IDE7XG5cbiAgICAgICAgd2hpbGUgKHZhbHVlID49IGFycltqXSkge1xuICAgICAgICAgICAgaiArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGo7XG4gICAgfVxuXG4gICAgLy8gKHBlcmNlbnRhZ2UpIElucHV0IGEgdmFsdWUsIGZpbmQgd2hlcmUsIG9uIGEgc2NhbGUgb2YgMC0xMDAsIGl0IGFwcGxpZXMuXG4gICAgZnVuY3Rpb24gdG9TdGVwcGluZyh4VmFsLCB4UGN0LCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPj0geFZhbC5zbGljZSgtMSlbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiAxMDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaiA9IGdldEoodmFsdWUsIHhWYWwpO1xuICAgICAgICB2YXIgdmEgPSB4VmFsW2ogLSAxXTtcbiAgICAgICAgdmFyIHZiID0geFZhbFtqXTtcbiAgICAgICAgdmFyIHBhID0geFBjdFtqIC0gMV07XG4gICAgICAgIHZhciBwYiA9IHhQY3Rbal07XG5cbiAgICAgICAgcmV0dXJuIHBhICsgdG9QZXJjZW50YWdlKFt2YSwgdmJdLCB2YWx1ZSkgLyBzdWJSYW5nZVJhdGlvKHBhLCBwYik7XG4gICAgfVxuXG4gICAgLy8gKHZhbHVlKSBJbnB1dCBhIHBlcmNlbnRhZ2UsIGZpbmQgd2hlcmUgaXQgaXMgb24gdGhlIHNwZWNpZmllZCByYW5nZS5cbiAgICBmdW5jdGlvbiBmcm9tU3RlcHBpbmcoeFZhbCwgeFBjdCwgdmFsdWUpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gcmFuZ2UgZ3JvdXAgdGhhdCBmaXRzIDEwMFxuICAgICAgICBpZiAodmFsdWUgPj0gMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4geFZhbC5zbGljZSgtMSlbMF07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaiA9IGdldEoodmFsdWUsIHhQY3QpO1xuICAgICAgICB2YXIgdmEgPSB4VmFsW2ogLSAxXTtcbiAgICAgICAgdmFyIHZiID0geFZhbFtqXTtcbiAgICAgICAgdmFyIHBhID0geFBjdFtqIC0gMV07XG4gICAgICAgIHZhciBwYiA9IHhQY3Rbal07XG5cbiAgICAgICAgcmV0dXJuIGlzUGVyY2VudGFnZShbdmEsIHZiXSwgKHZhbHVlIC0gcGEpICogc3ViUmFuZ2VSYXRpbyhwYSwgcGIpKTtcbiAgICB9XG5cbiAgICAvLyAocGVyY2VudGFnZSkgR2V0IHRoZSBzdGVwIHRoYXQgYXBwbGllcyBhdCBhIGNlcnRhaW4gdmFsdWUuXG4gICAgZnVuY3Rpb24gZ2V0U3RlcCh4UGN0LCB4U3RlcHMsIHNuYXAsIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gMTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaiA9IGdldEoodmFsdWUsIHhQY3QpO1xuICAgICAgICB2YXIgYSA9IHhQY3RbaiAtIDFdO1xuICAgICAgICB2YXIgYiA9IHhQY3Rbal07XG5cbiAgICAgICAgLy8gSWYgJ3NuYXAnIGlzIHNldCwgc3RlcHMgYXJlIHVzZWQgYXMgZml4ZWQgcG9pbnRzIG9uIHRoZSBzbGlkZXIuXG4gICAgICAgIGlmIChzbmFwKSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IHBvc2l0aW9uLCBhIG9yIGIuXG4gICAgICAgICAgICBpZiAodmFsdWUgLSBhID4gKGIgLSBhKSAvIDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXhTdGVwc1tqIC0gMV0pIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB4UGN0W2ogLSAxXSArIGNsb3Nlc3QodmFsdWUgLSB4UGN0W2ogLSAxXSwgeFN0ZXBzW2ogLSAxXSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRW50cnlQb2ludChpbmRleCwgdmFsdWUsIHRoYXQpIHtcbiAgICAgICAgdmFyIHBlcmNlbnRhZ2U7XG5cbiAgICAgICAgLy8gV3JhcCBudW1lcmljYWwgaW5wdXQgaW4gYW4gYXJyYXkuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gW3ZhbHVlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlamVjdCBhbnkgaW52YWxpZCBpbnB1dCwgYnkgdGVzdGluZyB3aGV0aGVyIHZhbHVlIGlzIGFuIGFycmF5LlxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgY29udGFpbnMgaW52YWxpZCB2YWx1ZS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb3ZlcnQgbWluL21heCBzeW50YXggdG8gMCBhbmQgMTAwLlxuICAgICAgICBpZiAoaW5kZXggPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICBwZXJjZW50YWdlID0gMTAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVyY2VudGFnZSA9IHBhcnNlRmxvYXQoaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNvcnJlY3QgaW5wdXQuXG4gICAgICAgIGlmICghaXNOdW1lcmljKHBlcmNlbnRhZ2UpIHx8ICFpc051bWVyaWModmFsdWVbMF0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgdmFsdWUgaXNuJ3QgbnVtZXJpYy5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9yZSB2YWx1ZXMuXG4gICAgICAgIHRoYXQueFBjdC5wdXNoKHBlcmNlbnRhZ2UpO1xuICAgICAgICB0aGF0LnhWYWwucHVzaCh2YWx1ZVswXSk7XG5cbiAgICAgICAgLy8gTmFOIHdpbGwgZXZhbHVhdGUgdG8gZmFsc2UgdG9vLCBidXQgdG8ga2VlcFxuICAgICAgICAvLyBsb2dnaW5nIGNsZWFyLCBzZXQgc3RlcCBleHBsaWNpdGx5LiBNYWtlIHN1cmVcbiAgICAgICAgLy8gbm90IHRvIG92ZXJyaWRlIHRoZSAnc3RlcCcgc2V0dGluZyB3aXRoIGZhbHNlLlxuICAgICAgICBpZiAoIXBlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWVbMV0pKSB7XG4gICAgICAgICAgICAgICAgdGhhdC54U3RlcHNbMF0gPSB2YWx1ZVsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoYXQueFN0ZXBzLnB1c2goaXNOYU4odmFsdWVbMV0pID8gZmFsc2UgOiB2YWx1ZVsxXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGF0LnhIaWdoZXN0Q29tcGxldGVTdGVwLnB1c2goMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU3RlcFBvaW50KGksIG4sIHRoYXQpIHtcbiAgICAgICAgLy8gSWdub3JlICdmYWxzZScgc3RlcHBpbmcuXG4gICAgICAgIGlmICghbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RlcCBvdmVyIHplcm8tbGVuZ3RoIHJhbmdlcyAoIzk0OCk7XG4gICAgICAgIGlmICh0aGF0LnhWYWxbaV0gPT09IHRoYXQueFZhbFtpICsgMV0pIHtcbiAgICAgICAgICAgIHRoYXQueFN0ZXBzW2ldID0gdGhhdC54SGlnaGVzdENvbXBsZXRlU3RlcFtpXSA9IHRoYXQueFZhbFtpXTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmFjdG9yIHRvIHJhbmdlIHJhdGlvXG4gICAgICAgIHRoYXQueFN0ZXBzW2ldID1cbiAgICAgICAgICAgIGZyb21QZXJjZW50YWdlKFt0aGF0LnhWYWxbaV0sIHRoYXQueFZhbFtpICsgMV1dLCBuLCAwKSAvIHN1YlJhbmdlUmF0aW8odGhhdC54UGN0W2ldLCB0aGF0LnhQY3RbaSArIDFdKTtcblxuICAgICAgICB2YXIgdG90YWxTdGVwcyA9ICh0aGF0LnhWYWxbaSArIDFdIC0gdGhhdC54VmFsW2ldKSAvIHRoYXQueE51bVN0ZXBzW2ldO1xuICAgICAgICB2YXIgaGlnaGVzdFN0ZXAgPSBNYXRoLmNlaWwoTnVtYmVyKHRvdGFsU3RlcHMudG9GaXhlZCgzKSkgLSAxKTtcbiAgICAgICAgdmFyIHN0ZXAgPSB0aGF0LnhWYWxbaV0gKyB0aGF0LnhOdW1TdGVwc1tpXSAqIGhpZ2hlc3RTdGVwO1xuXG4gICAgICAgIHRoYXQueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaV0gPSBzdGVwO1xuICAgIH1cblxuICAgIC8vZW5kcmVnaW9uXG5cbiAgICAvL3JlZ2lvbiBTcGVjdHJ1bVxuXG4gICAgZnVuY3Rpb24gU3BlY3RydW0oZW50cnksIHNuYXAsIHNpbmdsZVN0ZXApIHtcbiAgICAgICAgdGhpcy54UGN0ID0gW107XG4gICAgICAgIHRoaXMueFZhbCA9IFtdO1xuICAgICAgICB0aGlzLnhTdGVwcyA9IFtzaW5nbGVTdGVwIHx8IGZhbHNlXTtcbiAgICAgICAgdGhpcy54TnVtU3RlcHMgPSBbZmFsc2VdO1xuICAgICAgICB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwID0gW107XG5cbiAgICAgICAgdGhpcy5zbmFwID0gc25hcDtcblxuICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgIHZhciBvcmRlcmVkID0gW107IC8vIFswLCAnbWluJ10sIFsxLCAnNTAlJ10sIFsyLCAnbWF4J11cblxuICAgICAgICAvLyBNYXAgdGhlIG9iamVjdCBrZXlzIHRvIGFuIGFycmF5LlxuICAgICAgICBmb3IgKGluZGV4IGluIGVudHJ5KSB7XG4gICAgICAgICAgICBpZiAoZW50cnkuaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgb3JkZXJlZC5wdXNoKFtlbnRyeVtpbmRleF0sIGluZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb3J0IGFsbCBlbnRyaWVzIGJ5IHZhbHVlIChudW1lcmljIHNvcnQpLlxuICAgICAgICBpZiAob3JkZXJlZC5sZW5ndGggJiYgdHlwZW9mIG9yZGVyZWRbMF1bMF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIG9yZGVyZWQuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhWzBdWzBdIC0gYlswXVswXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3JkZXJlZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb252ZXJ0IGFsbCBlbnRyaWVzIHRvIHN1YnJhbmdlcy5cbiAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgb3JkZXJlZC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGhhbmRsZUVudHJ5UG9pbnQob3JkZXJlZFtpbmRleF1bMV0sIG9yZGVyZWRbaW5kZXhdWzBdLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBhY3R1YWwgc3RlcCB2YWx1ZXMuXG4gICAgICAgIC8vIHhTdGVwcyBpcyBzb3J0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgeFBjdCBhbmQgeFZhbC5cbiAgICAgICAgdGhpcy54TnVtU3RlcHMgPSB0aGlzLnhTdGVwcy5zbGljZSgwKTtcblxuICAgICAgICAvLyBDb252ZXJ0IGFsbCBudW1lcmljIHN0ZXBzIHRvIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBzdWJyYW5nZSB0aGV5IHJlcHJlc2VudC5cbiAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGhpcy54TnVtU3RlcHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBoYW5kbGVTdGVwUG9pbnQoaW5kZXgsIHRoaXMueE51bVN0ZXBzW2luZGV4XSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0RGlzdGFuY2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGluZGV4O1xuICAgICAgICB2YXIgZGlzdGFuY2VzID0gW107XG5cbiAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGhpcy54TnVtU3RlcHMubGVuZ3RoIC0gMTsgaW5kZXgrKykge1xuICAgICAgICAgICAgLy8gbGFzdCBcInJhbmdlXCIgY2FuJ3QgY29udGFpbiBzdGVwIHNpemUgYXMgaXQgaXMgcHVyZWx5IGFuIGVuZHBvaW50LlxuICAgICAgICAgICAgdmFyIHN0ZXAgPSB0aGlzLnhOdW1TdGVwc1tpbmRleF07XG5cbiAgICAgICAgICAgIGlmIChzdGVwICYmICh2YWx1ZSAvIHN0ZXApICUgMSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJub1VpU2xpZGVyIChcIiArXG4gICAgICAgICAgICAgICAgICAgIFZFUlNJT04gK1xuICAgICAgICAgICAgICAgICAgICBcIik6ICdsaW1pdCcsICdtYXJnaW4nIGFuZCAncGFkZGluZycgb2YgXCIgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnhQY3RbaW5kZXhdICtcbiAgICAgICAgICAgICAgICAgICAgXCIlIHJhbmdlIG11c3QgYmUgZGl2aXNpYmxlIGJ5IHN0ZXAuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcGVyY2VudHVhbCBkaXN0YW5jZSBpbiBjdXJyZW50IHJhbmdlIG9mIGxpbWl0LCBtYXJnaW4gb3IgcGFkZGluZ1xuICAgICAgICAgICAgZGlzdGFuY2VzW2luZGV4XSA9IGZyb21QZXJjZW50YWdlKHRoaXMueFZhbCwgdmFsdWUsIGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkaXN0YW5jZXM7XG4gICAgfTtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgcGVyY2VudHVhbCBkaXN0YW5jZSBvdmVyIHRoZSB3aG9sZSBzY2FsZSBvZiByYW5nZXMuXG4gICAgLy8gZGlyZWN0aW9uOiAwID0gYmFja3dhcmRzIC8gMSA9IGZvcndhcmRzXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLmdldEFic29sdXRlRGlzdGFuY2UgPSBmdW5jdGlvbiAodmFsdWUsIGRpc3RhbmNlcywgZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciB4UGN0X2luZGV4ID0gMDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgcmFuZ2Ugd2hlcmUgdG8gc3RhcnQgY2FsY3VsYXRpb25cbiAgICAgICAgaWYgKHZhbHVlIDwgdGhpcy54UGN0W3RoaXMueFBjdC5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgd2hpbGUgKHZhbHVlID4gdGhpcy54UGN0W3hQY3RfaW5kZXggKyAxXSkge1xuICAgICAgICAgICAgICAgIHhQY3RfaW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gdGhpcy54UGN0W3RoaXMueFBjdC5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgeFBjdF9pbmRleCA9IHRoaXMueFBjdC5sZW5ndGggLSAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgbG9va2luZyBiYWNrd2FyZHMgYW5kIHRoZSB2YWx1ZSBpcyBleGFjdGx5IGF0IGEgcmFuZ2Ugc2VwYXJhdG9yIHRoZW4gbG9vayBvbmUgcmFuZ2UgZnVydGhlclxuICAgICAgICBpZiAoIWRpcmVjdGlvbiAmJiB2YWx1ZSA9PT0gdGhpcy54UGN0W3hQY3RfaW5kZXggKyAxXSkge1xuICAgICAgICAgICAgeFBjdF9pbmRleCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0X2ZhY3RvcjtcbiAgICAgICAgdmFyIHJlc3RfZmFjdG9yID0gMTtcblxuICAgICAgICB2YXIgcmVzdF9yZWxfZGlzdGFuY2UgPSBkaXN0YW5jZXNbeFBjdF9pbmRleF07XG5cbiAgICAgICAgdmFyIHJhbmdlX3BjdCA9IDA7XG5cbiAgICAgICAgdmFyIHJlbF9yYW5nZV9kaXN0YW5jZSA9IDA7XG4gICAgICAgIHZhciBhYnNfZGlzdGFuY2VfY291bnRlciA9IDA7XG4gICAgICAgIHZhciByYW5nZV9jb3VudGVyID0gMDtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgd2hhdCBwYXJ0IG9mIHRoZSBzdGFydCByYW5nZSB0aGUgdmFsdWUgaXNcbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgc3RhcnRfZmFjdG9yID0gKHZhbHVlIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKSAvICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXhdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9ICh0aGlzLnhQY3RbeFBjdF9pbmRleCArIDFdIC0gdmFsdWUpIC8gKHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMV0gLSB0aGlzLnhQY3RbeFBjdF9pbmRleF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gdW50aWwgdGhlIGNvbXBsZXRlIGRpc3RhbmNlIGFjcm9zcyByYW5nZXMgaXMgY2FsY3VsYXRlZFxuICAgICAgICB3aGlsZSAocmVzdF9yZWxfZGlzdGFuY2UgPiAwKSB7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHBlcmNlbnRhZ2Ugb2YgdG90YWwgcmFuZ2VcbiAgICAgICAgICAgIHJhbmdlX3BjdCA9IHRoaXMueFBjdFt4UGN0X2luZGV4ICsgMSArIHJhbmdlX2NvdW50ZXJdIC0gdGhpcy54UGN0W3hQY3RfaW5kZXggKyByYW5nZV9jb3VudGVyXTtcblxuICAgICAgICAgICAgLy8gRGV0ZWN0IGlmIHRoZSBtYXJnaW4sIHBhZGRpbmcgb3IgbGltaXQgaXMgbGFyZ2VyIHRoZW4gdGhlIGN1cnJlbnQgcmFuZ2UgYW5kIGNhbGN1bGF0ZVxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl0gKiByZXN0X2ZhY3RvciArIDEwMCAtIHN0YXJ0X2ZhY3RvciAqIDEwMCA+IDEwMCkge1xuICAgICAgICAgICAgICAgIC8vIElmIGxhcmdlciB0aGVuIHRha2UgdGhlIHBlcmNlbnR1YWwgZGlzdGFuY2Ugb2YgdGhlIHdob2xlIHJhbmdlXG4gICAgICAgICAgICAgICAgcmVsX3JhbmdlX2Rpc3RhbmNlID0gcmFuZ2VfcGN0ICogc3RhcnRfZmFjdG9yO1xuICAgICAgICAgICAgICAgIC8vIFJlc3QgZmFjdG9yIG9mIHJlbGF0aXZlIHBlcmNlbnR1YWwgZGlzdGFuY2Ugc3RpbGwgdG8gYmUgY2FsY3VsYXRlZFxuICAgICAgICAgICAgICAgIHJlc3RfZmFjdG9yID0gKHJlc3RfcmVsX2Rpc3RhbmNlIC0gMTAwICogc3RhcnRfZmFjdG9yKSAvIGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl07XG4gICAgICAgICAgICAgICAgLy8gU2V0IHN0YXJ0IGZhY3RvciB0byAxIGFzIGZvciBuZXh0IHJhbmdlIGl0IGRvZXMgbm90IGFwcGx5LlxuICAgICAgICAgICAgICAgIHN0YXJ0X2ZhY3RvciA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHNtYWxsZXIgb3IgZXF1YWwgdGhlbiB0YWtlIHRoZSBwZXJjZW50dWFsIGRpc3RhbmNlIG9mIHRoZSBjYWxjdWxhdGUgcGVyY2VudHVhbCBwYXJ0IG9mIHRoYXQgcmFuZ2VcbiAgICAgICAgICAgICAgICByZWxfcmFuZ2VfZGlzdGFuY2UgPSAoKGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl0gKiByYW5nZV9wY3QpIC8gMTAwKSAqIHJlc3RfZmFjdG9yO1xuICAgICAgICAgICAgICAgIC8vIE5vIHJlc3QgbGVmdCBhcyB0aGUgcmVzdCBmaXRzIGluIGN1cnJlbnQgcmFuZ2VcbiAgICAgICAgICAgICAgICByZXN0X2ZhY3RvciA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhYnNfZGlzdGFuY2VfY291bnRlciA9IGFic19kaXN0YW5jZV9jb3VudGVyIC0gcmVsX3JhbmdlX2Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHJhbmdlIHRvIGZpcnN0IHJhbmdlIHdoZW4gZGlzdGFuY2UgYmVjb21lcyBvdXRzaWRlIG9mIG1pbmltdW0gcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAodGhpcy54UGN0Lmxlbmd0aCArIHJhbmdlX2NvdW50ZXIgPj0gMSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZV9jb3VudGVyLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhYnNfZGlzdGFuY2VfY291bnRlciA9IGFic19kaXN0YW5jZV9jb3VudGVyICsgcmVsX3JhbmdlX2Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHJhbmdlIHRvIGxhc3QgcmFuZ2Ugd2hlbiBkaXN0YW5jZSBiZWNvbWVzIG91dHNpZGUgb2YgbWF4aW11bSByYW5nZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnhQY3QubGVuZ3RoIC0gcmFuZ2VfY291bnRlciA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlX2NvdW50ZXIrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlc3Qgb2YgcmVsYXRpdmUgcGVyY2VudHVhbCBkaXN0YW5jZSBzdGlsbCB0byBiZSBjYWxjdWxhdGVkXG4gICAgICAgICAgICByZXN0X3JlbF9kaXN0YW5jZSA9IGRpc3RhbmNlc1t4UGN0X2luZGV4ICsgcmFuZ2VfY291bnRlcl0gKiByZXN0X2ZhY3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZSArIGFic19kaXN0YW5jZV9jb3VudGVyO1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUudG9TdGVwcGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHRvU3RlcHBpbmcodGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcblxuICAgIFNwZWN0cnVtLnByb3RvdHlwZS5mcm9tU3RlcHBpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZyb21TdGVwcGluZyh0aGlzLnhWYWwsIHRoaXMueFBjdCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0U3RlcCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IGdldFN0ZXAodGhpcy54UGN0LCB0aGlzLnhTdGVwcywgdGhpcy5zbmFwLCB2YWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0ZXAgPSBmdW5jdGlvbiAodmFsdWUsIGlzRG93biwgc2l6ZSkge1xuICAgICAgICB2YXIgaiA9IGdldEoodmFsdWUsIHRoaXMueFBjdCk7XG5cbiAgICAgICAgLy8gV2hlbiBhdCB0aGUgdG9wIG9yIHN0ZXBwaW5nIGRvd24sIGxvb2sgYXQgdGhlIHByZXZpb3VzIHN1Yi1yYW5nZVxuICAgICAgICBpZiAodmFsdWUgPT09IDEwMCB8fCAoaXNEb3duICYmIHZhbHVlID09PSB0aGlzLnhQY3RbaiAtIDFdKSkge1xuICAgICAgICAgICAgaiA9IE1hdGgubWF4KGogLSAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAodGhpcy54VmFsW2pdIC0gdGhpcy54VmFsW2ogLSAxXSkgLyBzaXplO1xuICAgIH07XG5cbiAgICBTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0TmVhcmJ5U3RlcHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGogPSBnZXRKKHZhbHVlLCB0aGlzLnhQY3QpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGVwQmVmb3JlOiB7XG4gICAgICAgICAgICAgICAgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2ogLSAyXSxcbiAgICAgICAgICAgICAgICBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqIC0gMl0sXG4gICAgICAgICAgICAgICAgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaiAtIDJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhpc1N0ZXA6IHtcbiAgICAgICAgICAgICAgICBzdGFydFZhbHVlOiB0aGlzLnhWYWxbaiAtIDFdLFxuICAgICAgICAgICAgICAgIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2ogLSAxXSxcbiAgICAgICAgICAgICAgICBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqIC0gMV1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGVwQWZ0ZXI6IHtcbiAgICAgICAgICAgICAgICBzdGFydFZhbHVlOiB0aGlzLnhWYWxbal0sXG4gICAgICAgICAgICAgICAgc3RlcDogdGhpcy54TnVtU3RlcHNbal0sXG4gICAgICAgICAgICAgICAgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbal1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLmNvdW50U3RlcERlY2ltYWxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RlcERlY2ltYWxzID0gdGhpcy54TnVtU3RlcHMubWFwKGNvdW50RGVjaW1hbHMpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgc3RlcERlY2ltYWxzKTtcbiAgICB9O1xuXG4gICAgLy8gT3V0c2lkZSB0ZXN0aW5nXG4gICAgU3BlY3RydW0ucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RlcCh0aGlzLnRvU3RlcHBpbmcodmFsdWUpKTtcbiAgICB9O1xuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIC8vcmVnaW9uIE9wdGlvbnNcblxuICAgIC8qXHRFdmVyeSBpbnB1dCBvcHRpb24gaXMgdGVzdGVkIGFuZCBwYXJzZWQuIFRoaXMnbGwgcHJldmVudFxuICAgICAgICBlbmRsZXNzIHZhbGlkYXRpb24gaW4gaW50ZXJuYWwgbWV0aG9kcy4gVGhlc2UgdGVzdHMgYXJlXG4gICAgICAgIHN0cnVjdHVyZWQgd2l0aCBhbiBpdGVtIGZvciBldmVyeSBvcHRpb24gYXZhaWxhYmxlLiBBblxuICAgICAgICBvcHRpb24gY2FuIGJlIG1hcmtlZCBhcyByZXF1aXJlZCBieSBzZXR0aW5nIHRoZSAncicgZmxhZy5cbiAgICAgICAgVGhlIHRlc3RpbmcgZnVuY3Rpb24gaXMgcHJvdmlkZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICAgICAgICAtIFRoZSBwcm92aWRlZCB2YWx1ZSBmb3IgdGhlIG9wdGlvbjtcbiAgICAgICAgICAgIC0gQSByZWZlcmVuY2UgdG8gdGhlIG9wdGlvbnMgb2JqZWN0O1xuICAgICAgICAgICAgLSBUaGUgbmFtZSBmb3IgdGhlIG9wdGlvbjtcblxuICAgICAgICBUaGUgdGVzdGluZyBmdW5jdGlvbiByZXR1cm5zIGZhbHNlIHdoZW4gYW4gZXJyb3IgaXMgZGV0ZWN0ZWQsXG4gICAgICAgIG9yIHRydWUgd2hlbiBldmVyeXRoaW5nIGlzIE9LLiBJdCBjYW4gYWxzbyBtb2RpZnkgdGhlIG9wdGlvblxuICAgICAgICBvYmplY3QsIHRvIG1ha2Ugc3VyZSBhbGwgdmFsdWVzIGNhbiBiZSBjb3JyZWN0bHkgbG9vcGVkIGVsc2V3aGVyZS4gKi9cblxuICAgIC8vcmVnaW9uIERlZmF1bHRzXG5cbiAgICB2YXIgZGVmYXVsdEZvcm1hdHRlciA9IHtcbiAgICAgICAgdG86IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUudG9GaXhlZCgyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnJvbTogTnVtYmVyXG4gICAgfTtcblxuICAgIHZhciBjc3NDbGFzc2VzID0ge1xuICAgICAgICB0YXJnZXQ6IFwidGFyZ2V0XCIsXG4gICAgICAgIGJhc2U6IFwiYmFzZVwiLFxuICAgICAgICBvcmlnaW46IFwib3JpZ2luXCIsXG4gICAgICAgIGhhbmRsZTogXCJoYW5kbGVcIixcbiAgICAgICAgaGFuZGxlTG93ZXI6IFwiaGFuZGxlLWxvd2VyXCIsXG4gICAgICAgIGhhbmRsZVVwcGVyOiBcImhhbmRsZS11cHBlclwiLFxuICAgICAgICB0b3VjaEFyZWE6IFwidG91Y2gtYXJlYVwiLFxuICAgICAgICBob3Jpem9udGFsOiBcImhvcml6b250YWxcIixcbiAgICAgICAgdmVydGljYWw6IFwidmVydGljYWxcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCJiYWNrZ3JvdW5kXCIsXG4gICAgICAgIGNvbm5lY3Q6IFwiY29ubmVjdFwiLFxuICAgICAgICBjb25uZWN0czogXCJjb25uZWN0c1wiLFxuICAgICAgICBsdHI6IFwibHRyXCIsXG4gICAgICAgIHJ0bDogXCJydGxcIixcbiAgICAgICAgdGV4dERpcmVjdGlvbkx0cjogXCJ0eHQtZGlyLWx0clwiLFxuICAgICAgICB0ZXh0RGlyZWN0aW9uUnRsOiBcInR4dC1kaXItcnRsXCIsXG4gICAgICAgIGRyYWdnYWJsZTogXCJkcmFnZ2FibGVcIixcbiAgICAgICAgZHJhZzogXCJzdGF0ZS1kcmFnXCIsXG4gICAgICAgIHRhcDogXCJzdGF0ZS10YXBcIixcbiAgICAgICAgYWN0aXZlOiBcImFjdGl2ZVwiLFxuICAgICAgICB0b29sdGlwOiBcInRvb2x0aXBcIixcbiAgICAgICAgcGlwczogXCJwaXBzXCIsXG4gICAgICAgIHBpcHNIb3Jpem9udGFsOiBcInBpcHMtaG9yaXpvbnRhbFwiLFxuICAgICAgICBwaXBzVmVydGljYWw6IFwicGlwcy12ZXJ0aWNhbFwiLFxuICAgICAgICBtYXJrZXI6IFwibWFya2VyXCIsXG4gICAgICAgIG1hcmtlckhvcml6b250YWw6IFwibWFya2VyLWhvcml6b250YWxcIixcbiAgICAgICAgbWFya2VyVmVydGljYWw6IFwibWFya2VyLXZlcnRpY2FsXCIsXG4gICAgICAgIG1hcmtlck5vcm1hbDogXCJtYXJrZXItbm9ybWFsXCIsXG4gICAgICAgIG1hcmtlckxhcmdlOiBcIm1hcmtlci1sYXJnZVwiLFxuICAgICAgICBtYXJrZXJTdWI6IFwibWFya2VyLXN1YlwiLFxuICAgICAgICB2YWx1ZTogXCJ2YWx1ZVwiLFxuICAgICAgICB2YWx1ZUhvcml6b250YWw6IFwidmFsdWUtaG9yaXpvbnRhbFwiLFxuICAgICAgICB2YWx1ZVZlcnRpY2FsOiBcInZhbHVlLXZlcnRpY2FsXCIsXG4gICAgICAgIHZhbHVlTm9ybWFsOiBcInZhbHVlLW5vcm1hbFwiLFxuICAgICAgICB2YWx1ZUxhcmdlOiBcInZhbHVlLWxhcmdlXCIsXG4gICAgICAgIHZhbHVlU3ViOiBcInZhbHVlLXN1YlwiXG4gICAgfTtcblxuICAgIC8vZW5kcmVnaW9uXG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdChlbnRyeSkge1xuICAgICAgICAvLyBBbnkgb2JqZWN0IHdpdGggYSB0byBhbmQgZnJvbSBtZXRob2QgaXMgc3VwcG9ydGVkLlxuICAgICAgICBpZiAoaXNWYWxpZEZvcm1hdHRlcihlbnRyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnZm9ybWF0JyByZXF1aXJlcyAndG8nIGFuZCAnZnJvbScgbWV0aG9kcy5cIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdFN0ZXAocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3N0ZXAnIGlzIG5vdCBudW1lcmljLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBzdGVwIG9wdGlvbiBjYW4gc3RpbGwgYmUgdXNlZCB0byBzZXQgc3RlcHBpbmdcbiAgICAgICAgLy8gZm9yIGxpbmVhciBzbGlkZXJzLiBPdmVyd3JpdHRlbiBpZiBzZXQgaW4gJ3JhbmdlJy5cbiAgICAgICAgcGFyc2VkLnNpbmdsZVN0ZXAgPSBlbnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0S2V5Ym9hcmRQYWdlTXVsdGlwbGllcihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAna2V5Ym9hcmRQYWdlTXVsdGlwbGllcicgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyc2VkLmtleWJvYXJkUGFnZU11bHRpcGxpZXIgPSBlbnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0S2V5Ym9hcmREZWZhdWx0U3RlcChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAna2V5Ym9hcmREZWZhdWx0U3RlcCcgaXMgbm90IG51bWVyaWMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyc2VkLmtleWJvYXJkRGVmYXVsdFN0ZXAgPSBlbnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0UmFuZ2UocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBGaWx0ZXIgaW5jb3JyZWN0IGlucHV0LlxuICAgICAgICBpZiAodHlwZW9mIGVudHJ5ICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgaXMgbm90IGFuIG9iamVjdC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYXRjaCBtaXNzaW5nIHN0YXJ0IG9yIGVuZC5cbiAgICAgICAgaWYgKGVudHJ5Lm1pbiA9PT0gdW5kZWZpbmVkIHx8IGVudHJ5Lm1heCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IE1pc3NpbmcgJ21pbicgb3IgJ21heCcgaW4gJ3JhbmdlJy5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYXRjaCBlcXVhbCBzdGFydCBvciBlbmQuXG4gICAgICAgIGlmIChlbnRyeS5taW4gPT09IGVudHJ5Lm1heCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnICdtaW4nIGFuZCAnbWF4JyBjYW5ub3QgYmUgZXF1YWwuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyc2VkLnNwZWN0cnVtID0gbmV3IFNwZWN0cnVtKGVudHJ5LCBwYXJzZWQuc25hcCwgcGFyc2VkLnNpbmdsZVN0ZXApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RTdGFydChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGVudHJ5ID0gYXNBcnJheShlbnRyeSk7XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgaW5wdXQuIFZhbHVlcyBhcmVuJ3QgdGVzdGVkLCBhcyB0aGUgcHVibGljIC52YWwgbWV0aG9kXG4gICAgICAgIC8vIHdpbGwgYWx3YXlzIHByb3ZpZGUgYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVudHJ5KSB8fCAhZW50cnkubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdzdGFydCcgb3B0aW9uIGlzIGluY29ycmVjdC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9yZSB0aGUgbnVtYmVyIG9mIGhhbmRsZXMuXG4gICAgICAgIHBhcnNlZC5oYW5kbGVzID0gZW50cnkubGVuZ3RoO1xuXG4gICAgICAgIC8vIFdoZW4gdGhlIHNsaWRlciBpcyBpbml0aWFsaXplZCwgdGhlIC52YWwgbWV0aG9kIHdpbGxcbiAgICAgICAgLy8gYmUgY2FsbGVkIHdpdGggdGhlIHN0YXJ0IG9wdGlvbnMuXG4gICAgICAgIHBhcnNlZC5zdGFydCA9IGVudHJ5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RTbmFwKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gRW5mb3JjZSAxMDAlIHN0ZXBwaW5nIHdpdGhpbiBzdWJyYW5nZXMuXG4gICAgICAgIHBhcnNlZC5zbmFwID0gZW50cnk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3NuYXAnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0QW5pbWF0ZShwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLlxuICAgICAgICBwYXJzZWQuYW5pbWF0ZSA9IGVudHJ5O1xuXG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdhbmltYXRlJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdEFuaW1hdGlvbkR1cmF0aW9uKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgcGFyc2VkLmFuaW1hdGlvbkR1cmF0aW9uID0gZW50cnk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnYW5pbWF0aW9uRHVyYXRpb24nIG9wdGlvbiBtdXN0IGJlIGEgbnVtYmVyLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RDb25uZWN0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgdmFyIGNvbm5lY3QgPSBbZmFsc2VdO1xuICAgICAgICB2YXIgaTtcblxuICAgICAgICAvLyBNYXAgbGVnYWN5IG9wdGlvbnNcbiAgICAgICAgaWYgKGVudHJ5ID09PSBcImxvd2VyXCIpIHtcbiAgICAgICAgICAgIGVudHJ5ID0gW3RydWUsIGZhbHNlXTtcbiAgICAgICAgfSBlbHNlIGlmIChlbnRyeSA9PT0gXCJ1cHBlclwiKSB7XG4gICAgICAgICAgICBlbnRyeSA9IFtmYWxzZSwgdHJ1ZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgYm9vbGVhbiBvcHRpb25zXG4gICAgICAgIGlmIChlbnRyeSA9PT0gdHJ1ZSB8fCBlbnRyeSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBwYXJzZWQuaGFuZGxlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdC5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29ubmVjdC5wdXNoKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlamVjdCBpbnZhbGlkIGlucHV0XG4gICAgICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGVudHJ5KSB8fCAhZW50cnkubGVuZ3RoIHx8IGVudHJ5Lmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMgKyAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdjb25uZWN0JyBvcHRpb24gZG9lc24ndCBtYXRjaCBoYW5kbGUgY291bnQuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29ubmVjdCA9IGVudHJ5O1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyc2VkLmNvbm5lY3QgPSBjb25uZWN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RPcmllbnRhdGlvbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIFNldCBvcmllbnRhdGlvbiB0byBhbiBhIG51bWVyaWNhbCB2YWx1ZSBmb3IgZWFzeVxuICAgICAgICAvLyBhcnJheSBzZWxlY3Rpb24uXG4gICAgICAgIHN3aXRjaCAoZW50cnkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJob3Jpem9udGFsXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VkLm9ydCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidmVydGljYWxcIjpcbiAgICAgICAgICAgICAgICBwYXJzZWQub3J0ID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnb3JpZW50YXRpb24nIG9wdGlvbiBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RNYXJnaW4ocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBpZiAoIWlzTnVtZXJpYyhlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ21hcmdpbicgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJc3N1ZSAjNTgyXG4gICAgICAgIGlmIChlbnRyeSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyc2VkLm1hcmdpbiA9IHBhcnNlZC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlbnRyeSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdExpbWl0KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKCFpc051bWVyaWMoZW50cnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdsaW1pdCcgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQubGltaXQgPSBwYXJzZWQuc3BlY3RydW0uZ2V0RGlzdGFuY2UoZW50cnkpO1xuXG4gICAgICAgIGlmICghcGFyc2VkLmxpbWl0IHx8IHBhcnNlZC5oYW5kbGVzIDwgMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIFwibm9VaVNsaWRlciAoXCIgK1xuICAgICAgICAgICAgICAgIFZFUlNJT04gK1xuICAgICAgICAgICAgICAgIFwiKTogJ2xpbWl0JyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMgd2l0aCAyIG9yIG1vcmUgaGFuZGxlcy5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RQYWRkaW5nKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgdmFyIGluZGV4O1xuXG4gICAgICAgIGlmICghaXNOdW1lcmljKGVudHJ5KSAmJiAhQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMgb3IgYXJyYXkgb2YgZXhhY3RseSAyIG51bWJlcnMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlbnRyeSkgJiYgIShlbnRyeS5sZW5ndGggPT09IDIgfHwgaXNOdW1lcmljKGVudHJ5WzBdKSB8fCBpc051bWVyaWMoZW50cnlbMV0pKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgbnVtZXJpYyBvciBhcnJheSBvZiBleGFjdGx5IDIgbnVtYmVycy5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVudHJ5KSkge1xuICAgICAgICAgICAgZW50cnkgPSBbZW50cnksIGVudHJ5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICdnZXREaXN0YW5jZScgcmV0dXJucyBmYWxzZSBmb3IgaW52YWxpZCB2YWx1ZXMuXG4gICAgICAgIHBhcnNlZC5wYWRkaW5nID0gW3BhcnNlZC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlbnRyeVswXSksIHBhcnNlZC5zcGVjdHJ1bS5nZXREaXN0YW5jZShlbnRyeVsxXSldO1xuXG4gICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHBhcnNlZC5zcGVjdHJ1bS54TnVtU3RlcHMubGVuZ3RoIC0gMTsgaW5kZXgrKykge1xuICAgICAgICAgICAgLy8gbGFzdCBcInJhbmdlXCIgY2FuJ3QgY29udGFpbiBzdGVwIHNpemUgYXMgaXQgaXMgcHVyZWx5IGFuIGVuZHBvaW50LlxuICAgICAgICAgICAgaWYgKHBhcnNlZC5wYWRkaW5nWzBdW2luZGV4XSA8IDAgfHwgcGFyc2VkLnBhZGRpbmdbMV1baW5kZXhdIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyKHMpLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3RhbFBhZGRpbmcgPSBlbnRyeVswXSArIGVudHJ5WzFdO1xuICAgICAgICB2YXIgZmlyc3RWYWx1ZSA9IHBhcnNlZC5zcGVjdHJ1bS54VmFsWzBdO1xuICAgICAgICB2YXIgbGFzdFZhbHVlID0gcGFyc2VkLnNwZWN0cnVtLnhWYWxbcGFyc2VkLnNwZWN0cnVtLnhWYWwubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKHRvdGFsUGFkZGluZyAvIChsYXN0VmFsdWUgLSBmaXJzdFZhbHVlKSA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IG5vdCBleGNlZWQgMTAwJSBvZiB0aGUgcmFuZ2UuXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdERpcmVjdGlvbihwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIC8vIFNldCBkaXJlY3Rpb24gYXMgYSBudW1lcmljYWwgdmFsdWUgZm9yIGVhc3kgcGFyc2luZy5cbiAgICAgICAgLy8gSW52ZXJ0IGNvbm5lY3Rpb24gZm9yIFJUTCBzbGlkZXJzLCBzbyB0aGF0IHRoZSBwcm9wZXJcbiAgICAgICAgLy8gaGFuZGxlcyBnZXQgdGhlIGNvbm5lY3QvYmFja2dyb3VuZCBjbGFzc2VzLlxuICAgICAgICBzd2l0Y2ggKGVudHJ5KSB7XG4gICAgICAgICAgICBjYXNlIFwibHRyXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VkLmRpciA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicnRsXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VkLmRpciA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2RpcmVjdGlvbicgb3B0aW9uIHdhcyBub3QgcmVjb2duaXplZC5cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0QmVoYXZpb3VyKHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBpbnB1dCBpcyBhIHN0cmluZy5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnYmVoYXZpb3VyJyBtdXN0IGJlIGEgc3RyaW5nIGNvbnRhaW5pbmcgb3B0aW9ucy5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgc3RyaW5nIGNvbnRhaW5zIGFueSBrZXl3b3Jkcy5cbiAgICAgICAgLy8gTm9uZSBhcmUgcmVxdWlyZWQuXG4gICAgICAgIHZhciB0YXAgPSBlbnRyeS5pbmRleE9mKFwidGFwXCIpID49IDA7XG4gICAgICAgIHZhciBkcmFnID0gZW50cnkuaW5kZXhPZihcImRyYWdcIikgPj0gMDtcbiAgICAgICAgdmFyIGZpeGVkID0gZW50cnkuaW5kZXhPZihcImZpeGVkXCIpID49IDA7XG4gICAgICAgIHZhciBzbmFwID0gZW50cnkuaW5kZXhPZihcInNuYXBcIikgPj0gMDtcbiAgICAgICAgdmFyIGhvdmVyID0gZW50cnkuaW5kZXhPZihcImhvdmVyXCIpID49IDA7XG4gICAgICAgIHZhciB1bmNvbnN0cmFpbmVkID0gZW50cnkuaW5kZXhPZihcInVuY29uc3RyYWluZWRcIikgPj0gMDtcblxuICAgICAgICBpZiAoZml4ZWQpIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWQuaGFuZGxlcyAhPT0gMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2ZpeGVkJyBiZWhhdmlvdXIgbXVzdCBiZSB1c2VkIHdpdGggMiBoYW5kbGVzXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVc2UgbWFyZ2luIHRvIGVuZm9yY2UgZml4ZWQgc3RhdGVcbiAgICAgICAgICAgIHRlc3RNYXJnaW4ocGFyc2VkLCBwYXJzZWQuc3RhcnRbMV0gLSBwYXJzZWQuc3RhcnRbMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVuY29uc3RyYWluZWQgJiYgKHBhcnNlZC5tYXJnaW4gfHwgcGFyc2VkLmxpbWl0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndW5jb25zdHJhaW5lZCcgYmVoYXZpb3VyIGNhbm5vdCBiZSB1c2VkIHdpdGggbWFyZ2luIG9yIGxpbWl0XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJzZWQuZXZlbnRzID0ge1xuICAgICAgICAgICAgdGFwOiB0YXAgfHwgc25hcCxcbiAgICAgICAgICAgIGRyYWc6IGRyYWcsXG4gICAgICAgICAgICBmaXhlZDogZml4ZWQsXG4gICAgICAgICAgICBzbmFwOiBzbmFwLFxuICAgICAgICAgICAgaG92ZXI6IGhvdmVyLFxuICAgICAgICAgICAgdW5jb25zdHJhaW5lZDogdW5jb25zdHJhaW5lZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RUb29sdGlwcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcGFyc2VkLnRvb2x0aXBzID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcy5wdXNoKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VkLnRvb2x0aXBzID0gYXNBcnJheShlbnRyeSk7XG5cbiAgICAgICAgICAgIGlmIChwYXJzZWQudG9vbHRpcHMubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogbXVzdCBwYXNzIGEgZm9ybWF0dGVyIGZvciBhbGwgaGFuZGxlcy5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcnNlZC50b29sdGlwcy5mb3JFYWNoKGZ1bmN0aW9uIChmb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBmb3JtYXR0ZXIgIT09IFwiYm9vbGVhblwiICYmXG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZm9ybWF0dGVyICE9PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmb3JtYXR0ZXIudG8gIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndG9vbHRpcHMnIG11c3QgYmUgcGFzc2VkIGEgZm9ybWF0dGVyIG9yICdmYWxzZScuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdEFyaWFGb3JtYXQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQuYXJpYUZvcm1hdCA9IGVudHJ5O1xuICAgICAgICB2YWxpZGF0ZUZvcm1hdChlbnRyeSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGVzdEZvcm1hdChwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIHBhcnNlZC5mb3JtYXQgPSBlbnRyeTtcbiAgICAgICAgdmFsaWRhdGVGb3JtYXQoZW50cnkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3RLZXlib2FyZFN1cHBvcnQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICBwYXJzZWQua2V5Ym9hcmRTdXBwb3J0ID0gZW50cnk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2tleWJvYXJkU3VwcG9ydCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3REb2N1bWVudEVsZW1lbnQocGFyc2VkLCBlbnRyeSkge1xuICAgICAgICAvLyBUaGlzIGlzIGFuIGFkdmFuY2VkIG9wdGlvbi4gUGFzc2VkIHZhbHVlcyBhcmUgdXNlZCB3aXRob3V0IHZhbGlkYXRpb24uXG4gICAgICAgIHBhcnNlZC5kb2N1bWVudEVsZW1lbnQgPSBlbnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzUHJlZml4KHBhcnNlZCwgZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSAhPT0gXCJzdHJpbmdcIiAmJiBlbnRyeSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nzc1ByZWZpeCcgbXVzdCBiZSBhIHN0cmluZyBvciBgZmFsc2VgLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnNlZC5jc3NQcmVmaXggPSBlbnRyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0Q3NzQ2xhc3NlcyhwYXJzZWQsIGVudHJ5KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nzc0NsYXNzZXMnIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgcGFyc2VkLmNzc1ByZWZpeCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcGFyc2VkLmNzc0NsYXNzZXMgPSB7fTtcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbnRyeS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzW2tleV0gPSBwYXJzZWQuY3NzUHJlZml4ICsgZW50cnlba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZC5jc3NDbGFzc2VzID0gZW50cnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUZXN0IGFsbCBkZXZlbG9wZXIgc2V0dGluZ3MgYW5kIHBhcnNlIHRvIGFzc3VtcHRpb24tc2FmZSB2YWx1ZXMuXG4gICAgZnVuY3Rpb24gdGVzdE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAvLyBUbyBwcm92ZSBhIGZpeCBmb3IgIzUzNywgZnJlZXplIG9wdGlvbnMgaGVyZS5cbiAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBpcyBtb2RpZmllZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gICAgICAgIC8vIE9iamVjdC5mcmVlemUob3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHBhcnNlZCA9IHtcbiAgICAgICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgICAgIGxpbWl0OiAwLFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgYXJpYUZvcm1hdDogZGVmYXVsdEZvcm1hdHRlcixcbiAgICAgICAgICAgIGZvcm1hdDogZGVmYXVsdEZvcm1hdHRlclxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRlc3RzIGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJlc2VudGVkIGhlcmUuXG4gICAgICAgIHZhciB0ZXN0cyA9IHtcbiAgICAgICAgICAgIHN0ZXA6IHtcbiAgICAgICAgICAgICAgICByOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0OiB0ZXN0U3RlcFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleWJvYXJkUGFnZU11bHRpcGxpZXI6IHtcbiAgICAgICAgICAgICAgICByOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0OiB0ZXN0S2V5Ym9hcmRQYWdlTXVsdGlwbGllclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleWJvYXJkRGVmYXVsdFN0ZXA6IHtcbiAgICAgICAgICAgICAgICByOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0OiB0ZXN0S2V5Ym9hcmREZWZhdWx0U3RlcFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXJ0OiB7XG4gICAgICAgICAgICAgICAgcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0OiB0ZXN0U3RhcnRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25uZWN0OiB7XG4gICAgICAgICAgICAgICAgcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0OiB0ZXN0Q29ubmVjdFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpcmVjdGlvbjoge1xuICAgICAgICAgICAgICAgIHI6IHRydWUsXG4gICAgICAgICAgICAgICAgdDogdGVzdERpcmVjdGlvblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNuYXA6IHtcbiAgICAgICAgICAgICAgICByOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0OiB0ZXN0U25hcFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuaW1hdGU6IHtcbiAgICAgICAgICAgICAgICByOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0OiB0ZXN0QW5pbWF0ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiB7XG4gICAgICAgICAgICAgICAgcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdDogdGVzdEFuaW1hdGlvbkR1cmF0aW9uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICAgICByOiB0cnVlLFxuICAgICAgICAgICAgICAgIHQ6IHRlc3RSYW5nZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB7XG4gICAgICAgICAgICAgICAgcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdDogdGVzdE9yaWVudGF0aW9uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICAgICAgcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdDogdGVzdE1hcmdpblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbWl0OiB7XG4gICAgICAgICAgICAgICAgcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdDogdGVzdExpbWl0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgICAgIHI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHQ6IHRlc3RQYWRkaW5nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmVoYXZpb3VyOiB7XG4gICAgICAgICAgICAgICAgcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0OiB0ZXN0QmVoYXZpb3VyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXJpYUZvcm1hdDoge1xuICAgICAgICAgICAgICAgIHI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHQ6IHRlc3RBcmlhRm9ybWF0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybWF0OiB7XG4gICAgICAgICAgICAgICAgcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdDogdGVzdEZvcm1hdFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvb2x0aXBzOiB7XG4gICAgICAgICAgICAgICAgcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdDogdGVzdFRvb2x0aXBzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5Ym9hcmRTdXBwb3J0OiB7XG4gICAgICAgICAgICAgICAgcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0OiB0ZXN0S2V5Ym9hcmRTdXBwb3J0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9jdW1lbnRFbGVtZW50OiB7XG4gICAgICAgICAgICAgICAgcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdDogdGVzdERvY3VtZW50RWxlbWVudFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNzc1ByZWZpeDoge1xuICAgICAgICAgICAgICAgIHI6IHRydWUsXG4gICAgICAgICAgICAgICAgdDogdGVzdENzc1ByZWZpeFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNzc0NsYXNzZXM6IHtcbiAgICAgICAgICAgICAgICByOiB0cnVlLFxuICAgICAgICAgICAgICAgIHQ6IHRlc3RDc3NDbGFzc2VzXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgY29ubmVjdDogZmFsc2UsXG4gICAgICAgICAgICBkaXJlY3Rpb246IFwibHRyXCIsXG4gICAgICAgICAgICBiZWhhdmlvdXI6IFwidGFwXCIsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogXCJob3Jpem9udGFsXCIsXG4gICAgICAgICAgICBrZXlib2FyZFN1cHBvcnQ6IHRydWUsXG4gICAgICAgICAgICBjc3NQcmVmaXg6IFwibm9VaS1cIixcbiAgICAgICAgICAgIGNzc0NsYXNzZXM6IGNzc0NsYXNzZXMsXG4gICAgICAgICAgICBrZXlib2FyZFBhZ2VNdWx0aXBsaWVyOiA1LFxuICAgICAgICAgICAga2V5Ym9hcmREZWZhdWx0U3RlcDogMTBcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBBcmlhRm9ybWF0IGRlZmF1bHRzIHRvIHJlZ3VsYXIgZm9ybWF0LCBpZiBhbnkuXG4gICAgICAgIGlmIChvcHRpb25zLmZvcm1hdCAmJiAhb3B0aW9ucy5hcmlhRm9ybWF0KSB7XG4gICAgICAgICAgICBvcHRpb25zLmFyaWFGb3JtYXQgPSBvcHRpb25zLmZvcm1hdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biBhbGwgb3B0aW9ucyB0aHJvdWdoIGEgdGVzdGluZyBtZWNoYW5pc20gdG8gZW5zdXJlIGNvcnJlY3RcbiAgICAgICAgLy8gaW5wdXQuIEl0IHNob3VsZCBiZSBub3RlZCB0aGF0IG9wdGlvbnMgbWlnaHQgZ2V0IG1vZGlmaWVkIHRvXG4gICAgICAgIC8vIGJlIGhhbmRsZWQgcHJvcGVybHkuIEUuZy4gd3JhcHBpbmcgaW50ZWdlcnMgaW4gYXJyYXlzLlxuICAgICAgICBPYmplY3Qua2V5cyh0ZXN0cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIG9wdGlvbiBpc24ndCBzZXQsIGJ1dCBpdCBpcyByZXF1aXJlZCwgdGhyb3cgYW4gZXJyb3IuXG4gICAgICAgICAgICBpZiAoIWlzU2V0KG9wdGlvbnNbbmFtZV0pICYmIGRlZmF1bHRzW25hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGVzdHNbbmFtZV0ucikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdcIiArIG5hbWUgKyBcIicgaXMgcmVxdWlyZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXN0c1tuYW1lXS50KHBhcnNlZCwgIWlzU2V0KG9wdGlvbnNbbmFtZV0pID8gZGVmYXVsdHNbbmFtZV0gOiBvcHRpb25zW25hbWVdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRm9yd2FyZCBwaXBzIG9wdGlvbnNcbiAgICAgICAgcGFyc2VkLnBpcHMgPSBvcHRpb25zLnBpcHM7XG5cbiAgICAgICAgLy8gQWxsIHJlY2VudCBicm93c2VycyBhY2NlcHQgdW5wcmVmaXhlZCB0cmFuc2Zvcm0uXG4gICAgICAgIC8vIFdlIG5lZWQgLW1zLSBmb3IgSUU5IGFuZCAtd2Via2l0LSBmb3Igb2xkZXIgQW5kcm9pZDtcbiAgICAgICAgLy8gQXNzdW1lIHVzZSBvZiAtd2Via2l0LSBpZiB1bnByZWZpeGVkIGFuZCAtbXMtIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgICAgICAvLyBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PXRyYW5zZm9ybXMyZFxuICAgICAgICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZhciBtc1ByZWZpeCA9IGQuc3R5bGUubXNUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIG5vUHJlZml4ID0gZC5zdHlsZS50cmFuc2Zvcm0gIT09IHVuZGVmaW5lZDtcblxuICAgICAgICBwYXJzZWQudHJhbnNmb3JtUnVsZSA9IG5vUHJlZml4ID8gXCJ0cmFuc2Zvcm1cIiA6IG1zUHJlZml4ID8gXCJtc1RyYW5zZm9ybVwiIDogXCJ3ZWJraXRUcmFuc2Zvcm1cIjtcblxuICAgICAgICAvLyBQaXBzIGRvbid0IG1vdmUsIHNvIHdlIGNhbiBwbGFjZSB0aGVtIHVzaW5nIGxlZnQvdG9wLlxuICAgICAgICB2YXIgc3R5bGVzID0gW1xuICAgICAgICAgICAgW1wibGVmdFwiLCBcInRvcFwiXSxcbiAgICAgICAgICAgIFtcInJpZ2h0XCIsIFwiYm90dG9tXCJdXG4gICAgICAgIF07XG5cbiAgICAgICAgcGFyc2VkLnN0eWxlID0gc3R5bGVzW3BhcnNlZC5kaXJdW3BhcnNlZC5vcnRdO1xuXG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuXG4gICAgLy9lbmRyZWdpb25cblxuICAgIGZ1bmN0aW9uIHNjb3BlKHRhcmdldCwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gZ2V0QWN0aW9ucygpO1xuICAgICAgICB2YXIgc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgPSBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSgpO1xuICAgICAgICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgJiYgZ2V0U3VwcG9ydHNQYXNzaXZlKCk7XG5cbiAgICAgICAgLy8gQWxsIHZhcmlhYmxlcyBsb2NhbCB0byAnc2NvcGUnIGFyZSBwcmVmaXhlZCB3aXRoICdzY29wZV8nXG5cbiAgICAgICAgLy8gU2xpZGVyIERPTSBOb2Rlc1xuICAgICAgICB2YXIgc2NvcGVfVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB2YXIgc2NvcGVfQmFzZTtcbiAgICAgICAgdmFyIHNjb3BlX0hhbmRsZXM7XG4gICAgICAgIHZhciBzY29wZV9Db25uZWN0cztcbiAgICAgICAgdmFyIHNjb3BlX1BpcHM7XG4gICAgICAgIHZhciBzY29wZV9Ub29sdGlwcztcblxuICAgICAgICAvLyBTbGlkZXIgc3RhdGUgdmFsdWVzXG4gICAgICAgIHZhciBzY29wZV9TcGVjdHJ1bSA9IG9wdGlvbnMuc3BlY3RydW07XG4gICAgICAgIHZhciBzY29wZV9WYWx1ZXMgPSBbXTtcbiAgICAgICAgdmFyIHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgc2NvcGVfSGFuZGxlTnVtYmVycyA9IFtdO1xuICAgICAgICB2YXIgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID0gMDtcbiAgICAgICAgdmFyIHNjb3BlX0V2ZW50cyA9IHt9O1xuXG4gICAgICAgIC8vIEV4cG9zZWQgQVBJXG4gICAgICAgIHZhciBzY29wZV9TZWxmO1xuXG4gICAgICAgIC8vIERvY3VtZW50IE5vZGVzXG4gICAgICAgIHZhciBzY29wZV9Eb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgICB2YXIgc2NvcGVfRG9jdW1lbnRFbGVtZW50ID0gb3B0aW9ucy5kb2N1bWVudEVsZW1lbnQgfHwgc2NvcGVfRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB2YXIgc2NvcGVfQm9keSA9IHNjb3BlX0RvY3VtZW50LmJvZHk7XG5cbiAgICAgICAgLy8gUGlwcyBjb25zdGFudHNcbiAgICAgICAgdmFyIFBJUFNfTk9ORSA9IC0xO1xuICAgICAgICB2YXIgUElQU19OT19WQUxVRSA9IDA7XG4gICAgICAgIHZhciBQSVBTX0xBUkdFX1ZBTFVFID0gMTtcbiAgICAgICAgdmFyIFBJUFNfU01BTExfVkFMVUUgPSAyO1xuXG4gICAgICAgIC8vIEZvciBob3Jpem9udGFsIHNsaWRlcnMgaW4gc3RhbmRhcmQgbHRyIGRvY3VtZW50cyxcbiAgICAgICAgLy8gbWFrZSAubm9VaS1vcmlnaW4gb3ZlcmZsb3cgdG8gdGhlIGxlZnQgc28gdGhlIGRvY3VtZW50IGRvZXNuJ3Qgc2Nyb2xsLlxuICAgICAgICB2YXIgc2NvcGVfRGlyT2Zmc2V0ID0gc2NvcGVfRG9jdW1lbnQuZGlyID09PSBcInJ0bFwiIHx8IG9wdGlvbnMub3J0ID09PSAxID8gMCA6IDEwMDtcblxuICAgICAgICAvLyBDcmVhdGVzIGEgbm9kZSwgYWRkcyBpdCB0byB0YXJnZXQsIHJldHVybnMgdGhlIG5ldyBub2RlLlxuICAgICAgICBmdW5jdGlvbiBhZGROb2RlVG8oYWRkVGFyZ2V0LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoZGl2LCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZGRUYXJnZXQuYXBwZW5kQ2hpbGQoZGl2KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRpdjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGVuZCBhIG9yaWdpbiB0byB0aGUgYmFzZVxuICAgICAgICBmdW5jdGlvbiBhZGRPcmlnaW4oYmFzZSwgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luID0gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5vcmlnaW4pO1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGFkZE5vZGVUbyhvcmlnaW4sIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGUpO1xuXG4gICAgICAgICAgICBhZGROb2RlVG8oaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMudG91Y2hBcmVhKTtcblxuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcImRhdGEtaGFuZGxlXCIsIGhhbmRsZU51bWJlcik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmtleWJvYXJkU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXhcbiAgICAgICAgICAgICAgICAvLyAwID0gZm9jdXNhYmxlIGFuZCByZWFjaGFibGVcbiAgICAgICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgIGhhbmRsZS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50S2V5ZG93bihldmVudCwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaGFuZGxlLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJzbGlkZXJcIik7XG4gICAgICAgICAgICBoYW5kbGUuc2V0QXR0cmlidXRlKFwiYXJpYS1vcmllbnRhdGlvblwiLCBvcHRpb25zLm9ydCA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwiKTtcblxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmhhbmRsZUxvd2VyKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlTnVtYmVyID09PSBvcHRpb25zLmhhbmRsZXMgLSAxKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlVXBwZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5zZXJ0IG5vZGVzIGZvciBjb25uZWN0IGVsZW1lbnRzXG4gICAgICAgIGZ1bmN0aW9uIGFkZENvbm5lY3QoYmFzZSwgYWRkKSB7XG4gICAgICAgICAgICBpZiAoIWFkZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMuY29ubmVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgaGFuZGxlcyB0byB0aGUgc2xpZGVyIGJhc2UuXG4gICAgICAgIGZ1bmN0aW9uIGFkZEVsZW1lbnRzKGNvbm5lY3RPcHRpb25zLCBiYXNlKSB7XG4gICAgICAgICAgICB2YXIgY29ubmVjdEJhc2UgPSBhZGROb2RlVG8oYmFzZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmNvbm5lY3RzKTtcblxuICAgICAgICAgICAgc2NvcGVfSGFuZGxlcyA9IFtdO1xuICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMgPSBbXTtcblxuICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMucHVzaChhZGRDb25uZWN0KGNvbm5lY3RCYXNlLCBjb25uZWN0T3B0aW9uc1swXSkpO1xuXG4gICAgICAgICAgICAvLyBbOjo6Ok89PT09Tz09PT1PPT09PV1cbiAgICAgICAgICAgIC8vIGNvbm5lY3RPcHRpb25zID0gWzAsIDEsIDEsIDFdXG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5oYW5kbGVzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBLZWVwIGEgbGlzdCBvZiBhbGwgYWRkZWQgaGFuZGxlcy5cbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzLnB1c2goYWRkT3JpZ2luKGJhc2UsIGkpKTtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzW2ldID0gaTtcbiAgICAgICAgICAgICAgICBzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoY29ubmVjdEJhc2UsIGNvbm5lY3RPcHRpb25zW2kgKyAxXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBhIHNpbmdsZSBzbGlkZXIuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFNsaWRlcihhZGRUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIEFwcGx5IGNsYXNzZXMgYW5kIGRhdGEgdG8gdGhlIHRhcmdldC5cbiAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcmdldCk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpciA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmx0cik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnJ0bCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9ydCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGFkZFRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmhvcml6b250YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy52ZXJ0aWNhbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0ZXh0RGlyZWN0aW9uID0gZ2V0Q29tcHV0ZWRTdHlsZShhZGRUYXJnZXQpLmRpcmVjdGlvbjtcblxuICAgICAgICAgICAgaWYgKHRleHREaXJlY3Rpb24gPT09IFwicnRsXCIpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhhZGRUYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50ZXh0RGlyZWN0aW9uUnRsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGV4dERpcmVjdGlvbkx0cik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhZGROb2RlVG8oYWRkVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuYmFzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZGRUb29sdGlwKGhhbmRsZSwgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFkZE5vZGVUbyhoYW5kbGUuZmlyc3RDaGlsZCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRvb2x0aXApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNTbGlkZXJEaXNhYmxlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZV9UYXJnZXQuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEaXNhYmxlIHRoZSBzbGlkZXIgZHJhZ2dpbmcgaWYgYW55IGhhbmRsZSBpcyBkaXNhYmxlZFxuICAgICAgICBmdW5jdGlvbiBpc0hhbmRsZURpc2FibGVkKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVPcmlnaW4uaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVUb29sdGlwcygpIHtcbiAgICAgICAgICAgIGlmIChzY29wZV9Ub29sdGlwcykge1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KFwidXBkYXRlLnRvb2x0aXBzXCIpO1xuICAgICAgICAgICAgICAgIHNjb3BlX1Rvb2x0aXBzLmZvckVhY2goZnVuY3Rpb24gKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVsZW1lbnQodG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzY29wZV9Ub29sdGlwcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgdG9vbHRpcHMgb3B0aW9uIGlzIGEgc2hvcnRoYW5kIGZvciB1c2luZyB0aGUgJ3VwZGF0ZScgZXZlbnQuXG4gICAgICAgIGZ1bmN0aW9uIHRvb2x0aXBzKCkge1xuICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcHMoKTtcblxuICAgICAgICAgICAgLy8gVG9vbHRpcHMgYXJlIGFkZGVkIHdpdGggb3B0aW9ucy50b29sdGlwcyBpbiBvcmlnaW5hbCBvcmRlci5cbiAgICAgICAgICAgIHNjb3BlX1Rvb2x0aXBzID0gc2NvcGVfSGFuZGxlcy5tYXAoYWRkVG9vbHRpcCk7XG5cbiAgICAgICAgICAgIGJpbmRFdmVudChcInVwZGF0ZS50b29sdGlwc1wiLCBmdW5jdGlvbiAodmFsdWVzLCBoYW5kbGVOdW1iZXIsIHVuZW5jb2RlZCkge1xuICAgICAgICAgICAgICAgIGlmICghc2NvcGVfVG9vbHRpcHNbaGFuZGxlTnVtYmVyXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWVzW2hhbmRsZU51bWJlcl07XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZFZhbHVlID0gb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdLnRvKHVuZW5jb2RlZFtoYW5kbGVOdW1iZXJdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZV9Ub29sdGlwc1toYW5kbGVOdW1iZXJdLmlubmVySFRNTCA9IGZvcm1hdHRlZFZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhcmlhKCkge1xuICAgICAgICAgICAgYmluZEV2ZW50KFwidXBkYXRlXCIsIGZ1bmN0aW9uICh2YWx1ZXMsIGhhbmRsZU51bWJlciwgdW5lbmNvZGVkLCB0YXAsIHBvc2l0aW9ucykge1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBBcmlhIFZhbHVlcyBmb3IgYWxsIGhhbmRsZXMsIGFzIGEgY2hhbmdlIGluIG9uZSBjaGFuZ2VzIG1pbiBhbmQgbWF4IHZhbHVlcyBmb3IgdGhlIG5leHQuXG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlID0gc2NvcGVfSGFuZGxlc1tpbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbiA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBpbmRleCwgMCwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXggPSBjaGVja0hhbmRsZVBvc2l0aW9uKHNjb3BlX0xvY2F0aW9ucywgaW5kZXgsIDEwMCwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdyA9IHBvc2l0aW9uc1tpbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9ybWF0dGVkIHZhbHVlIGZvciBkaXNwbGF5XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gb3B0aW9ucy5hcmlhRm9ybWF0LnRvKHVuZW5jb2RlZFtpbmRleF0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1hcCB0byBzbGlkZXIgcmFuZ2UgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhtaW4pLnRvRml4ZWQoMSk7XG4gICAgICAgICAgICAgICAgICAgIG1heCA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhtYXgpLnRvRml4ZWQoMSk7XG4gICAgICAgICAgICAgICAgICAgIG5vdyA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhub3cpLnRvRml4ZWQoMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVtaW5cIiwgbWluKTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVtYXhcIiwgbWF4KTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWVub3dcIiwgbm93KTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZShcImFyaWEtdmFsdWV0ZXh0XCIsIHRleHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRHcm91cChtb2RlLCB2YWx1ZXMsIHN0ZXBwZWQpIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgcmFuZ2UuXG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gXCJyYW5nZVwiIHx8IG1vZGUgPT09IFwic3RlcHNcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9TcGVjdHJ1bS54VmFsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gXCJjb3VudFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlcyA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndmFsdWVzJyAoPj0gMikgcmVxdWlyZWQgZm9yIG1vZGUgJ2NvdW50Jy5cIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRGl2aWRlIDAgLSAxMDAgaW4gJ2NvdW50JyBwYXJ0cy5cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSB2YWx1ZXMgLSAxO1xuICAgICAgICAgICAgICAgIHZhciBzcHJlYWQgPSAxMDAgLyBpbnRlcnZhbDtcblxuICAgICAgICAgICAgICAgIHZhbHVlcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgLy8gTGlzdCB0aGVzZSBwYXJ0cyBhbmQgaGF2ZSB0aGVtIGhhbmRsZWQgYXMgJ3Bvc2l0aW9ucycuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGludGVydmFsLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ludGVydmFsXSA9IGludGVydmFsICogc3ByZWFkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKDEwMCk7XG5cbiAgICAgICAgICAgICAgICBtb2RlID0gXCJwb3NpdGlvbnNcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwicG9zaXRpb25zXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBNYXAgYWxsIHBlcmNlbnRhZ2VzIHRvIG9uLXJhbmdlIHZhbHVlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhzdGVwcGVkID8gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcInZhbHVlc1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIG11c3QgYmUgc3RlcHBlZCwgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgcGVyY2VudGFnZSBmaXJzdC5cbiAgICAgICAgICAgICAgICBpZiAoc3RlcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdG8gcGVyY2VudGFnZSwgYXBwbHkgc3RlcCwgcmV0dXJuIHRvIHZhbHVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyhzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodmFsdWUpKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd2UgY2FuIHNpbXBseSB1c2UgdGhlIHZhbHVlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVTcHJlYWQoZGVuc2l0eSwgbW9kZSwgZ3JvdXApIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhZmVJbmNyZW1lbnQodmFsdWUsIGluY3JlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIEF2b2lkIGZsb2F0aW5nIHBvaW50IHZhcmlhbmNlIGJ5IGRyb3BwaW5nIHRoZSBzbWFsbGVzdCBkZWNpbWFsIHBsYWNlcy5cbiAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlICsgaW5jcmVtZW50KS50b0ZpeGVkKDcpIC8gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGluZGV4ZXMgPSB7fTtcbiAgICAgICAgICAgIHZhciBmaXJzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsWzBdO1xuICAgICAgICAgICAgdmFyIGxhc3RJblJhbmdlID0gc2NvcGVfU3BlY3RydW0ueFZhbFtzY29wZV9TcGVjdHJ1bS54VmFsLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdmFyIGlnbm9yZUZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaWdub3JlTGFzdCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHByZXZQY3QgPSAwO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBncm91cCwgc29ydCBpdCBhbmQgZmlsdGVyIGF3YXkgYWxsIGR1cGxpY2F0ZXMuXG4gICAgICAgICAgICBncm91cCA9IHVuaXF1ZShcbiAgICAgICAgICAgICAgICBncm91cC5zbGljZSgpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgLSBiO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHJhbmdlIHN0YXJ0cyB3aXRoIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgICAgICAgICAgaWYgKGdyb3VwWzBdICE9PSBmaXJzdEluUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBncm91cC51bnNoaWZ0KGZpcnN0SW5SYW5nZSk7XG4gICAgICAgICAgICAgICAgaWdub3JlRmlyc3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMaWtld2lzZSBmb3IgdGhlIGxhc3Qgb25lLlxuICAgICAgICAgICAgaWYgKGdyb3VwW2dyb3VwLmxlbmd0aCAtIDFdICE9PSBsYXN0SW5SYW5nZSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLnB1c2gobGFzdEluUmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlnbm9yZUxhc3QgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBncm91cC5mb3JFYWNoKGZ1bmN0aW9uIChjdXJyZW50LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgY3VycmVudCBzdGVwIGFuZCB0aGUgbG93ZXIgKyB1cHBlciBwb3NpdGlvbnMuXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIHE7XG4gICAgICAgICAgICAgICAgdmFyIGxvdyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIGhpZ2ggPSBncm91cFtpbmRleCArIDFdO1xuICAgICAgICAgICAgICAgIHZhciBuZXdQY3Q7XG4gICAgICAgICAgICAgICAgdmFyIHBjdERpZmZlcmVuY2U7XG4gICAgICAgICAgICAgICAgdmFyIHBjdFBvcztcbiAgICAgICAgICAgICAgICB2YXIgdHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcHM7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWxTdGVwcztcbiAgICAgICAgICAgICAgICB2YXIgc3RlcFNpemU7XG4gICAgICAgICAgICAgICAgdmFyIGlzU3RlcHMgPSBtb2RlID09PSBcInN0ZXBzXCI7XG5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHVzaW5nICdzdGVwcycgbW9kZSwgdXNlIHRoZSBwcm92aWRlZCBzdGVwcy5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHdlJ2xsIHN0ZXAgb24gdG8gdGhlIG5leHQgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgaWYgKGlzU3RlcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IHNjb3BlX1NwZWN0cnVtLnhOdW1TdGVwc1tpbmRleF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBhICdmdWxsJyBzdGVwLlxuICAgICAgICAgICAgICAgIGlmICghc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwID0gaGlnaCAtIGxvdztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBMb3cgY2FuIGJlIDAsIHNvIHRlc3QgZm9yIGZhbHNlLiBJbmRleCAwIGlzIGFscmVhZHkgaGFuZGxlZC5cbiAgICAgICAgICAgICAgICBpZiAobG93ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgaGlnaCBpcyB1bmRlZmluZWQgd2UgYXJlIGF0IHRoZSBsYXN0IHN1YnJhbmdlLiBNYWtlIHN1cmUgaXQgaXRlcmF0ZXMgb25jZSAoIzEwODgpXG4gICAgICAgICAgICAgICAgaWYgKGhpZ2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBoaWdoID0gbG93O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBzdGVwIGlzbid0IDAsIHdoaWNoIHdvdWxkIGNhdXNlIGFuIGluZmluaXRlIGxvb3AgKCM2NTQpXG4gICAgICAgICAgICAgICAgc3RlcCA9IE1hdGgubWF4KHN0ZXAsIDAuMDAwMDAwMSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGaW5kIGFsbCBzdGVwcyBpbiB0aGUgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gbG93OyBpIDw9IGhpZ2g7IGkgPSBzYWZlSW5jcmVtZW50KGksIHN0ZXApKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgc3RlcCxcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBzaXplIGZvciB0aGUgc3VicmFuZ2UuXG4gICAgICAgICAgICAgICAgICAgIG5ld1BjdCA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcoaSk7XG4gICAgICAgICAgICAgICAgICAgIHBjdERpZmZlcmVuY2UgPSBuZXdQY3QgLSBwcmV2UGN0O1xuXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBzID0gcGN0RGlmZmVyZW5jZSAvIGRlbnNpdHk7XG4gICAgICAgICAgICAgICAgICAgIHJlYWxTdGVwcyA9IE1hdGgucm91bmQoc3RlcHMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgcmF0aW8gcmVwcmVzZW50cyB0aGUgYW1vdW50IG9mIHBlcmNlbnRhZ2Utc3BhY2UgYSBwb2ludCBpbmRpY2F0ZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBhIGRlbnNpdHkgMSB0aGUgcG9pbnRzL3BlcmNlbnRhZ2UgPSAxLiBGb3IgZGVuc2l0eSAyLCB0aGF0IHBlcmNlbnRhZ2UgbmVlZHMgdG8gYmUgcmUtZGl2aWRlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gUm91bmQgdGhlIHBlcmNlbnRhZ2Ugb2Zmc2V0IHRvIGFuIGV2ZW4gbnVtYmVyLCB0aGVuIGRpdmlkZSBieSB0d29cbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gc3ByZWFkIHRoZSBvZmZzZXQgb24gYm90aCBzaWRlcyBvZiB0aGUgcmFuZ2UuXG4gICAgICAgICAgICAgICAgICAgIHN0ZXBTaXplID0gcGN0RGlmZmVyZW5jZSAvIHJlYWxTdGVwcztcblxuICAgICAgICAgICAgICAgICAgICAvLyBEaXZpZGUgYWxsIHBvaW50cyBldmVubHksIGFkZGluZyB0aGUgY29ycmVjdCBudW1iZXIgdG8gdGhpcyBzdWJyYW5nZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gUnVuIHVwIHRvIDw9IHNvIHRoYXQgMTAwJSBnZXRzIGEgcG9pbnQsIGV2ZW50IGlmIGlnbm9yZUxhc3QgaXMgc2V0LlxuICAgICAgICAgICAgICAgICAgICBmb3IgKHEgPSAxOyBxIDw9IHJlYWxTdGVwczsgcSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcmF0aW8gYmV0d2VlbiB0aGUgcm91bmRlZCB2YWx1ZSBhbmQgdGhlIGFjdHVhbCBzaXplIG1pZ2h0IGJlIH4xJSBvZmYuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3JyZWN0IHRoZSBwZXJjZW50YWdlIG9mZnNldCBieSB0aGUgbnVtYmVyIG9mIHBvaW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGVyIHN1YnJhbmdlLiBkZW5zaXR5ID0gMSB3aWxsIHJlc3VsdCBpbiAxMDAgcG9pbnRzIG9uIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVsbCByYW5nZSwgMiBmb3IgNTAsIDQgZm9yIDI1LCBldGMuXG4gICAgICAgICAgICAgICAgICAgICAgICBwY3RQb3MgPSBwcmV2UGN0ICsgcSAqIHN0ZXBTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhlc1twY3RQb3MudG9GaXhlZCg1KV0gPSBbc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHBjdFBvcyksIDBdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBwb2ludCB0eXBlLlxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gZ3JvdXAuaW5kZXhPZihpKSA+IC0xID8gUElQU19MQVJHRV9WQUxVRSA6IGlzU3RlcHMgPyBQSVBTX1NNQUxMX1ZBTFVFIDogUElQU19OT19WQUxVRTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBFbmZvcmNlIHRoZSAnaWdub3JlRmlyc3QnIG9wdGlvbiBieSBvdmVyd3JpdGluZyB0aGUgdHlwZSBmb3IgMC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbmRleCAmJiBpZ25vcmVGaXJzdCAmJiBpICE9PSBoaWdoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGkgPT09IGhpZ2ggJiYgaWdub3JlTGFzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlICd0eXBlJyBvZiB0aGlzIHBvaW50LiAwID0gcGxhaW4sIDEgPSByZWFsIHZhbHVlLCAyID0gc3RlcCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ZXNbbmV3UGN0LnRvRml4ZWQoNSldID0gW2ksIHR5cGVdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwZXJjZW50YWdlIGNvdW50LlxuICAgICAgICAgICAgICAgICAgICBwcmV2UGN0ID0gbmV3UGN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gaW5kZXhlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFkZE1hcmtpbmcoc3ByZWFkLCBmaWx0ZXJGdW5jLCBmb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gc2NvcGVfRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgICAgICAgICAgdmFyIHZhbHVlU2l6ZUNsYXNzZXMgPSBbXTtcbiAgICAgICAgICAgIHZhbHVlU2l6ZUNsYXNzZXNbUElQU19OT19WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVOb3JtYWw7XG4gICAgICAgICAgICB2YWx1ZVNpemVDbGFzc2VzW1BJUFNfTEFSR0VfVkFMVUVdID0gb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlTGFyZ2U7XG4gICAgICAgICAgICB2YWx1ZVNpemVDbGFzc2VzW1BJUFNfU01BTExfVkFMVUVdID0gb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlU3ViO1xuXG4gICAgICAgICAgICB2YXIgbWFya2VyU2l6ZUNsYXNzZXMgPSBbXTtcbiAgICAgICAgICAgIG1hcmtlclNpemVDbGFzc2VzW1BJUFNfTk9fVkFMVUVdID0gb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlck5vcm1hbDtcbiAgICAgICAgICAgIG1hcmtlclNpemVDbGFzc2VzW1BJUFNfTEFSR0VfVkFMVUVdID0gb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlckxhcmdlO1xuICAgICAgICAgICAgbWFya2VyU2l6ZUNsYXNzZXNbUElQU19TTUFMTF9WQUxVRV0gPSBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyU3ViO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWVPcmllbnRhdGlvbkNsYXNzZXMgPSBbb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlSG9yaXpvbnRhbCwgb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlVmVydGljYWxdO1xuICAgICAgICAgICAgdmFyIG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcyA9IFtvcHRpb25zLmNzc0NsYXNzZXMubWFya2VySG9yaXpvbnRhbCwgb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlclZlcnRpY2FsXTtcblxuICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHMpO1xuICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgb3B0aW9ucy5vcnQgPT09IDAgPyBvcHRpb25zLmNzc0NsYXNzZXMucGlwc0hvcml6b250YWwgOiBvcHRpb25zLmNzc0NsYXNzZXMucGlwc1ZlcnRpY2FsKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Q2xhc3Nlcyh0eXBlLCBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IHNvdXJjZSA9PT0gb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBvcmllbnRhdGlvbkNsYXNzZXMgPSBhID8gdmFsdWVPcmllbnRhdGlvbkNsYXNzZXMgOiBtYXJrZXJPcmllbnRhdGlvbkNsYXNzZXM7XG4gICAgICAgICAgICAgICAgdmFyIHNpemVDbGFzc2VzID0gYSA/IHZhbHVlU2l6ZUNsYXNzZXMgOiBtYXJrZXJTaXplQ2xhc3NlcztcblxuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2UgKyBcIiBcIiArIG9yaWVudGF0aW9uQ2xhc3Nlc1tvcHRpb25zLm9ydF0gKyBcIiBcIiArIHNpemVDbGFzc2VzW3R5cGVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRTcHJlYWQob2Zmc2V0LCB2YWx1ZSwgdHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IHRoZSBmaWx0ZXIgZnVuY3Rpb24sIGlmIGl0IGlzIHNldC5cbiAgICAgICAgICAgICAgICB0eXBlID0gZmlsdGVyRnVuYyA/IGZpbHRlckZ1bmModmFsdWUsIHR5cGUpIDogdHlwZTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBQSVBTX05PTkUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEFkZCBhIG1hcmtlciBmb3IgZXZlcnkgcG9pbnRcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGFkZE5vZGVUbyhlbGVtZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBnZXRDbGFzc2VzKHR5cGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXIpO1xuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSBvZmZzZXQgKyBcIiVcIjtcblxuICAgICAgICAgICAgICAgIC8vIFZhbHVlcyBhcmUgb25seSBhcHBlbmRlZCBmb3IgcG9pbnRzIG1hcmtlZCAnMScgb3IgJzInLlxuICAgICAgICAgICAgICAgIGlmICh0eXBlID4gUElQU19OT19WQUxVRSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSBnZXRDbGFzc2VzKHR5cGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS12YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSBvZmZzZXQgKyBcIiVcIjtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBmb3JtYXR0ZXIudG8odmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQXBwZW5kIGFsbCBwb2ludHMuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzcHJlYWQpLmZvckVhY2goZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgICAgIGFkZFNwcmVhZChvZmZzZXQsIHNwcmVhZFtvZmZzZXRdWzBdLCBzcHJlYWRbb2Zmc2V0XVsxXSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVQaXBzKCkge1xuICAgICAgICAgICAgaWYgKHNjb3BlX1BpcHMpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50KHNjb3BlX1BpcHMpO1xuICAgICAgICAgICAgICAgIHNjb3BlX1BpcHMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcGlwcyhncmlkKSB7XG4gICAgICAgICAgICAvLyBGaXggIzY2OVxuICAgICAgICAgICAgcmVtb3ZlUGlwcygpO1xuXG4gICAgICAgICAgICB2YXIgbW9kZSA9IGdyaWQubW9kZTtcbiAgICAgICAgICAgIHZhciBkZW5zaXR5ID0gZ3JpZC5kZW5zaXR5IHx8IDE7XG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gZ3JpZC5maWx0ZXIgfHwgZmFsc2U7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gZ3JpZC52YWx1ZXMgfHwgZmFsc2U7XG4gICAgICAgICAgICB2YXIgc3RlcHBlZCA9IGdyaWQuc3RlcHBlZCB8fCBmYWxzZTtcbiAgICAgICAgICAgIHZhciBncm91cCA9IGdldEdyb3VwKG1vZGUsIHZhbHVlcywgc3RlcHBlZCk7XG4gICAgICAgICAgICB2YXIgc3ByZWFkID0gZ2VuZXJhdGVTcHJlYWQoZGVuc2l0eSwgbW9kZSwgZ3JvdXApO1xuICAgICAgICAgICAgdmFyIGZvcm1hdCA9IGdyaWQuZm9ybWF0IHx8IHtcbiAgICAgICAgICAgICAgICB0bzogTWF0aC5yb3VuZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGVfUGlwcyA9IHNjb3BlX1RhcmdldC5hcHBlbmRDaGlsZChhZGRNYXJraW5nKHNwcmVhZCwgZmlsdGVyLCBmb3JtYXQpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX1BpcHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTaG9ydGhhbmQgZm9yIGJhc2UgZGltZW5zaW9ucy5cbiAgICAgICAgZnVuY3Rpb24gYmFzZVNpemUoKSB7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IHNjb3BlX0Jhc2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB2YXIgYWx0ID0gXCJvZmZzZXRcIiArIFtcIldpZHRoXCIsIFwiSGVpZ2h0XCJdW29wdGlvbnMub3J0XTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm9ydCA9PT0gMCA/IHJlY3Qud2lkdGggfHwgc2NvcGVfQmFzZVthbHRdIDogcmVjdC5oZWlnaHQgfHwgc2NvcGVfQmFzZVthbHRdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlciBmb3IgYXR0YWNoaW5nIGV2ZW50cyB0cm91Z2ggYSBwcm94eS5cbiAgICAgICAgZnVuY3Rpb24gYXR0YWNoRXZlbnQoZXZlbnRzLCBlbGVtZW50LCBjYWxsYmFjaywgZGF0YSkge1xuICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byAnZmlsdGVyJyBldmVudHMgdG8gdGhlIHNsaWRlci5cbiAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgYSBub2RlLCBub3QgYSBub2RlTGlzdFxuXG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlID0gZml4RXZlbnQoZSwgZGF0YS5wYWdlT2Zmc2V0LCBkYXRhLnRhcmdldCB8fCBlbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIC8vIGZpeEV2ZW50IHJldHVybnMgZmFsc2UgaWYgdGhpcyBldmVudCBoYXMgYSBkaWZmZXJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBoYW5kbGluZyAobXVsdGktKSB0b3VjaCBldmVudHM7XG4gICAgICAgICAgICAgICAgaWYgKCFlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBkb05vdFJlamVjdCBpcyBwYXNzZWQgYnkgYWxsIGVuZCBldmVudHMgdG8gbWFrZSBzdXJlIHJlbGVhc2VkIHRvdWNoZXNcbiAgICAgICAgICAgICAgICAvLyBhcmUgbm90IHJlamVjdGVkLCBsZWF2aW5nIHRoZSBzbGlkZXIgXCJzdHVja1wiIHRvIHRoZSBjdXJzb3I7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2xpZGVyRGlzYWJsZWQoKSAmJiAhZGF0YS5kb05vdFJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU3RvcCBpZiBhbiBhY3RpdmUgJ3RhcCcgdHJhbnNpdGlvbiBpcyB0YWtpbmcgcGxhY2UuXG4gICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCkgJiYgIWRhdGEuZG9Ob3RSZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzID09PSBhY3Rpb25zLnN0YXJ0ICYmIGUuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9ucyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob3ZlciAmJiBlLmJ1dHRvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vICdzdXBwb3J0c1Bhc3NpdmUnIGlzIG9ubHkgdHJ1ZSBpZiBhIGJyb3dzZXIgYWxzbyBzdXBwb3J0cyB0b3VjaC1hY3Rpb246IG5vbmUgaW4gQ1NTLlxuICAgICAgICAgICAgICAgIC8vIGlPUyBzYWZhcmkgZG9lcyBub3QsIHNvIGl0IGRvZXNuJ3QgZ2V0IHRvIGJlbmVmaXQgZnJvbSBwYXNzaXZlIHNjcm9sbGluZy4gaU9TIGRvZXMgc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uLCBidXQgdGhhdCBhbGxvd3MgcGFubmluZywgd2hpY2ggYnJlYWtzXG4gICAgICAgICAgICAgICAgLy8gc2xpZGVycyBhZnRlciB6b29taW5nL29uIG5vbi1yZXNwb25zaXZlIHBhZ2VzLlxuICAgICAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzMzExMlxuICAgICAgICAgICAgICAgIGlmICghc3VwcG9ydHNQYXNzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlLmNhbGNQb2ludCA9IGUucG9pbnRzW29wdGlvbnMub3J0XTtcblxuICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIGV2ZW50IGhhbmRsZXIgd2l0aCB0aGUgZXZlbnQgWyBhbmQgYWRkaXRpb25hbCBkYXRhIF0uXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZSwgZGF0YSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbWV0aG9kcyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBCaW5kIGEgY2xvc3VyZSBvbiB0aGUgdGFyZ2V0IGZvciBldmVyeSBldmVudCB0eXBlLlxuICAgICAgICAgICAgZXZlbnRzLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBtZXRob2QsIHN1cHBvcnRzUGFzc2l2ZSA/IHtcbiAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0gOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbWV0aG9kcy5wdXNoKFtldmVudE5hbWUsIG1ldGhvZF0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtZXRob2RzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvdmlkZSBhIGNsZWFuIGV2ZW50IHdpdGggc3RhbmRhcmRpemVkIG9mZnNldCB2YWx1ZXMuXG4gICAgICAgIGZ1bmN0aW9uIGZpeEV2ZW50KGUsIHBhZ2VPZmZzZXQsIGV2ZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICAvLyBGaWx0ZXIgdGhlIGV2ZW50IHRvIHJlZ2lzdGVyIHRoZSB0eXBlLCB3aGljaCBjYW4gYmVcbiAgICAgICAgICAgIC8vIHRvdWNoLCBtb3VzZSBvciBwb2ludGVyLiBPZmZzZXQgY2hhbmdlcyBuZWVkIHRvIGJlXG4gICAgICAgICAgICAvLyBtYWRlIG9uIGFuIGV2ZW50IHNwZWNpZmljIGJhc2lzLlxuICAgICAgICAgICAgdmFyIHRvdWNoID0gZS50eXBlLmluZGV4T2YoXCJ0b3VjaFwiKSA9PT0gMDtcbiAgICAgICAgICAgIHZhciBtb3VzZSA9IGUudHlwZS5pbmRleE9mKFwibW91c2VcIikgPT09IDA7XG4gICAgICAgICAgICB2YXIgcG9pbnRlciA9IGUudHlwZS5pbmRleE9mKFwicG9pbnRlclwiKSA9PT0gMDtcblxuICAgICAgICAgICAgdmFyIHg7XG4gICAgICAgICAgICB2YXIgeTtcblxuICAgICAgICAgICAgLy8gSUUxMCBpbXBsZW1lbnRlZCBwb2ludGVyIGV2ZW50cyB3aXRoIGEgcHJlZml4O1xuICAgICAgICAgICAgaWYgKGUudHlwZS5pbmRleE9mKFwiTVNQb2ludGVyXCIpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlciA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEVycm9uZW91cyBldmVudHMgc2VlbSB0byBiZSBwYXNzZWQgaW4gb2NjYXNpb25hbGx5IG9uIGlPUy9pUGFkT1MgYWZ0ZXIgdXNlciBmaW5pc2hlcyBpbnRlcmFjdGluZyB3aXRoXG4gICAgICAgICAgICAvLyB0aGUgc2xpZGVyLiBUaGV5IGFwcGVhciB0byBiZSBvZiB0eXBlIE1vdXNlRXZlbnQsIHlldCB0aGV5IGRvbid0IGhhdmUgdXN1YWwgcHJvcGVydGllcyBzZXQuIElnbm9yZVxuICAgICAgICAgICAgLy8gZXZlbnRzIHRoYXQgaGF2ZSBubyB0b3VjaGVzIG9yIGJ1dHRvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZW0uICgjMTA1NywgIzEwNzksICMxMDk1KVxuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJtb3VzZWRvd25cIiAmJiAhZS5idXR0b25zICYmICFlLnRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBvbmx5IHRoaW5nIG9uZSBoYW5kbGUgc2hvdWxkIGJlIGNvbmNlcm5lZCBhYm91dCBpcyB0aGUgdG91Y2hlcyB0aGF0IG9yaWdpbmF0ZWQgb24gdG9wIG9mIGl0LlxuICAgICAgICAgICAgaWYgKHRvdWNoKSB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJucyB0cnVlIGlmIGEgdG91Y2ggb3JpZ2luYXRlZCBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgICAgIHZhciBpc1RvdWNoT25UYXJnZXQgPSBmdW5jdGlvbiAoY2hlY2tUb3VjaCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tUb3VjaC50YXJnZXQgPT09IGV2ZW50VGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFRhcmdldC5jb250YWlucyhjaGVja1RvdWNoLnRhcmdldCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChjaGVja1RvdWNoLnRhcmdldC5zaGFkb3dSb290ICYmIGNoZWNrVG91Y2gudGFyZ2V0LnNoYWRvd1Jvb3QuY29udGFpbnMoZXZlbnRUYXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBJbiB0aGUgY2FzZSBvZiB0b3VjaHN0YXJ0IGV2ZW50cywgd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhlcmUgaXMgc3RpbGwgbm8gbW9yZSB0aGFuIG9uZVxuICAgICAgICAgICAgICAgIC8vIHRvdWNoIG9uIHRoZSB0YXJnZXQgc28gd2UgbG9vayBhbW9uZ3N0IGFsbCB0b3VjaGVzLlxuICAgICAgICAgICAgICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2hzdGFydFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRUb3VjaGVzID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGUudG91Y2hlcywgaXNUb3VjaE9uVGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gb25lIHRvdWNoIHBlciBoYW5kbGUuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHggPSB0YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICAgICAgICAgICAgICB5ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGUgb3RoZXIgY2FzZXMsIGZpbmQgb24gY2hhbmdlZFRvdWNoZXMgaXMgZW5vdWdoLlxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VG91Y2ggPSBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKGUuY2hhbmdlZFRvdWNoZXMsIGlzVG91Y2hPblRhcmdldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuY2VsIGlmIHRoZSB0YXJnZXQgdG91Y2ggaGFzIG5vdCBtb3ZlZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRUb3VjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgeCA9IHRhcmdldFRvdWNoLnBhZ2VYO1xuICAgICAgICAgICAgICAgICAgICB5ID0gdGFyZ2V0VG91Y2gucGFnZVk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYWdlT2Zmc2V0ID0gcGFnZU9mZnNldCB8fCBnZXRQYWdlT2Zmc2V0KHNjb3BlX0RvY3VtZW50KTtcblxuICAgICAgICAgICAgaWYgKG1vdXNlIHx8IHBvaW50ZXIpIHtcbiAgICAgICAgICAgICAgICB4ID0gZS5jbGllbnRYICsgcGFnZU9mZnNldC54O1xuICAgICAgICAgICAgICAgIHkgPSBlLmNsaWVudFkgKyBwYWdlT2Zmc2V0Lnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGUucGFnZU9mZnNldCA9IHBhZ2VPZmZzZXQ7XG4gICAgICAgICAgICBlLnBvaW50cyA9IFt4LCB5XTtcbiAgICAgICAgICAgIGUuY3Vyc29yID0gbW91c2UgfHwgcG9pbnRlcjsgLy8gRml4ICM0MzVcblxuICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmFuc2xhdGUgYSBjb29yZGluYXRlIGluIHRoZSBkb2N1bWVudCB0byBhIHBlcmNlbnRhZ2Ugb24gdGhlIHNsaWRlclxuICAgICAgICBmdW5jdGlvbiBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UoY2FsY1BvaW50KSB7XG4gICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBjYWxjUG9pbnQgLSBvZmZzZXQoc2NvcGVfQmFzZSwgb3B0aW9ucy5vcnQpO1xuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gKGxvY2F0aW9uICogMTAwKSAvIGJhc2VTaXplKCk7XG5cbiAgICAgICAgICAgIC8vIENsYW1wIHByb3Bvc2FsIGJldHdlZW4gMCUgYW5kIDEwMCVcbiAgICAgICAgICAgIC8vIE91dC1vZi1ib3VuZCBjb29yZGluYXRlcyBtYXkgb2NjdXIgd2hlbiAubm9VaS1iYXNlIHBzZXVkby1lbGVtZW50c1xuICAgICAgICAgICAgLy8gYXJlIHVzZWQgKGUuZy4gY29udGFpbmVkIGhhbmRsZXMgZmVhdHVyZSlcbiAgICAgICAgICAgIHByb3Bvc2FsID0gbGltaXQocHJvcG9zYWwpO1xuXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kaXIgPyAxMDAgLSBwcm9wb3NhbCA6IHByb3Bvc2FsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluZCBoYW5kbGUgY2xvc2VzdCB0byBhIGNlcnRhaW4gcGVyY2VudGFnZSBvbiB0aGUgc2xpZGVyXG4gICAgICAgIGZ1bmN0aW9uIGdldENsb3Nlc3RIYW5kbGUoY2xpY2tlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc21hbGxlc3REaWZmZXJlbmNlID0gMTAwO1xuICAgICAgICAgICAgdmFyIGhhbmRsZU51bWJlciA9IGZhbHNlO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlZCBoYW5kbGVzIGFyZSBpZ25vcmVkXG4gICAgICAgICAgICAgICAgaWYgKGlzSGFuZGxlRGlzYWJsZWQoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlUG9zaXRpb24gPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGUgPSBNYXRoLmFicyhoYW5kbGVQb3NpdGlvbiAtIGNsaWNrZWRQb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICAvLyBJbml0aWFsIHN0YXRlXG4gICAgICAgICAgICAgICAgdmFyIGNsaWNrQXRFZGdlID0gZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlID09PSAxMDAgJiYgc21hbGxlc3REaWZmZXJlbmNlID09PSAxMDA7XG5cbiAgICAgICAgICAgICAgICAvLyBEaWZmZXJlbmNlIHdpdGggdGhpcyBoYW5kbGUgaXMgc21hbGxlciB0aGFuIHRoZSBwcmV2aW91c2x5IGNoZWNrZWQgaGFuZGxlXG4gICAgICAgICAgICAgICAgdmFyIGlzQ2xvc2VyID0gZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlIDwgc21hbGxlc3REaWZmZXJlbmNlO1xuICAgICAgICAgICAgICAgIHZhciBpc0Nsb3NlckFmdGVyID0gZGlmZmVyZW5jZVdpdGhUaGlzSGFuZGxlIDw9IHNtYWxsZXN0RGlmZmVyZW5jZSAmJiBjbGlja2VkUG9zaXRpb24gPiBoYW5kbGVQb3NpdGlvbjtcblxuICAgICAgICAgICAgICAgIGlmIChpc0Nsb3NlciB8fCBpc0Nsb3NlckFmdGVyIHx8IGNsaWNrQXRFZGdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlciA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICBzbWFsbGVzdERpZmZlcmVuY2UgPSBkaWZmZXJlbmNlV2l0aFRoaXNIYW5kbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVOdW1iZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGaXJlICdlbmQnIHdoZW4gYSBtb3VzZSBvciBwZW4gbGVhdmVzIHRoZSBkb2N1bWVudC5cbiAgICAgICAgZnVuY3Rpb24gZG9jdW1lbnRMZWF2ZShldmVudCwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwibW91c2VvdXRcIiAmJiBldmVudC50YXJnZXQubm9kZU5hbWUgPT09IFwiSFRNTFwiICYmIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBldmVudEVuZChldmVudCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGUgbW92ZW1lbnQgb24gZG9jdW1lbnQgZm9yIGhhbmRsZSBhbmQgcmFuZ2UgZHJhZy5cbiAgICAgICAgZnVuY3Rpb24gZXZlbnRNb3ZlKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBGaXggIzQ5OFxuICAgICAgICAgICAgLy8gQ2hlY2sgdmFsdWUgb2YgLmJ1dHRvbnMgaW4gJ3N0YXJ0JyB0byB3b3JrIGFyb3VuZCBhIGJ1ZyBpbiBJRTEwIG1vYmlsZSAoZGF0YS5idXR0b25zUHJvcGVydHkpLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy85MjcwMDUvbW9iaWxlLWllMTAtd2luZG93cy1waG9uZS1idXR0b25zLXByb3BlcnR5LW9mLXBvaW50ZXJtb3ZlLWV2ZW50LWFsd2F5cy16ZXJvXG4gICAgICAgICAgICAvLyBJRTkgaGFzIC5idXR0b25zIGFuZCAud2hpY2ggemVybyBvbiBtb3VzZW1vdmUuXG4gICAgICAgICAgICAvLyBGaXJlZm94IGJyZWFrcyB0aGUgc3BlYyBNRE4gZGVmaW5lcy5cbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTVNJRSA5XCIpID09PSAtMSAmJiBldmVudC5idXR0b25zID09PSAwICYmIGRhdGEuYnV0dG9uc1Byb3BlcnR5ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50RW5kKGV2ZW50LCBkYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIG1vdmluZyB1cCBvciBkb3duXG4gICAgICAgICAgICB2YXIgbW92ZW1lbnQgPSAob3B0aW9ucy5kaXIgPyAtMSA6IDEpICogKGV2ZW50LmNhbGNQb2ludCAtIGRhdGEuc3RhcnRDYWxjUG9pbnQpO1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBtb3ZlbWVudCBpbnRvIGEgcGVyY2VudGFnZSBvZiB0aGUgc2xpZGVyIHdpZHRoL2hlaWdodFxuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gKG1vdmVtZW50ICogMTAwKSAvIGRhdGEuYmFzZVNpemU7XG5cbiAgICAgICAgICAgIG1vdmVIYW5kbGVzKG1vdmVtZW50ID4gMCwgcHJvcG9zYWwsIGRhdGEubG9jYXRpb25zLCBkYXRhLmhhbmRsZU51bWJlcnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5iaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LCBjYWxsIGNhbGxiYWNrcy5cbiAgICAgICAgZnVuY3Rpb24gZXZlbnRFbmQoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgICAgIC8vIFRoZSBoYW5kbGUgaXMgbm8gbG9uZ2VyIGFjdGl2ZSwgc28gcmVtb3ZlIHRoZSBjbGFzcy5cbiAgICAgICAgICAgIGlmIChkYXRhLmhhbmRsZSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGRhdGEuaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuYWN0aXZlKTtcbiAgICAgICAgICAgICAgICBzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgLT0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVW5iaW5kIHRoZSBtb3ZlIGFuZCBlbmQgZXZlbnRzLCB3aGljaCBhcmUgYWRkZWQgb24gJ3N0YXJ0Jy5cbiAgICAgICAgICAgIGRhdGEubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9Eb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihjWzBdLCBjWzFdKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuICAgICAgICAgICAgICAgIHNldFppbmRleCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGN1cnNvciBzdHlsZXMgYW5kIHRleHQtc2VsZWN0aW9uIGV2ZW50cyBib3VuZCB0byB0aGUgYm9keS5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVfQm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2VsZWN0c3RhcnRcIiwgcHJldmVudERlZmF1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0YS5oYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudChcImNoYW5nZVwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInNldFwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudChcImVuZFwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LlxuICAgICAgICBmdW5jdGlvbiBldmVudFN0YXJ0KGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXZlbnQgaWYgYW55IGhhbmRsZSBpcyBkaXNhYmxlZFxuICAgICAgICAgICAgaWYgKGRhdGEuaGFuZGxlTnVtYmVycy5zb21lKGlzSGFuZGxlRGlzYWJsZWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaGFuZGxlO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5oYW5kbGVOdW1iZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVPcmlnaW4gPSBzY29wZV9IYW5kbGVzW2RhdGEuaGFuZGxlTnVtYmVyc1swXV07XG5cbiAgICAgICAgICAgICAgICBoYW5kbGUgPSBoYW5kbGVPcmlnaW4uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ICs9IDE7XG5cbiAgICAgICAgICAgICAgICAvLyBNYXJrIHRoZSBoYW5kbGUgYXMgJ2FjdGl2ZScgc28gaXQgY2FuIGJlIHN0eWxlZC5cbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5hY3RpdmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBIGRyYWcgc2hvdWxkIG5ldmVyIHByb3BhZ2F0ZSB1cCB0byB0aGUgJ3RhcCcgZXZlbnQuXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgLy8gUmVjb3JkIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgbW92ZSBhbmQgZW5kIGV2ZW50cy5cbiAgICAgICAgICAgIHZhciBtb3ZlRXZlbnQgPSBhdHRhY2hFdmVudChhY3Rpb25zLm1vdmUsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZXZlbnRNb3ZlLCB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGV2ZW50IHRhcmdldCBoYXMgY2hhbmdlZCBzbyB3ZSBuZWVkIHRvIHByb3BhZ2F0ZSB0aGUgb3JpZ2luYWwgb25lIHNvIHRoYXQgd2Uga2VlcFxuICAgICAgICAgICAgICAgIC8vIHJlbHlpbmcgb24gaXQgdG8gZXh0cmFjdCB0YXJnZXQgdG91Y2hlcy5cbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcbiAgICAgICAgICAgICAgICBoYW5kbGU6IGhhbmRsZSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGxpc3RlbmVycyxcbiAgICAgICAgICAgICAgICBzdGFydENhbGNQb2ludDogZXZlbnQuY2FsY1BvaW50LFxuICAgICAgICAgICAgICAgIGJhc2VTaXplOiBiYXNlU2l6ZSgpLFxuICAgICAgICAgICAgICAgIHBhZ2VPZmZzZXQ6IGV2ZW50LnBhZ2VPZmZzZXQsXG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzLFxuICAgICAgICAgICAgICAgIGJ1dHRvbnNQcm9wZXJ0eTogZXZlbnQuYnV0dG9ucyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbnM6IHNjb3BlX0xvY2F0aW9ucy5zbGljZSgpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGVuZEV2ZW50ID0gYXR0YWNoRXZlbnQoYWN0aW9ucy5lbmQsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZXZlbnRFbmQsIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcbiAgICAgICAgICAgICAgICBoYW5kbGU6IGhhbmRsZSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGxpc3RlbmVycyxcbiAgICAgICAgICAgICAgICBkb05vdFJlamVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgb3V0RXZlbnQgPSBhdHRhY2hFdmVudChcIm1vdXNlb3V0XCIsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZG9jdW1lbnRMZWF2ZSwge1xuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgIGhhbmRsZTogaGFuZGxlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLFxuICAgICAgICAgICAgICAgIGRvTm90UmVqZWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVyc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIHB1c2hlZCB0aGUgbGlzdGVuZXJzIGluIHRoZSBsaXN0ZW5lciBsaXN0IHJhdGhlciB0aGFuIGNyZWF0aW5nXG4gICAgICAgICAgICAvLyBhIG5ldyBvbmUgYXMgaXQgaGFzIGFscmVhZHkgYmVlbiBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXJzLlxuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2guYXBwbHkobGlzdGVuZXJzLCBtb3ZlRXZlbnQuY29uY2F0KGVuZEV2ZW50LCBvdXRFdmVudCkpO1xuXG4gICAgICAgICAgICAvLyBUZXh0IHNlbGVjdGlvbiBpc24ndCBhbiBpc3N1ZSBvbiB0b3VjaCBkZXZpY2VzLFxuICAgICAgICAgICAgLy8gc28gYWRkaW5nIGN1cnNvciBzdHlsZXMgY2FuIGJlIHNraXBwZWQuXG4gICAgICAgICAgICBpZiAoZXZlbnQuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCB0aGUgJ0knIGN1cnNvciBhbmQgZXh0ZW5kIHRoZSByYW5nZS1kcmFnIGN1cnNvci5cbiAgICAgICAgICAgICAgICBzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9IGdldENvbXB1dGVkU3R5bGUoZXZlbnQudGFyZ2V0KS5jdXJzb3I7XG5cbiAgICAgICAgICAgICAgICAvLyBNYXJrIHRoZSB0YXJnZXQgd2l0aCBhIGRyYWdnaW5nIHN0YXRlLlxuICAgICAgICAgICAgICAgIGlmIChzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuZHJhZyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCB0ZXh0IHNlbGVjdGlvbiB3aGVuIGRyYWdnaW5nIHRoZSBoYW5kbGVzLlxuICAgICAgICAgICAgICAgIC8vIEluIG5vVWlTbGlkZXIgPD0gOS4yLjAsIHRoaXMgd2FzIGhhbmRsZWQgYnkgY2FsbGluZyBwcmV2ZW50RGVmYXVsdCBvbiBtb3VzZS90b3VjaCBzdGFydC9tb3ZlLFxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIGlzIHNjcm9sbCBibG9ja2luZy4gVGhlIHNlbGVjdHN0YXJ0IGV2ZW50IGlzIHN1cHBvcnRlZCBieSBGaXJlRm94IHN0YXJ0aW5nIGZyb20gdmVyc2lvbiA1MixcbiAgICAgICAgICAgICAgICAvLyBtZWFuaW5nIHRoZSBvbmx5IGhvbGRvdXQgaXMgaU9TIFNhZmFyaS4gVGhpcyBkb2Vzbid0IG1hdHRlcjogdGV4dCBzZWxlY3Rpb24gaXNuJ3QgdHJpZ2dlcmVkIHRoZXJlLlxuICAgICAgICAgICAgICAgIC8vIFRoZSAnY3Vyc29yJyBmbGFnIGlzIGZhbHNlLlxuICAgICAgICAgICAgICAgIC8vIFNlZTogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9c2VsZWN0c3RhcnRcbiAgICAgICAgICAgICAgICBzY29wZV9Cb2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3RzdGFydFwiLCBwcmV2ZW50RGVmYXVsdCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic3RhcnRcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW92ZSBjbG9zZXN0IGhhbmRsZSB0byB0YXBwZWQgbG9jYXRpb24uXG4gICAgICAgIGZ1bmN0aW9uIGV2ZW50VGFwKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBUaGUgdGFwIGV2ZW50IHNob3VsZG4ndCBwcm9wYWdhdGUgdXBcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICB2YXIgcHJvcG9zYWwgPSBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UoZXZlbnQuY2FsY1BvaW50KTtcbiAgICAgICAgICAgIHZhciBoYW5kbGVOdW1iZXIgPSBnZXRDbG9zZXN0SGFuZGxlKHByb3Bvc2FsKTtcblxuICAgICAgICAgICAgLy8gVGFja2xlIHRoZSBjYXNlIHRoYXQgYWxsIGhhbmRsZXMgYXJlICdkaXNhYmxlZCcuXG4gICAgICAgICAgICBpZiAoaGFuZGxlTnVtYmVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmxhZyB0aGUgc2xpZGVyIGFzIGl0IGlzIG5vdyBpbiBhIHRyYW5zaXRpb25hbCBzdGF0ZS5cbiAgICAgICAgICAgIC8vIFRyYW5zaXRpb24gdGFrZXMgYSBjb25maWd1cmFibGUgYW1vdW50IG9mIG1zIChkZWZhdWx0IDMwMCkuIFJlLWVuYWJsZSB0aGUgc2xpZGVyIGFmdGVyIHRoYXQuXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuZXZlbnRzLnNuYXApIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzc0ZvcihzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXAsIG9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBwcm9wb3NhbCwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHNldFppbmRleCgpO1xuXG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJzbGlkZVwiLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJjaGFuZ2VcIiwgaGFuZGxlTnVtYmVyLCB0cnVlKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInNldFwiLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ldmVudHMuc25hcCkge1xuICAgICAgICAgICAgICAgIGV2ZW50U3RhcnQoZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyczogW2hhbmRsZU51bWJlcl1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpcmVzIGEgJ2hvdmVyJyBldmVudCBmb3IgYSBob3ZlcmVkIG1vdXNlL3BlbiBwb3NpdGlvbi5cbiAgICAgICAgZnVuY3Rpb24gZXZlbnRIb3ZlcihldmVudCkge1xuICAgICAgICAgICAgdmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XG5cbiAgICAgICAgICAgIHZhciB0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAocHJvcG9zYWwpO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHRvKTtcblxuICAgICAgICAgICAgT2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXRFdmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChcImhvdmVyXCIgPT09IHRhcmdldEV2ZW50LnNwbGl0KFwiLlwiKVswXSkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZV9FdmVudHNbdGFyZ2V0RXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHNjb3BlX1NlbGYsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGVzIGtleWRvd24gb24gZm9jdXNlZCBoYW5kbGVzXG4gICAgICAgIC8vIERvbid0IG1vdmUgdGhlIGRvY3VtZW50IHdoZW4gcHJlc3NpbmcgYXJyb3cga2V5cyBvbiBmb2N1c2VkIGhhbmRsZXNcbiAgICAgICAgZnVuY3Rpb24gZXZlbnRLZXlkb3duKGV2ZW50LCBoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChpc1NsaWRlckRpc2FibGVkKCkgfHwgaXNIYW5kbGVEaXNhYmxlZChoYW5kbGVOdW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaG9yaXpvbnRhbEtleXMgPSBbXCJMZWZ0XCIsIFwiUmlnaHRcIl07XG4gICAgICAgICAgICB2YXIgdmVydGljYWxLZXlzID0gW1wiRG93blwiLCBcIlVwXCJdO1xuICAgICAgICAgICAgdmFyIGxhcmdlU3RlcEtleXMgPSBbXCJQYWdlRG93blwiLCBcIlBhZ2VVcFwiXTtcbiAgICAgICAgICAgIHZhciBlZGdlS2V5cyA9IFtcIkhvbWVcIiwgXCJFbmRcIl07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpciAmJiAhb3B0aW9ucy5vcnQpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhbiByaWdodC10by1sZWZ0IHNsaWRlciwgdGhlIGxlZnQgYW5kIHJpZ2h0IGtleXMgYWN0IGludmVydGVkXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm9ydCAmJiAhb3B0aW9ucy5kaXIpIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBhIHRvcC10by1ib3R0b20gc2xpZGVyLCB0aGUgdXAgYW5kIGRvd24ga2V5cyBhY3QgaW52ZXJ0ZWRcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIGxhcmdlU3RlcEtleXMucmV2ZXJzZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTdHJpcCBcIkFycm93XCIgZm9yIElFIGNvbXBhdGliaWxpdHkuIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50L2tleVxuICAgICAgICAgICAgdmFyIGtleSA9IGV2ZW50LmtleS5yZXBsYWNlKFwiQXJyb3dcIiwgXCJcIik7XG5cbiAgICAgICAgICAgIHZhciBpc0xhcmdlRG93biA9IGtleSA9PT0gbGFyZ2VTdGVwS2V5c1swXTtcbiAgICAgICAgICAgIHZhciBpc0xhcmdlVXAgPSBrZXkgPT09IGxhcmdlU3RlcEtleXNbMV07XG4gICAgICAgICAgICB2YXIgaXNEb3duID0ga2V5ID09PSB2ZXJ0aWNhbEtleXNbMF0gfHwga2V5ID09PSBob3Jpem9udGFsS2V5c1swXSB8fCBpc0xhcmdlRG93bjtcbiAgICAgICAgICAgIHZhciBpc1VwID0ga2V5ID09PSB2ZXJ0aWNhbEtleXNbMV0gfHwga2V5ID09PSBob3Jpem9udGFsS2V5c1sxXSB8fCBpc0xhcmdlVXA7XG4gICAgICAgICAgICB2YXIgaXNNaW4gPSBrZXkgPT09IGVkZ2VLZXlzWzBdO1xuICAgICAgICAgICAgdmFyIGlzTWF4ID0ga2V5ID09PSBlZGdlS2V5c1sxXTtcblxuICAgICAgICAgICAgaWYgKCFpc0Rvd24gJiYgIWlzVXAgJiYgIWlzTWluICYmICFpc01heCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgdG87XG5cbiAgICAgICAgICAgIGlmIChpc1VwIHx8IGlzRG93bikge1xuICAgICAgICAgICAgICAgIHZhciBtdWx0aXBsaWVyID0gb3B0aW9ucy5rZXlib2FyZFBhZ2VNdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBpc0Rvd24gPyAwIDogMTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcHMgPSBnZXROZXh0U3RlcHNGb3JIYW5kbGUoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IHN0ZXBzW2RpcmVjdGlvbl07XG5cbiAgICAgICAgICAgICAgICAvLyBBdCB0aGUgZWRnZSBvZiBhIHNsaWRlciwgZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgIGlmIChzdGVwID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBObyBzdGVwIHNldCwgdXNlIHRoZSBkZWZhdWx0IG9mIDEwJSBvZiB0aGUgc3ViLXJhbmdlXG4gICAgICAgICAgICAgICAgaWYgKHN0ZXAgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAgPSBzY29wZV9TcGVjdHJ1bS5nZXREZWZhdWx0U3RlcChcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEb3duLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5rZXlib2FyZERlZmF1bHRTdGVwXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzTGFyZ2VVcCB8fCBpc0xhcmdlRG93bikge1xuICAgICAgICAgICAgICAgICAgICBzdGVwICo9IG11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gU3RlcCBvdmVyIHplcm8tbGVuZ3RoIHJhbmdlcyAoIzk0OCk7XG4gICAgICAgICAgICAgICAgc3RlcCA9IE1hdGgubWF4KHN0ZXAsIDAuMDAwMDAwMSk7XG5cbiAgICAgICAgICAgICAgICAvLyBEZWNyZW1lbnQgZm9yIGRvd24gc3RlcHNcbiAgICAgICAgICAgICAgICBzdGVwID0gKGlzRG93biA/IC0xIDogMSkgKiBzdGVwO1xuXG4gICAgICAgICAgICAgICAgdG8gPSBzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXSArIHN0ZXA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF4KSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIGtleVxuICAgICAgICAgICAgICAgIHRvID0gb3B0aW9ucy5zcGVjdHJ1bS54VmFsW29wdGlvbnMuc3BlY3RydW0ueFZhbC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSG9tZSBrZXlcbiAgICAgICAgICAgICAgICB0byA9IG9wdGlvbnMuc3BlY3RydW0ueFZhbFswXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyh0byksIHRydWUsIHRydWUpO1xuXG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJzbGlkZVwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJjaGFuZ2VcIiwgaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIGZpcmVFdmVudChcInNldFwiLCBoYW5kbGVOdW1iZXIpO1xuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdHRhY2ggZXZlbnRzIHRvIHNldmVyYWwgc2xpZGVyIHBhcnRzLlxuICAgICAgICBmdW5jdGlvbiBiaW5kU2xpZGVyRXZlbnRzKGJlaGF2aW91cikge1xuICAgICAgICAgICAgLy8gQXR0YWNoIHRoZSBzdGFuZGFyZCBkcmFnIGV2ZW50IHRvIHRoZSBoYW5kbGVzLlxuICAgICAgICAgICAgaWYgKCFiZWhhdmlvdXIuZml4ZWQpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgZXZlbnRzIGFyZSBvbmx5IGJvdW5kIHRvIHRoZSB2aXN1YWwgaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnQsIG5vdCB0aGUgJ3JlYWwnIG9yaWdpbiBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLnN0YXJ0LCBoYW5kbGUuY2hpbGRyZW5bMF0sIGV2ZW50U3RhcnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IFtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgdGFwIGV2ZW50IHRvIHRoZSBzbGlkZXIgYmFzZS5cbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIudGFwKSB7XG4gICAgICAgICAgICAgICAgYXR0YWNoRXZlbnQoYWN0aW9ucy5zdGFydCwgc2NvcGVfQmFzZSwgZXZlbnRUYXAsIHt9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmlyZSBob3ZlciBldmVudHNcbiAgICAgICAgICAgIGlmIChiZWhhdmlvdXIuaG92ZXIpIHtcbiAgICAgICAgICAgICAgICBhdHRhY2hFdmVudChhY3Rpb25zLm1vdmUsIHNjb3BlX0Jhc2UsIGV2ZW50SG92ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgaG92ZXI6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFrZSB0aGUgcmFuZ2UgZHJhZ2dhYmxlLlxuICAgICAgICAgICAgaWYgKGJlaGF2aW91ci5kcmFnKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfQ29ubmVjdHMuZm9yRWFjaChmdW5jdGlvbiAoY29ubmVjdCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3QgPT09IGZhbHNlIHx8IGluZGV4ID09PSAwIHx8IGluZGV4ID09PSBzY29wZV9Db25uZWN0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlQmVmb3JlID0gc2NvcGVfSGFuZGxlc1tpbmRleCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlQWZ0ZXIgPSBzY29wZV9IYW5kbGVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50SG9sZGVycyA9IFtjb25uZWN0XTtcblxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhjb25uZWN0LCBvcHRpb25zLmNzc0NsYXNzZXMuZHJhZ2dhYmxlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSByYW5nZSBpcyBmaXhlZCwgdGhlIGVudGlyZSByYW5nZSBjYW5cbiAgICAgICAgICAgICAgICAgICAgLy8gYmUgZHJhZ2dlZCBieSB0aGUgaGFuZGxlcy4gVGhlIGhhbmRsZSBpbiB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gb3JpZ2luIHdpbGwgcHJvcGFnYXRlIHRoZSBzdGFydCBldmVudCB1cHdhcmQsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBpdCBuZWVkcyB0byBiZSBib3VuZCBtYW51YWxseSBvbiB0aGUgb3RoZXIuXG4gICAgICAgICAgICAgICAgICAgIGlmIChiZWhhdmlvdXIuZml4ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUJlZm9yZS5jaGlsZHJlblswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudEhvbGRlcnMucHVzaChoYW5kbGVBZnRlci5jaGlsZHJlblswXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBldmVudEhvbGRlcnMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnRIb2xkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaEV2ZW50KGFjdGlvbnMuc3RhcnQsIGV2ZW50SG9sZGVyLCBldmVudFN0YXJ0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlczogW2hhbmRsZUJlZm9yZSwgaGFuZGxlQWZ0ZXJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnM6IFtpbmRleCAtIDEsIGluZGV4XVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXR0YWNoIGFuIGV2ZW50IHRvIHRoaXMgc2xpZGVyLCBwb3NzaWJseSBpbmNsdWRpbmcgYSBuYW1lc3BhY2VcbiAgICAgICAgZnVuY3Rpb24gYmluZEV2ZW50KG5hbWVzcGFjZWRFdmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdID0gc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0gfHwgW107XG4gICAgICAgICAgICBzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XS5wdXNoKGNhbGxiYWNrKTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGV2ZW50IGJvdW5kIGlzICd1cGRhdGUsJyBmaXJlIGl0IGltbWVkaWF0ZWx5IGZvciBhbGwgaGFuZGxlcy5cbiAgICAgICAgICAgIGlmIChuYW1lc3BhY2VkRXZlbnQuc3BsaXQoXCIuXCIpWzBdID09PSBcInVwZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVW5kbyBhdHRhY2htZW50IG9mIGV2ZW50XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUV2ZW50KG5hbWVzcGFjZWRFdmVudCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmFtZXNwYWNlZEV2ZW50ICYmIG5hbWVzcGFjZWRFdmVudC5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICB2YXIgbmFtZXNwYWNlID0gZXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnN1YnN0cmluZyhldmVudC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24gKGJpbmQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdEV2ZW50ID0gYmluZC5zcGxpdChcIi5cIilbMF07XG4gICAgICAgICAgICAgICAgdmFyIHROYW1lc3BhY2UgPSBiaW5kLnN1YnN0cmluZyh0RXZlbnQubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgIGlmICgoIWV2ZW50IHx8IGV2ZW50ID09PSB0RXZlbnQpICYmICghbmFtZXNwYWNlIHx8IG5hbWVzcGFjZSA9PT0gdE5hbWVzcGFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjb3BlX0V2ZW50c1tiaW5kXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4dGVybmFsIGV2ZW50IGhhbmRsaW5nXG4gICAgICAgIGZ1bmN0aW9uIGZpcmVFdmVudChldmVudE5hbWUsIGhhbmRsZU51bWJlciwgdGFwKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50VHlwZSA9IHRhcmdldEV2ZW50LnNwbGl0KFwiLlwiKVswXTtcblxuICAgICAgICAgICAgICAgIGlmIChldmVudE5hbWUgPT09IGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZV9FdmVudHNbdGFyZ2V0RXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgc2xpZGVyIHB1YmxpYyBBUEkgYXMgdGhlIHNjb3BlICgndGhpcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfU2VsZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdmFsdWVzIGFzIGFycmF5LCBzbyBhcmdfMVthcmdfMl0gaXMgYWx3YXlzIHZhbGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1ZhbHVlcy5tYXAob3B0aW9ucy5mb3JtYXQudG8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBpbmRleCwgMCBvciAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVuLWZvcm1hdHRlZCBzbGlkZXIgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGVfVmFsdWVzLnNsaWNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbnQgaXMgZmlyZWQgYnkgdGFwLCB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlZnQgb2Zmc2V0IG9mIHRoZSBoYW5kbGUsIGluIHJlbGF0aW9uIHRvIHRoZSBzbGlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnMuc2xpY2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHNsaWRlciBwdWJsaWMgQVBJIHRvIGFuIGFjY2Vzc2libGUgcGFyYW1ldGVyIHdoZW4gdGhpcyBpcyB1bmF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlX1NlbGZcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3BsaXQgb3V0IHRoZSBoYW5kbGUgcG9zaXRpb25pbmcgbG9naWMgc28gdGhlIE1vdmUgZXZlbnQgY2FuIHVzZSBpdCwgdG9vXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrSGFuZGxlUG9zaXRpb24ocmVmZXJlbmNlLCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBnZXRWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlO1xuXG4gICAgICAgICAgICAvLyBGb3Igc2xpZGVycyB3aXRoIG11bHRpcGxlIGhhbmRsZXMsIGxpbWl0IG1vdmVtZW50IHRvIHRoZSBvdGhlciBoYW5kbGUuXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgbWFyZ2luIG9wdGlvbiBieSBhZGRpbmcgaXQgdG8gdGhlIGhhbmRsZSBwb3NpdGlvbnMuXG4gICAgICAgICAgICBpZiAoc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICYmICFvcHRpb25zLmV2ZW50cy51bmNvbnN0cmFpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvb2tCYWNrd2FyZCAmJiBoYW5kbGVOdW1iZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gc2NvcGVfU3BlY3RydW0uZ2V0QWJzb2x1dGVEaXN0YW5jZShyZWZlcmVuY2VbaGFuZGxlTnVtYmVyIC0gMV0sIG9wdGlvbnMubWFyZ2luLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1heCh0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5tYXJnaW4sIDEpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUaGUgbGltaXQgb3B0aW9uIGhhcyB0aGUgb3Bwb3NpdGUgZWZmZWN0LCBsaW1pdGluZyBoYW5kbGVzIHRvIGFcbiAgICAgICAgICAgIC8vIG1heGltdW0gZGlzdGFuY2UgZnJvbSBhbm90aGVyLiBMaW1pdCBtdXN0IGJlID4gMCwgYXMgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyBoYW5kbGVzIHdvdWxkIGJlIHVubW92YWJsZS5cbiAgICAgICAgICAgIGlmIChzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEgJiYgb3B0aW9ucy5saW1pdCkge1xuICAgICAgICAgICAgICAgIGlmIChsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UocmVmZXJlbmNlW2hhbmRsZU51bWJlciAtIDFdLCBvcHRpb25zLmxpbWl0LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1pbih0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBzY29wZV9TcGVjdHJ1bS5nZXRBYnNvbHV0ZURpc3RhbmNlKHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSwgb3B0aW9ucy5saW1pdCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBwYWRkaW5nIG9wdGlvbiBrZWVwcyB0aGUgaGFuZGxlcyBhIGNlcnRhaW4gZGlzdGFuY2UgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIGVkZ2VzIG9mIHRoZSBzbGlkZXIuIFBhZGRpbmcgbXVzdCBiZSA+IDAuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wYWRkaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UoMCwgb3B0aW9ucy5wYWRkaW5nWzBdLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBNYXRoLm1heCh0bywgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVOdW1iZXIgPT09IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHNjb3BlX1NwZWN0cnVtLmdldEFic29sdXRlRGlzdGFuY2UoMTAwLCBvcHRpb25zLnBhZGRpbmdbMV0sIDEpO1xuICAgICAgICAgICAgICAgICAgICB0byA9IE1hdGgubWluKHRvLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAodG8pO1xuXG4gICAgICAgICAgICAvLyBMaW1pdCBwZXJjZW50YWdlIHRvIHRoZSAwIC0gMTAwIHJhbmdlXG4gICAgICAgICAgICB0byA9IGxpbWl0KHRvKTtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIGhhbmRsZSBjYW4ndCBtb3ZlXG4gICAgICAgICAgICBpZiAodG8gPT09IHJlZmVyZW5jZVtoYW5kbGVOdW1iZXJdICYmICFnZXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlcyBzbGlkZXIgb3JpZW50YXRpb24gdG8gY3JlYXRlIENTUyBydWxlcy4gYSA9IGJhc2UgdmFsdWU7XG4gICAgICAgIGZ1bmN0aW9uIGluUnVsZU9yZGVyKHYsIGEpIHtcbiAgICAgICAgICAgIHZhciBvID0gb3B0aW9ucy5vcnQ7XG4gICAgICAgICAgICByZXR1cm4gKG8gPyBhIDogdikgKyBcIiwgXCIgKyAobyA/IHYgOiBhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1vdmVzIGhhbmRsZShzKSBieSBhIHBlcmNlbnRhZ2VcbiAgICAgICAgLy8gKGJvb2wsICUgdG8gbW92ZSwgWyUgd2hlcmUgaGFuZGxlIHN0YXJ0ZWQsIC4uLl0sIFtpbmRleCBpbiBzY29wZV9IYW5kbGVzLCAuLi5dKVxuICAgICAgICBmdW5jdGlvbiBtb3ZlSGFuZGxlcyh1cHdhcmQsIHByb3Bvc2FsLCBsb2NhdGlvbnMsIGhhbmRsZU51bWJlcnMpIHtcbiAgICAgICAgICAgIHZhciBwcm9wb3NhbHMgPSBsb2NhdGlvbnMuc2xpY2UoKTtcblxuICAgICAgICAgICAgdmFyIGIgPSBbIXVwd2FyZCwgdXB3YXJkXTtcbiAgICAgICAgICAgIHZhciBmID0gW3Vwd2FyZCwgIXVwd2FyZF07XG5cbiAgICAgICAgICAgIC8vIENvcHkgaGFuZGxlTnVtYmVycyBzbyB3ZSBkb24ndCBjaGFuZ2UgdGhlIGRhdGFzZXRcbiAgICAgICAgICAgIGhhbmRsZU51bWJlcnMgPSBoYW5kbGVOdW1iZXJzLnNsaWNlKCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSB3aGljaCBoYW5kbGUgaXMgJ2xlYWRpbmcnLlxuICAgICAgICAgICAgLy8gSWYgdGhhdCBvbmUgY2FuJ3QgbW92ZSB0aGUgc2Vjb25kIGNhbid0IGVpdGhlci5cbiAgICAgICAgICAgIGlmICh1cHdhcmQpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXJzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU3RlcCAxOiBnZXQgdGhlIG1heGltdW0gcGVyY2VudGFnZSB0aGF0IGFueSBvZiB0aGUgaGFuZGxlcyBjYW4gbW92ZVxuICAgICAgICAgICAgaWYgKGhhbmRsZU51bWJlcnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyLCBvKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0byA9IGNoZWNrSGFuZGxlUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXSArIHByb3Bvc2FsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYltvXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZbb10sXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFN0b3AgaWYgb25lIG9mIHRoZSBoYW5kbGVzIGNhbid0IG1vdmUuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0byA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2FsID0gdG8gLSBwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdID0gdG87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdXNpbmcgb25lIGhhbmRsZSwgY2hlY2sgYmFja3dhcmQgQU5EIGZvcndhcmRcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGIgPSBmID0gW3RydWVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gU3RlcCAyOiBUcnkgdG8gc2V0IHRoZSBoYW5kbGVzIHdpdGggdGhlIGZvdW5kIHBlcmNlbnRhZ2VcbiAgICAgICAgICAgIGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyLCBvKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBsb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSArIHByb3Bvc2FsLCBiW29dLCBmW29dKSB8fCBzdGF0ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBTdGVwIDM6IElmIGEgaGFuZGxlIG1vdmVkLCBmaXJlIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwidXBkYXRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInNsaWRlXCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUYWtlcyBhIGJhc2UgdmFsdWUgYW5kIGFuIG9mZnNldC4gVGhpcyBvZmZzZXQgaXMgdXNlZCBmb3IgdGhlIGNvbm5lY3QgYmFyIHNpemUuXG4gICAgICAgIC8vIEluIHRoZSBpbml0aWFsIGRlc2lnbiBmb3IgdGhpcyBmZWF0dXJlLCB0aGUgb3JpZ2luIGVsZW1lbnQgd2FzIDElIHdpZGUuXG4gICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIGEgcm91bmRpbmcgYnVnIGluIENocm9tZSBtYWtlcyBpdCBpbXBvc3NpYmxlIHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmVcbiAgICAgICAgLy8gaW4gdGhpcyBtYW5uZXI6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc5ODIyM1xuICAgICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1EaXJlY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGlyID8gMTAwIC0gYSAtIGIgOiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlcyBzY29wZV9Mb2NhdGlvbnMgYW5kIHNjb3BlX1ZhbHVlcywgdXBkYXRlcyB2aXN1YWwgc3RhdGVcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0bykge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2F0aW9ucy5cbiAgICAgICAgICAgIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID0gdG87XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIHRoZSBzbGlkZXIgc3RlcHBpbmcvcmFuZ2UuXG4gICAgICAgICAgICBzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IDEwICogKHRyYW5zZm9ybURpcmVjdGlvbih0bywgMCkgLSBzY29wZV9EaXJPZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVJ1bGUgPSBcInRyYW5zbGF0ZShcIiArIGluUnVsZU9yZGVyKHRyYW5zbGF0aW9uICsgXCIlXCIsIFwiMFwiKSArIFwiKVwiO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uc3R5bGVbb3B0aW9ucy50cmFuc2Zvcm1SdWxlXSA9IHRyYW5zbGF0ZVJ1bGU7XG5cbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyKTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIYW5kbGVzIGJlZm9yZSB0aGUgc2xpZGVyIG1pZGRsZSBhcmUgc3RhY2tlZCBsYXRlciA9IGhpZ2hlcixcbiAgICAgICAgLy8gSGFuZGxlcyBhZnRlciB0aGUgbWlkZGxlIGxhdGVyIGlzIGxvd2VyXG4gICAgICAgIC8vIFtbN10gWzhdIC4uLi4uLi4uLi4gfCAuLi4uLi4uLi4uIFs1XSBbNF1cbiAgICAgICAgZnVuY3Rpb24gc2V0WmluZGV4KCkge1xuICAgICAgICAgICAgc2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyID0gc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0gPiA1MCA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICB2YXIgekluZGV4ID0gMyArIChzY29wZV9IYW5kbGVzLmxlbmd0aCArIGRpciAqIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdLnN0eWxlLnpJbmRleCA9IHpJbmRleDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGVzdCBzdWdnZXN0ZWQgdmFsdWVzIGFuZCBhcHBseSBtYXJnaW4sIHN0ZXAuXG4gICAgICAgIC8vIGlmIGV4YWN0SW5wdXQgaXMgdHJ1ZSwgZG9uJ3QgcnVuIGNoZWNrSGFuZGxlUG9zaXRpb24sIHRoZW4gdGhlIGhhbmRsZSBjYW4gYmUgcGxhY2VkIGluIGJldHdlZW4gc3RlcHMgKCM0MzYpXG4gICAgICAgIGZ1bmN0aW9uIHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBleGFjdElucHV0KSB7XG4gICAgICAgICAgICBpZiAoIWV4YWN0SW5wdXQpIHtcbiAgICAgICAgICAgICAgICB0byA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0byA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVwZGF0ZUhhbmRsZVBvc2l0aW9uKGhhbmRsZU51bWJlciwgdG8pO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZXMgc3R5bGUgYXR0cmlidXRlIGZvciBjb25uZWN0IG5vZGVzXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbm5lY3QoaW5kZXgpIHtcbiAgICAgICAgICAgIC8vIFNraXAgY29ubmVjdHMgc2V0IHRvIGZhbHNlXG4gICAgICAgICAgICBpZiAoIXNjb3BlX0Nvbm5lY3RzW2luZGV4XSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGwgPSAwO1xuICAgICAgICAgICAgdmFyIGggPSAxMDA7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGwgPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXggLSAxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSBzY29wZV9Db25uZWN0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgaCA9IHNjb3BlX0xvY2F0aW9uc1tpbmRleF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFdlIHVzZSB0d28gcnVsZXM6XG4gICAgICAgICAgICAvLyAndHJhbnNsYXRlJyB0byBjaGFuZ2UgdGhlIGxlZnQvdG9wIG9mZnNldDtcbiAgICAgICAgICAgIC8vICdzY2FsZScgdG8gY2hhbmdlIHRoZSB3aWR0aCBvZiB0aGUgZWxlbWVudDtcbiAgICAgICAgICAgIC8vIEFzIHRoZSBlbGVtZW50IGhhcyBhIHdpZHRoIG9mIDEwMCUsIGEgdHJhbnNsYXRpb24gb2YgMTAwJSBpcyBlcXVhbCB0byAxMDAlIG9mIHRoZSBwYXJlbnQgKC5ub1VpLWJhc2UpXG4gICAgICAgICAgICB2YXIgY29ubmVjdFdpZHRoID0gaCAtIGw7XG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlUnVsZSA9IFwidHJhbnNsYXRlKFwiICsgaW5SdWxlT3JkZXIodHJhbnNmb3JtRGlyZWN0aW9uKGwsIGNvbm5lY3RXaWR0aCkgKyBcIiVcIiwgXCIwXCIpICsgXCIpXCI7XG4gICAgICAgICAgICB2YXIgc2NhbGVSdWxlID0gXCJzY2FsZShcIiArIGluUnVsZU9yZGVyKGNvbm5lY3RXaWR0aCAvIDEwMCwgXCIxXCIpICsgXCIpXCI7XG5cbiAgICAgICAgICAgIHNjb3BlX0Nvbm5lY3RzW2luZGV4XS5zdHlsZVtvcHRpb25zLnRyYW5zZm9ybVJ1bGVdID0gdHJhbnNsYXRlUnVsZSArIFwiIFwiICsgc2NhbGVSdWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFyc2VzIHZhbHVlIHBhc3NlZCB0byAuc2V0IG1ldGhvZC4gUmV0dXJucyBjdXJyZW50IHZhbHVlIGlmIG5vdCBwYXJzZS1hYmxlLlxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlVG9WYWx1ZSh0bywgaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAvLyBTZXR0aW5nIHdpdGggbnVsbCBpbmRpY2F0ZXMgYW4gJ2lnbm9yZScuXG4gICAgICAgICAgICAvLyBJbnB1dHRpbmcgJ2ZhbHNlJyBpcyBpbnZhbGlkLlxuICAgICAgICAgICAgaWYgKHRvID09PSBudWxsIHx8IHRvID09PSBmYWxzZSB8fCB0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBhIGZvcm1hdHRlZCBudW1iZXIgd2FzIHBhc3NlZCwgYXR0ZW1wdCB0byBkZWNvZGUgaXQuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgdG8gPSBTdHJpbmcodG8pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0byA9IG9wdGlvbnMuZm9ybWF0LmZyb20odG8pO1xuICAgICAgICAgICAgdG8gPSBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKHRvKTtcblxuICAgICAgICAgICAgLy8gSWYgcGFyc2luZyB0aGUgbnVtYmVyIGZhaWxlZCwgdXNlIHRoZSBjdXJyZW50IHZhbHVlLlxuICAgICAgICAgICAgaWYgKHRvID09PSBmYWxzZSB8fCBpc05hTih0bykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgc2xpZGVyIHZhbHVlLlxuICAgICAgICBmdW5jdGlvbiB2YWx1ZVNldChpbnB1dCwgZmlyZVNldEV2ZW50LCBleGFjdElucHV0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gYXNBcnJheShpbnB1dCk7XG4gICAgICAgICAgICB2YXIgaXNJbml0ID0gc2NvcGVfTG9jYXRpb25zWzBdID09PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIC8vIEV2ZW50IGZpcmVzIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIGZpcmVTZXRFdmVudCA9IGZpcmVTZXRFdmVudCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6ICEhZmlyZVNldEV2ZW50O1xuXG4gICAgICAgICAgICAvLyBBbmltYXRpb24gaXMgb3B0aW9uYWwuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGluaXRpYWwgdmFsdWVzIHdlcmUgc2V0IGJlZm9yZSB1c2luZyBhbmltYXRlZCBwbGFjZW1lbnQuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hbmltYXRlICYmICFpc0luaXQpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzc0ZvcihzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXAsIG9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGaXJzdCBwYXNzLCB3aXRob3V0IGxvb2tBaGVhZCBidXQgd2l0aCBsb29rQmFja3dhcmQuIFZhbHVlcyBhcmUgc2V0IGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgICAgICAgIHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgcmVzb2x2ZVRvVmFsdWUodmFsdWVzW2hhbmRsZU51bWJlcl0sIGhhbmRsZU51bWJlciksIHRydWUsIGZhbHNlLCBleGFjdElucHV0KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgaSA9IHNjb3BlX0hhbmRsZU51bWJlcnMubGVuZ3RoID09PSAxID8gMCA6IDE7XG5cbiAgICAgICAgICAgIC8vIFNlY29uZGFyeSBwYXNzZXMuIE5vdyB0aGF0IGFsbCBiYXNlIHZhbHVlcyBhcmUgc2V0LCBhcHBseSBjb25zdHJhaW50cy5cbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgYWxsIGhhbmRsZXMgdG8gZW5zdXJlIGNvbnN0cmFpbnRzIGFyZSBhcHBsaWVkIGZvciB0aGUgZW50aXJlIHNsaWRlciAoSXNzdWUgIzEwMDkpXG4gICAgICAgICAgICBmb3IgKDsgaSA8IHNjb3BlX0hhbmRsZU51bWJlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSwgdHJ1ZSwgdHJ1ZSwgZXhhY3RJbnB1dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFppbmRleCgpO1xuXG4gICAgICAgICAgICBzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInVwZGF0ZVwiLCBoYW5kbGVOdW1iZXIpO1xuXG4gICAgICAgICAgICAgICAgLy8gRmlyZSB0aGUgZXZlbnQgb25seSBmb3IgaGFuZGxlcyB0aGF0IHJlY2VpdmVkIGEgbmV3IHZhbHVlLCBhcyBwZXIgIzU3OVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbaGFuZGxlTnVtYmVyXSAhPT0gbnVsbCAmJiBmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyZUV2ZW50KFwic2V0XCIsIGhhbmRsZU51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXNldCBzbGlkZXIgdG8gaW5pdGlhbCB2YWx1ZXNcbiAgICAgICAgZnVuY3Rpb24gdmFsdWVSZXNldChmaXJlU2V0RXZlbnQpIHtcbiAgICAgICAgICAgIHZhbHVlU2V0KG9wdGlvbnMuc3RhcnQsIGZpcmVTZXRFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdmFsdWUgZm9yIGEgc2luZ2xlIGhhbmRsZVxuICAgICAgICBmdW5jdGlvbiB2YWx1ZVNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHZhbHVlLCBmaXJlU2V0RXZlbnQsIGV4YWN0SW5wdXQpIHtcbiAgICAgICAgICAgIC8vIEVuc3VyZSBudW1lcmljIGlucHV0XG4gICAgICAgICAgICBoYW5kbGVOdW1iZXIgPSBOdW1iZXIoaGFuZGxlTnVtYmVyKTtcblxuICAgICAgICAgICAgaWYgKCEoaGFuZGxlTnVtYmVyID49IDAgJiYgaGFuZGxlTnVtYmVyIDwgc2NvcGVfSGFuZGxlTnVtYmVycy5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBpbnZhbGlkIGhhbmRsZSBudW1iZXIsIGdvdDogXCIgKyBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMb29rIGJvdGggYmFja3dhcmQgYW5kIGZvcndhcmQsIHNpbmNlIHdlIGRvbid0IHdhbnQgdGhpcyBoYW5kbGUgdG8gXCJwdXNoXCIgb3RoZXIgaGFuZGxlcyAoIzk2MCk7XG4gICAgICAgICAgICAvLyBUaGUgZXhhY3RJbnB1dCBhcmd1bWVudCBjYW4gYmUgdXNlZCB0byBpZ25vcmUgc2xpZGVyIHN0ZXBwaW5nICgjNDM2KVxuICAgICAgICAgICAgc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgcmVzb2x2ZVRvVmFsdWUodmFsdWUsIGhhbmRsZU51bWJlciksIHRydWUsIHRydWUsIGV4YWN0SW5wdXQpO1xuXG4gICAgICAgICAgICBmaXJlRXZlbnQoXCJ1cGRhdGVcIiwgaGFuZGxlTnVtYmVyKTtcblxuICAgICAgICAgICAgaWYgKGZpcmVTZXRFdmVudCkge1xuICAgICAgICAgICAgICAgIGZpcmVFdmVudChcInNldFwiLCBoYW5kbGVOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSBzbGlkZXIgdmFsdWUuXG4gICAgICAgIGZ1bmN0aW9uIHZhbHVlR2V0KCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHNjb3BlX1ZhbHVlcy5tYXAob3B0aW9ucy5mb3JtYXQudG8pO1xuXG4gICAgICAgICAgICAvLyBJZiBvbmx5IG9uZSBoYW5kbGUgaXMgdXNlZCwgcmV0dXJuIGEgc2luZ2xlIHZhbHVlLlxuICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVtb3ZlcyBjbGFzc2VzIGZyb20gdGhlIHJvb3QgYW5kIGVtcHRpZXMgaXQuXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5jc3NDbGFzc2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmNzc0NsYXNzZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXNba2V5XSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlIChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIHNjb3BlX1RhcmdldC5yZW1vdmVDaGlsZChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGV0ZSBzY29wZV9UYXJnZXQubm9VaVNsaWRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldE5leHRTdGVwc0ZvckhhbmRsZShoYW5kbGVOdW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdO1xuICAgICAgICAgICAgdmFyIG5lYXJieVN0ZXBzID0gc2NvcGVfU3BlY3RydW0uZ2V0TmVhcmJ5U3RlcHMobG9jYXRpb24pO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gc2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl07XG4gICAgICAgICAgICB2YXIgaW5jcmVtZW50ID0gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RlcDtcbiAgICAgICAgICAgIHZhciBkZWNyZW1lbnQgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBJZiBzbmFwcGVkLCBkaXJlY3RseSB1c2UgZGVmaW5lZCBzdGVwIHZhbHVlXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zbmFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLSBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLnN0YXJ0VmFsdWUgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZSB8fCBudWxsXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlIG5leHQgdmFsdWUgaW4gdGhpcyBzdGVwIG1vdmVzIGludG8gdGhlIG5leHQgc3RlcCxcbiAgICAgICAgICAgIC8vIHRoZSBpbmNyZW1lbnQgaXMgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IHN0ZXAgLSB0aGUgY3VycmVudCB2YWx1ZVxuICAgICAgICAgICAgaWYgKGluY3JlbWVudCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgKyBpbmNyZW1lbnQgPiBuZWFyYnlTdGVwcy5zdGVwQWZ0ZXIuc3RhcnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSBuZWFyYnlTdGVwcy5zdGVwQWZ0ZXIuc3RhcnRWYWx1ZSAtIHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGJleW9uZCB0aGUgc3RhcnRpbmcgcG9pbnRcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0YXJ0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGVwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLnN0ZXAgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGEgaGFuZGxlIGlzIGF0IHRoZSBzdGFydCBvZiBhIHN0ZXAsIGl0IGFsd2F5cyBzdGVwcyBiYWNrIGludG8gdGhlIHByZXZpb3VzIHN0ZXAgZmlyc3RcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudCA9IHZhbHVlIC0gbmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5oaWdoZXN0U3RlcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm93LCBpZiBhdCB0aGUgc2xpZGVyIGVkZ2VzLCB0aGVyZSBpcyBubyBpbi9kZWNyZW1lbnRcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbiA9PT0gMTAwKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcyBwZXIgIzM5MSwgdGhlIGNvbXBhcmlzb24gZm9yIHRoZSBkZWNyZW1lbnQgc3RlcCBjYW4gaGF2ZSBzb21lIHJvdW5kaW5nIGlzc3Vlcy5cbiAgICAgICAgICAgIHZhciBzdGVwRGVjaW1hbHMgPSBzY29wZV9TcGVjdHJ1bS5jb3VudFN0ZXBEZWNpbWFscygpO1xuXG4gICAgICAgICAgICAvLyBSb3VuZCBwZXIgIzM5MVxuICAgICAgICAgICAgaWYgKGluY3JlbWVudCAhPT0gbnVsbCAmJiBpbmNyZW1lbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50ID0gTnVtYmVyKGluY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGVjcmVtZW50ICE9PSBudWxsICYmIGRlY3JlbWVudCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnQgPSBOdW1iZXIoZGVjcmVtZW50LnRvRml4ZWQoc3RlcERlY2ltYWxzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbZGVjcmVtZW50LCBpbmNyZW1lbnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgc2l6ZSBmb3IgdGhlIHNsaWRlci5cbiAgICAgICAgZnVuY3Rpb24gZ2V0TmV4dFN0ZXBzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0hhbmRsZU51bWJlcnMubWFwKGdldE5leHRTdGVwc0ZvckhhbmRsZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGVhYmxlOiBtYXJnaW4sIGxpbWl0LCBwYWRkaW5nLCBzdGVwLCByYW5nZSwgYW5pbWF0ZSwgc25hcFxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKG9wdGlvbnNUb1VwZGF0ZSwgZmlyZVNldEV2ZW50KSB7XG4gICAgICAgICAgICAvLyBTcGVjdHJ1bSBpcyBjcmVhdGVkIHVzaW5nIHRoZSByYW5nZSwgc25hcCwgZGlyZWN0aW9uIGFuZCBzdGVwIG9wdGlvbnMuXG4gICAgICAgICAgICAvLyAnc25hcCcgYW5kICdzdGVwJyBjYW4gYmUgdXBkYXRlZC5cbiAgICAgICAgICAgIC8vIElmICdzbmFwJyBhbmQgJ3N0ZXAnIGFyZSBub3QgcGFzc2VkLCB0aGV5IHNob3VsZCByZW1haW4gdW5jaGFuZ2VkLlxuICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZUdldCgpO1xuXG4gICAgICAgICAgICB2YXIgdXBkYXRlQWJsZSA9IFtcbiAgICAgICAgICAgICAgICBcIm1hcmdpblwiLFxuICAgICAgICAgICAgICAgIFwibGltaXRcIixcbiAgICAgICAgICAgICAgICBcInBhZGRpbmdcIixcbiAgICAgICAgICAgICAgICBcInJhbmdlXCIsXG4gICAgICAgICAgICAgICAgXCJhbmltYXRlXCIsXG4gICAgICAgICAgICAgICAgXCJzbmFwXCIsXG4gICAgICAgICAgICAgICAgXCJzdGVwXCIsXG4gICAgICAgICAgICAgICAgXCJmb3JtYXRcIixcbiAgICAgICAgICAgICAgICBcInBpcHNcIixcbiAgICAgICAgICAgICAgICBcInRvb2x0aXBzXCJcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIC8vIE9ubHkgY2hhbmdlIG9wdGlvbnMgdGhhdCB3ZSdyZSBhY3R1YWxseSBwYXNzZWQgdG8gdXBkYXRlLlxuICAgICAgICAgICAgdXBkYXRlQWJsZS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHVuZGVmaW5lZC4gbnVsbCByZW1vdmVzIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxPcHRpb25zW25hbWVdID0gb3B0aW9uc1RvVXBkYXRlW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbmV3T3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIExvYWQgbmV3IG9wdGlvbnMgaW50byB0aGUgc2xpZGVyIHN0YXRlXG4gICAgICAgICAgICB1cGRhdGVBYmxlLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tuYW1lXSA9IG5ld09wdGlvbnNbbmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNjb3BlX1NwZWN0cnVtID0gbmV3T3B0aW9ucy5zcGVjdHJ1bTtcblxuICAgICAgICAgICAgLy8gTGltaXQsIG1hcmdpbiBhbmQgcGFkZGluZyBkZXBlbmQgb24gdGhlIHNwZWN0cnVtIGJ1dCBhcmUgc3RvcmVkIG91dHNpZGUgb2YgaXQuICgjNjc3KVxuICAgICAgICAgICAgb3B0aW9ucy5tYXJnaW4gPSBuZXdPcHRpb25zLm1hcmdpbjtcbiAgICAgICAgICAgIG9wdGlvbnMubGltaXQgPSBuZXdPcHRpb25zLmxpbWl0O1xuICAgICAgICAgICAgb3B0aW9ucy5wYWRkaW5nID0gbmV3T3B0aW9ucy5wYWRkaW5nO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgcGlwcywgcmVtb3ZlcyBleGlzdGluZy5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnBpcHMpIHtcbiAgICAgICAgICAgICAgICBwaXBzKG9wdGlvbnMucGlwcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZVBpcHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXBkYXRlIHRvb2x0aXBzLCByZW1vdmVzIGV4aXN0aW5nLlxuICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9vbHRpcHMpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwcygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIHRoZSBjdXJyZW50IHBvc2l0aW9uaW5nIHNvIHZhbHVlU2V0IGZvcmNlcyBhbiB1cGRhdGUuXG4gICAgICAgICAgICBzY29wZV9Mb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIHZhbHVlU2V0KG9wdGlvbnNUb1VwZGF0ZS5zdGFydCB8fCB2LCBmaXJlU2V0RXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6YXRpb24gc3RlcHNcbiAgICAgICAgZnVuY3Rpb24gc2V0dXBTbGlkZXIoKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGJhc2UgZWxlbWVudCwgaW5pdGlhbGl6ZSBIVE1MIGFuZCBzZXQgY2xhc3Nlcy5cbiAgICAgICAgICAgIC8vIEFkZCBoYW5kbGVzIGFuZCBjb25uZWN0IGVsZW1lbnRzLlxuICAgICAgICAgICAgc2NvcGVfQmFzZSA9IGFkZFNsaWRlcihzY29wZV9UYXJnZXQpO1xuXG4gICAgICAgICAgICBhZGRFbGVtZW50cyhvcHRpb25zLmNvbm5lY3QsIHNjb3BlX0Jhc2UpO1xuXG4gICAgICAgICAgICAvLyBBdHRhY2ggdXNlciBldmVudHMuXG4gICAgICAgICAgICBiaW5kU2xpZGVyRXZlbnRzKG9wdGlvbnMuZXZlbnRzKTtcblxuICAgICAgICAgICAgLy8gVXNlIHRoZSBwdWJsaWMgdmFsdWUgbWV0aG9kIHRvIHNldCB0aGUgc3RhcnQgdmFsdWVzLlxuICAgICAgICAgICAgdmFsdWVTZXQob3B0aW9ucy5zdGFydCk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnBpcHMpIHtcbiAgICAgICAgICAgICAgICBwaXBzKG9wdGlvbnMucGlwcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRvb2x0aXBzKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcHMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXJpYSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0dXBTbGlkZXIoKTtcblxuICAgICAgICAvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG4gICAgICAgIHNjb3BlX1NlbGYgPSB7XG4gICAgICAgICAgICBkZXN0cm95OiBkZXN0cm95LFxuICAgICAgICAgICAgc3RlcHM6IGdldE5leHRTdGVwcyxcbiAgICAgICAgICAgIG9uOiBiaW5kRXZlbnQsXG4gICAgICAgICAgICBvZmY6IHJlbW92ZUV2ZW50LFxuICAgICAgICAgICAgZ2V0OiB2YWx1ZUdldCxcbiAgICAgICAgICAgIHNldDogdmFsdWVTZXQsXG4gICAgICAgICAgICBzZXRIYW5kbGU6IHZhbHVlU2V0SGFuZGxlLFxuICAgICAgICAgICAgcmVzZXQ6IHZhbHVlUmVzZXQsXG4gICAgICAgICAgICAvLyBFeHBvc2VkIGZvciB1bml0IHRlc3RpbmcsIGRvbid0IHVzZSB0aGlzIGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAgICAgICAgICBfX21vdmVIYW5kbGVzOiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgICAgICAgICAgIG1vdmVIYW5kbGVzKGEsIGIsIHNjb3BlX0xvY2F0aW9ucywgYyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9uczogb3JpZ2luYWxPcHRpb25zLCAvLyBJc3N1ZSAjNjAwLCAjNjc4XG4gICAgICAgICAgICB1cGRhdGVPcHRpb25zOiB1cGRhdGVPcHRpb25zLFxuICAgICAgICAgICAgdGFyZ2V0OiBzY29wZV9UYXJnZXQsIC8vIElzc3VlICM1OTdcbiAgICAgICAgICAgIHJlbW92ZVBpcHM6IHJlbW92ZVBpcHMsXG4gICAgICAgICAgICByZW1vdmVUb29sdGlwczogcmVtb3ZlVG9vbHRpcHMsXG4gICAgICAgICAgICBnZXRUb29sdGlwczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZV9Ub29sdGlwcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRPcmlnaW5zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlX0hhbmRsZXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGlwczogcGlwcyAvLyBJc3N1ZSAjNTk0XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNjb3BlX1NlbGY7XG4gICAgfVxuXG4gICAgLy8gUnVuIHRoZSBzdGFuZGFyZCBpbml0aWFsaXplclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUodGFyZ2V0LCBvcmlnaW5hbE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0YXJnZXQgfHwgIXRhcmdldC5ub2RlTmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiBcIiArIHRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiB0aGUgc2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlxuICAgICAgICBpZiAodGFyZ2V0Lm5vVWlTbGlkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogU2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRlc3QgdGhlIG9wdGlvbnMgYW5kIGNyZWF0ZSB0aGUgc2xpZGVyIGVudmlyb25tZW50O1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucywgdGFyZ2V0KTtcbiAgICAgICAgdmFyIGFwaSA9IHNjb3BlKHRhcmdldCwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zKTtcblxuICAgICAgICB0YXJnZXQubm9VaVNsaWRlciA9IGFwaTtcblxuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH1cblxuICAgIC8vIFVzZSBhbiBvYmplY3QgaW5zdGVhZCBvZiBhIGZ1bmN0aW9uIGZvciBmdXR1cmUgZXhwYW5kYWJpbGl0eTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBFeHBvc2VkIGZvciB1bml0IHRlc3RpbmcsIGRvbid0IHVzZSB0aGlzIGluIHlvdXIgYXBwbGljYXRpb24uXG4gICAgICAgIF9fc3BlY3RydW06IFNwZWN0cnVtLFxuICAgICAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgICAgICAvLyBBIHJlZmVyZW5jZSB0byB0aGUgZGVmYXVsdCBjbGFzc2VzLCBhbGxvd3MgZ2xvYmFsIGNoYW5nZXMuXG4gICAgICAgIC8vIFVzZSB0aGUgY3NzQ2xhc3NlcyBvcHRpb24gZm9yIGNoYW5nZXMgdG8gb25lIHNsaWRlci5cbiAgICAgICAgY3NzQ2xhc3NlczogY3NzQ2xhc3NlcyxcbiAgICAgICAgY3JlYXRlOiBpbml0aWFsaXplXG4gICAgfTtcbn0pO1xuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vICAgICA9PT09PT09PT09PT09PSDRgdCy0L7QuCDQvdCw0YHRgtGA0L7QudC60LggPT09PT09PT09PT09PT1cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gINC/0L7Qu9GD0YfQsNC10Lwg0Y3Qu9C10LzQtdC90YIg0LPQtNC1INCx0YPQtNC10YIg0L3QsNGIINGB0LvQsNC50LTQtdGAXG5sZXQgc2xpZGVyTm9VaSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3Vpc2xpZGVyJyk7XG5pZiAoc2xpZGVyTm9VaSkge1xuXG4gICAgLy8g0YHQvtC30LTQsNC10Lwg0L3QvtCy0YvQuSDRgdC70LDQudC00LXRgFxuICAgIG5vVWlTbGlkZXIuY3JlYXRlKHNsaWRlck5vVWksIHtcbiAgICAgICAgLy8gb3JpZW50YXRpb246ICd2ZXJ0aWNhbCcsXG5cbiAgICAgICAgLy/Qv9C+0LTRgdC60LDQt9C60Lgg0LfQvdCw0YfQtdC90LjQuSDQvdCw0LQg0L/QvtC70LfRg9C90LrQsNC80LggXG4gICAgICAgIHRvb2x0aXBzOiB0cnVlLFxuXG4gICAgICAgIC8vINC+0LrRgNCw0YjQuNCy0LDRjtGJ0LDRj9GB0Y8g0LvQuNC90LjRjyDQstC90YPRgtGA0Lgg0LfQvdCw0YfQtdC90LjQuVxuICAgICAgICBjb25uZWN0OiB0cnVlLFxuXG4gICAgICAgIC8vINC60YDQsNC50L3QuNC1INC30L3QsNGH0LXQvdC40Y8g0YHQu9Cw0LnQtNC10YDQsFxuICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgJ21pbic6IDAsXG4gICAgICAgICAgICAnbWF4JzogMTAwMDBcbiAgICAgICAgfSxcbiAgICAgICAgLy8g0L3QsNGH0LDQu9GM0L3Ri9C1INC30L3QsNGH0LXQvdC40Y9cbiAgICAgICAgc3RhcnQ6IFswLCA1MDAwXSxcbiAgICAgICAgLy8g0LrRgNCw0LnQvdC10LUg0LfQvdCw0YfQtdC90LjQtSDRgdC70LDQudC00LXRgNCwINC30LAg0LrQvtGC0L7RgNC+0LUg0L3QtdC70YzQt9GPINC30LDRhdC+0LTQuNGC0YxcbiAgICAgICAgLy8gcGFkZGluZzogMTAwLFxuICAgICAgICBzdGVwOiAxMDAsXG5cbiAgICAgICAgLyovLyDQu9C40L3QtdC50LrQuCDQstC90LjQt9GDINGB0LvQsNC50LTQtdGA0LBcbiAgICAgICAgXG4gICAgICAgIHBpcHM6IHtcbiAgICAgICAgICAgIG1vZGU6ICd2YWx1ZXMnLFxuICAgICAgICAgICAgdmFsdWVzOiBbNTAsIDEwMCwgMTUwXSxcbiAgICAgICAgICAgIGRlbnNpdHk6IDRcbiAgICAgICAgfSwqL1xuXG4gICAgICAgIC8vINGE0L7RgNC80LDRgtC40YDQvtCw0L3QuNC1INC30L3QsNGH0LXQvdC40LksINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOIGZsb2F0INGBINC00LLRg9C80Y8g0L3Rg9C70Y/QvNC4XG4gICAgICAgIGZvcm1hdDoge1xuICAgICAgICAgICAgLy/Qt9Cw0LzQtdC90LjQvCDQvdCwIGludGVnZXJcbiAgICAgICAgICAgIHRvOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKSA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8g0J/QvtC70YPRh9Cw0LXRgiDRgdGC0YDQvtC60YMsINC00L7Qu9C20LXQvSDQstC+0LfQstGA0LDRidCw0YLRjCDRh9C40YHQu9C+LlxuICAgICAgICAgICAgZnJvbTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZS5yZXBsYWNlKCcsLScsICcnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgLy8g0LLRi9Cy0L7QtNC40Lwg0LfQvdCw0YfQtdC90LjRjyDQv9C+0LvQt9GD0L3QutC+0LIg0LIg0LjQvdC/0YPRgtGLXG4gICAgLy8gc2xpZGVyTm9VaS5ub1VpU2xpZGVyLm9uKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgIGxldCB2YWxPbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29zdDEnKTtcbiAgICAvLyAgICAgbGV0IHZhbFR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3N0MicpO1xuICAgIC8vICAgICBsZXQgdmFsdWVzID0gc2xpZGVyTm9VaS5ub1VpU2xpZGVyLmdldCgpO1xuICAgIC8vICAgICBsZXQgdmFsMSA9IHZhbHVlc1swXTtcbiAgICAvLyAgICAgbGV0IHZhbDIgPSB2YWx1ZXNbMV07XG4gICAgLy8gICAgIC8vIHZhbE9uZS52YWx1ZSA9IHZhbDE7XG4gICAgLy8gICAgIHZhbE9uZS52YWx1ZSA9IHZhbDI7XG4gICAgLy8gICAgIHZhbFR3by52YWx1ZSA9IHZhbDI7XG4gICAgLy8gfSk7XG5cbiAgICAvLyDQv9C10YDQtdC00LDQtdC8INCy0LLQtdC00LXQvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C10Lwg0LfQvdCw0YfQtdC90LjRjyDQsiDRgdC70LDQudC00LXRgFxuICAgIC8vIHZhciBpbnB1dEZvcm1hdE9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3N0MScpO1xuICAgIC8vIHZhciBpbnB1dEZvcm1hdFR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3N0MicpO1xuXG4gICAgLy8gaW5wdXRGb3JtYXRPbmUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgICBzbGlkZXJOb1VpLm5vVWlTbGlkZXIuc2V0KFtpbnB1dEZvcm1hdE9uZS52YWx1ZSwgbnVsbF0pO1xuICAgIC8vIH0pO1xuXG4gICAgLy8gaW5wdXRGb3JtYXRUd28uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIC8vICAgICBzbGlkZXJOb1VpLm5vVWlTbGlkZXIuc2V0KFtudWxsLCBpbnB1dEZvcm1hdFR3by52YWx1ZV0pO1xuICAgIC8vIH0pO1xufVxuLy8gRHluYW1pYyBBZGFwdCB2LjFcbi8vIEhUTUwgZGF0YS1kYT1cIndoZXJlKHVuaXEgY2xhc3MgbmFtZSkscG9zaXRpb24oZGlnaSksd2hlbihicmVha3BvaW50KVwiXG4vLyBlLnguIGRhdGEtZGE9XCJpdGVtLDIsOTkyXCJcbi8vIEFuZHJpa2FueWNoIFlldmhlbiAyMDIwXG4vLyBodHRwczovL3d3dy55b3V0dWJlLmNvbS9jL2ZyZWVsYW5jZXJsaWZlc3R5bGVcblxuKGZ1bmN0aW9uICgpIHtcblx0bGV0IG9yaWdpbmFsUG9zaXRpb25zID0gW107XG5cdGxldCBkYUVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZGFdJyk7XG5cdGxldCBkYUVsZW1lbnRzQXJyYXkgPSBbXTtcblx0bGV0IGRhTWF0Y2hNZWRpYSA9IFtdO1xuXHQvL9CX0LDQv9C+0LvQvdGP0LXQvCDQvNCw0YHRgdC40LLRi1xuXHRpZiAoZGFFbGVtZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0bGV0IG51bWJlciA9IDA7XG5cdFx0Zm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGRhRWxlbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG5cdFx0XHRjb25zdCBkYUVsZW1lbnQgPSBkYUVsZW1lbnRzW2luZGV4XTtcblx0XHRcdGNvbnN0IGRhTW92ZSA9IGRhRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGEnKTtcblx0XHRcdGlmIChkYU1vdmUgIT0gJycpIHtcblx0XHRcdFx0Y29uc3QgZGFBcnJheSA9IGRhTW92ZS5zcGxpdCgnLCcpO1xuXHRcdFx0XHRjb25zdCBkYVBsYWNlID0gZGFBcnJheVsxXSA/IGRhQXJyYXlbMV0udHJpbSgpIDogJ2xhc3QnO1xuXHRcdFx0XHRjb25zdCBkYUJyZWFrcG9pbnQgPSBkYUFycmF5WzJdID8gZGFBcnJheVsyXS50cmltKCkgOiAnNzY3Jztcblx0XHRcdFx0Y29uc3QgZGFUeXBlID0gZGFBcnJheVszXSA9PT0gJ21pbicgPyBkYUFycmF5WzNdLnRyaW0oKSA6ICdtYXgnO1xuXHRcdFx0XHRjb25zdCBkYURlc3RpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBkYUFycmF5WzBdLnRyaW0oKSlcblx0XHRcdFx0aWYgKGRhQXJyYXkubGVuZ3RoID4gMCAmJiBkYURlc3RpbmF0aW9uKSB7XG5cdFx0XHRcdFx0ZGFFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kYS1pbmRleCcsIG51bWJlcik7XG5cdFx0XHRcdFx0Ly/Ql9Cw0L/QvtC70L3Rj9C10Lwg0LzQsNGB0YHQuNCyINC/0LXRgNCy0L7QvdCw0YfQsNC70YzQvdGL0YUg0L/QvtC30LjRhtC40Llcblx0XHRcdFx0XHRvcmlnaW5hbFBvc2l0aW9uc1tudW1iZXJdID0ge1xuXHRcdFx0XHRcdFx0XCJwYXJlbnRcIjogZGFFbGVtZW50LnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRcImluZGV4XCI6IGluZGV4SW5QYXJlbnQoZGFFbGVtZW50KVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0Ly/Ql9Cw0L/QvtC70L3Rj9C10Lwg0LzQsNGB0YHQuNCyINGN0LvQtdC80LXQvdGC0L7QsiBcblx0XHRcdFx0XHRkYUVsZW1lbnRzQXJyYXlbbnVtYmVyXSA9IHtcblx0XHRcdFx0XHRcdFwiZWxlbWVudFwiOiBkYUVsZW1lbnQsXG5cdFx0XHRcdFx0XHRcImRlc3RpbmF0aW9uXCI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgZGFBcnJheVswXS50cmltKCkpLFxuXHRcdFx0XHRcdFx0XCJwbGFjZVwiOiBkYVBsYWNlLFxuXHRcdFx0XHRcdFx0XCJicmVha3BvaW50XCI6IGRhQnJlYWtwb2ludCxcblx0XHRcdFx0XHRcdFwidHlwZVwiOiBkYVR5cGVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bnVtYmVyKys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZHluYW1pY0FkYXB0U29ydChkYUVsZW1lbnRzQXJyYXkpO1xuXG5cdFx0Ly/QodC+0LfQtNCw0LXQvCDRgdC+0LHRi9GC0LjRjyDQsiDRgtC+0YfQutC1INCx0YDQtdC50LrQv9C+0LjQvdGC0LBcblx0XHRmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZGFFbGVtZW50c0FycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xuXHRcdFx0Y29uc3QgZWwgPSBkYUVsZW1lbnRzQXJyYXlbaW5kZXhdO1xuXHRcdFx0Y29uc3QgZGFCcmVha3BvaW50ID0gZWwuYnJlYWtwb2ludDtcblx0XHRcdGNvbnN0IGRhVHlwZSA9IGVsLnR5cGU7XG5cblx0XHRcdGRhTWF0Y2hNZWRpYS5wdXNoKHdpbmRvdy5tYXRjaE1lZGlhKFwiKFwiICsgZGFUeXBlICsgXCItd2lkdGg6IFwiICsgZGFCcmVha3BvaW50ICsgXCJweClcIikpO1xuXHRcdFx0ZGFNYXRjaE1lZGlhW2luZGV4XS5hZGRMaXN0ZW5lcihkeW5hbWljQWRhcHQpO1xuXHRcdH1cblx0fVxuXHQvL9Ce0YHQvdC+0LLQvdCw0Y8g0YTRg9C90LrRhtC40Y9cblx0ZnVuY3Rpb24gZHluYW1pY0FkYXB0KGUpIHtcblx0XHRmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZGFFbGVtZW50c0FycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xuXHRcdFx0Y29uc3QgZWwgPSBkYUVsZW1lbnRzQXJyYXlbaW5kZXhdO1xuXHRcdFx0Y29uc3QgZGFFbGVtZW50ID0gZWwuZWxlbWVudDtcblx0XHRcdGNvbnN0IGRhRGVzdGluYXRpb24gPSBlbC5kZXN0aW5hdGlvbjtcblx0XHRcdGNvbnN0IGRhUGxhY2UgPSBlbC5wbGFjZTtcblx0XHRcdGNvbnN0IGRhQnJlYWtwb2ludCA9IGVsLmJyZWFrcG9pbnQ7XG5cdFx0XHRjb25zdCBkYUNsYXNzbmFtZSA9IFwiX2R5bmFtaWNfYWRhcHRfXCIgKyBkYUJyZWFrcG9pbnQ7XG5cblx0XHRcdGlmIChkYU1hdGNoTWVkaWFbaW5kZXhdLm1hdGNoZXMpIHtcblx0XHRcdFx0Ly/Qn9C10YDQtdCx0YDQsNGB0YvQstCw0LXQvCDRjdC70LXQvNC10L3RgtGLXG5cdFx0XHRcdGlmICghZGFFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhkYUNsYXNzbmFtZSkpIHtcblx0XHRcdFx0XHRsZXQgYWN0dWFsSW5kZXggPSBpbmRleE9mRWxlbWVudHMoZGFEZXN0aW5hdGlvbilbZGFQbGFjZV07XG5cdFx0XHRcdFx0aWYgKGRhUGxhY2UgPT09ICdmaXJzdCcpIHtcblx0XHRcdFx0XHRcdGFjdHVhbEluZGV4ID0gaW5kZXhPZkVsZW1lbnRzKGRhRGVzdGluYXRpb24pWzBdO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZGFQbGFjZSA9PT0gJ2xhc3QnKSB7XG5cdFx0XHRcdFx0XHRhY3R1YWxJbmRleCA9IGluZGV4T2ZFbGVtZW50cyhkYURlc3RpbmF0aW9uKVtpbmRleE9mRWxlbWVudHMoZGFEZXN0aW5hdGlvbikubGVuZ3RoXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGFEZXN0aW5hdGlvbi5pbnNlcnRCZWZvcmUoZGFFbGVtZW50LCBkYURlc3RpbmF0aW9uLmNoaWxkcmVuW2FjdHVhbEluZGV4XSk7XG5cdFx0XHRcdFx0ZGFFbGVtZW50LmNsYXNzTGlzdC5hZGQoZGFDbGFzc25hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvL9CS0L7Qt9Cy0YDQsNGJ0LDQtdC8INC90LAg0LzQtdGB0YLQvlxuXHRcdFx0XHRpZiAoZGFFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhkYUNsYXNzbmFtZSkpIHtcblx0XHRcdFx0XHRkeW5hbWljQWRhcHRCYWNrKGRhRWxlbWVudCk7XG5cdFx0XHRcdFx0ZGFFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZGFDbGFzc25hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGN1c3RvbUFkYXB0KCk7XG5cdH1cblxuXHQvL9CS0YvQt9C+0LIg0L7RgdC90L7QstC90L7QuSDRhNGD0L3QutGG0LjQuFxuXHRkeW5hbWljQWRhcHQoKTtcblxuXHQvL9Ck0YPQvdC60YbQuNGPINCy0L7Qt9Cy0YDQsNGC0LAg0L3QsCDQvNC10YHRgtC+XG5cdGZ1bmN0aW9uIGR5bmFtaWNBZGFwdEJhY2soZWwpIHtcblx0XHRjb25zdCBkYUluZGV4ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRhLWluZGV4Jyk7XG5cdFx0Y29uc3Qgb3JpZ2luYWxQbGFjZSA9IG9yaWdpbmFsUG9zaXRpb25zW2RhSW5kZXhdO1xuXHRcdGNvbnN0IHBhcmVudFBsYWNlID0gb3JpZ2luYWxQbGFjZVsncGFyZW50J107XG5cdFx0Y29uc3QgaW5kZXhQbGFjZSA9IG9yaWdpbmFsUGxhY2VbJ2luZGV4J107XG5cdFx0Y29uc3QgYWN0dWFsSW5kZXggPSBpbmRleE9mRWxlbWVudHMocGFyZW50UGxhY2UsIHRydWUpW2luZGV4UGxhY2VdO1xuXHRcdHBhcmVudFBsYWNlLmluc2VydEJlZm9yZShlbCwgcGFyZW50UGxhY2UuY2hpbGRyZW5bYWN0dWFsSW5kZXhdKTtcblx0fVxuXHQvL9Ck0YPQvdC60YbQuNGPINC/0L7Qu9GD0YfQtdC90LjRjyDQuNC90LTQtdC60YHQsCDQstC90YPRgtGA0Lgg0YDQvtC00LjRgtC10LvRj1xuXHRmdW5jdGlvbiBpbmRleEluUGFyZW50KGVsKSB7XG5cdFx0dmFyIGNoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZWwucGFyZW50Tm9kZS5jaGlsZHJlbik7XG5cdFx0cmV0dXJuIGNoaWxkcmVuLmluZGV4T2YoZWwpO1xuXHR9XG5cdC8v0KTRg9C90LrRhtC40Y8g0L/QvtC70YPRh9C10L3QuNGPINC80LDRgdGB0LjQstCwINC40L3QtNC10LrRgdC+0LIg0Y3Qu9C10LzQtdC90YLQvtCyINCy0L3Rg9GC0YDQuCDRgNC+0LTQuNGC0LXQu9GPIFxuXHRmdW5jdGlvbiBpbmRleE9mRWxlbWVudHMocGFyZW50LCBiYWNrKSB7XG5cdFx0Y29uc3QgY2hpbGRyZW4gPSBwYXJlbnQuY2hpbGRyZW47XG5cdFx0Y29uc3QgY2hpbGRyZW5BcnJheSA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGNoaWxkcmVuRWxlbWVudCA9IGNoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKGJhY2spIHtcblx0XHRcdFx0Y2hpbGRyZW5BcnJheS5wdXNoKGkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly/QmNGB0LrQu9GO0YfQsNGPINC/0LXRgNC10L3QtdGB0LXQvdC90YvQuSDRjdC70LXQvNC10L3RglxuXHRcdFx0XHRpZiAoY2hpbGRyZW5FbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1kYScpID09IG51bGwpIHtcblx0XHRcdFx0XHRjaGlsZHJlbkFycmF5LnB1c2goaSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNoaWxkcmVuQXJyYXk7XG5cdH1cblx0Ly/QodC+0YDRgtC40YDQvtCy0LrQsCDQvtCx0YrQtdC60YLQsFxuXHRmdW5jdGlvbiBkeW5hbWljQWRhcHRTb3J0KGFycikge1xuXHRcdGFyci5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRpZiAoYS5icmVha3BvaW50ID4gYi5icmVha3BvaW50KSB7IHJldHVybiAtMSB9IGVsc2UgeyByZXR1cm4gMSB9XG5cdFx0fSk7XG5cdFx0YXJyLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcblx0XHRcdGlmIChhLnBsYWNlID4gYi5wbGFjZSkgeyByZXR1cm4gMSB9IGVsc2UgeyByZXR1cm4gLTEgfVxuXHRcdH0pO1xuXHR9XG5cdC8v0JTQvtC/0L7Qu9C90LjRgtC10LvRjNC90YvQtSDRgdGG0LXQvdCw0YDQuNC4INCw0LTQsNC/0YLQsNGG0LjQuFxuXHRmdW5jdGlvbiBjdXN0b21BZGFwdCgpIHtcblx0XHQvL2NvbnN0IHZpZXdwb3J0X3dpZHRoID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTtcblx0fVxufSgpKTtcbi8vID09PT0g0LHRg9GA0LPQtdGAID09PT1cclxuXHJcbmxldCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbi1tZW51Jyk7XHJcbmxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5sZXQgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19ib2R5Jyk7XHJcblxyXG5idXJnZXIub25jbGljayA9KCk9PntcclxuICBidXJnZXIuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuICBib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2xvY2snKTtcclxufTtcblxyXG4gY29uc3QgcG9wdXBMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cC1saW5rJyk7XHJcbiBjb25zdCBkb2N1bWVudEJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcbiBjb25zdCBsb2NrUGFkZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2NrLXBhZGRpbmcnKTtcclxuIFxyXG4gbGV0IHVubG9jayA9IHRydWU7XHJcbiBcclxuIC8vINCy0LXQu9C40YfQuNC90LAg0YLQsNC60LDRjyDQttC1INC60LDQuiDQsiBjc3NcclxuIGNvbnN0IHRpbWVvdXQgPSA4MDA7XHJcbiBcclxuIC8vINC90LDRhdC+0LTQuNC8INCy0YHQtSDRgdGB0YvQu9C60Lgg0L3QsCDQv9C+0L/QsNC/0Ysg0Lgg0YPQsdC40YDQsNC10Lwg0YMg0L3QuNGFICMg0Lgg0L/QviDQutC70LjQutGDINC90LAg0YHRgdGL0LvQutGDINC+0YLQutGA0YvQstCw0LXQvCDQv9C+0L/QsNC/INGBINGC0LDQutC40Lwg0LjQvNC10L3QtdC8XHJcbiBpZiAocG9wdXBMaW5rcy5sZW5ndGggPiAwKSB7XHJcbiAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwb3B1cExpbmtzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgIGNvbnN0IHBvcHVwTGluayA9IHBvcHVwTGlua3NbaW5kZXhdO1xyXG4gICAgIHBvcHVwTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICBjb25zdCBwb3B1cE5hbWUgPSBwb3B1cExpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykucmVwbGFjZSgnIycsICcnKTtcclxuICAgICAgIGNvbnN0IGN1cnJlbnRQb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvcHVwTmFtZSk7XHJcbiAgICAgICBwb3B1cE9wZW4oY3VycmVudFBvcHVwKTtcclxuICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICB9KTtcclxuICAgfVxyXG4gfVxyXG4gXHJcbiAvLyDQvdCw0YXQvtC00LjQvCDQstGB0LUg0L7QsdGK0LXQutGC0Ysg0YEg0LrQu9Cw0YHRgdC+0LwgLmNsb3NlLXBvcHVwINC4INCy0LXRiNCw0LXQvCDQvdCwINC60LvQuNC6INC/0L4g0L3QtdC80YMg0YTRg9C90LrRhtC40Y4g0LfQsNC60YDRi9GC0LjRjyBcclxuIGNvbnN0IHBvcHVwQ2xvc2VJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNsb3NlLXBvcHVwJyk7XHJcbiBpZiAocG9wdXBDbG9zZUljb24ubGVuZ3RoID4gMCkge1xyXG4gICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcG9wdXBDbG9zZUljb24ubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgY29uc3QgZWwgPSBwb3B1cENsb3NlSWNvbltpbmRleF07XHJcbiAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgcG9wdXBDbG9zZShlbC5jbG9zZXN0KCcucG9wdXAnKSk7XHJcbiAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgfSk7XHJcbiAgIH1cclxuIH1cclxuIFxyXG4gLy8g0YTRg9C90LrRhtC40Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcclxuIGZ1bmN0aW9uIHBvcHVwT3BlbihjdXJyZW50UG9wdXApIHtcclxuICAgaWYgKGN1cnJlbnRQb3B1cCAmJiB1bmxvY2spIHtcclxuICAgICBjb25zdCBwb3B1cEFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC5vcGVuJyk7XHJcbiAgICAgaWYgKHBvcHVwQWN0aXZlKSB7XHJcbiAgICAgICBwb3B1cENsb3NlKHBvcHVwQWN0aXZlLCBmYWxzZSk7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGJvZHlMb2NrKCk7XHJcbiAgICAgfVxyXG4gICAgIGN1cnJlbnRQb3B1cC5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcbiAgICAgY3VycmVudFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLnBvcHVwX19jb250ZW50JykpIHtcclxuICAgICAgICAgcG9wdXBDbG9zZShlLnRhcmdldC5jbG9zZXN0KCcucG9wdXAnKSk7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgIH1cclxuIH1cclxuIFxyXG4gLy8g0YTRg9C90LrRhtC40Y8g0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcclxuIGZ1bmN0aW9uIHBvcHVwQ2xvc2UocG9wdXBBY3RpdmUsIGRvVW5sb2NrID0gdHJ1ZSkge1xyXG4gICBpZiAodW5sb2NrKSB7XHJcbiAgICAgcG9wdXBBY3RpdmUuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5cIik7XHJcbiAgICAgaWYgKGRvVW5sb2NrKSB7XHJcbiAgICAgICBib2R5VW5Mb2NrKCk7XHJcbiAgICAgfVxyXG4gICB9XHJcbiB9XHJcbiBcclxuIFxyXG4gXHJcbiBmdW5jdGlvbiBib2R5TG9jaygpIHtcclxuICAgY29uc3QgbG9ja1BhZGRpbmdWYWx1ZSA9IHdpbmRvdy5pbm5lcldpZHRoIC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhaW5lcicpLm9mZnNldFdpZHRoICsgJ3B4JztcclxuIFxyXG4gICBpZiAobG9ja1BhZGRpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsb2NrUGFkZGluZy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgIGNvbnN0IGVsID0gbG9ja1BhZGRpbmdbaW5kZXhdO1xyXG4gICAgICAgZWwuc3R5bGUucGFkZGluZ1JpZ2h0ID0gbG9ja1BhZGRpbmdWYWx1ZTtcclxuICAgICB9XHJcbiAgIH1cclxuICAgZG9jdW1lbnRCb2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IGxvY2tQYWRkaW5nVmFsdWU7XHJcbiAgIGRvY3VtZW50Qm9keS5jbGFzc0xpc3QuYWRkKCdsb2NrJyk7XHJcbiBcclxuICAgdW5sb2NrID0gZmFsc2U7XHJcbiAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgIHVubG9jayA9IHRydWU7XHJcbiAgIH0sIHRpbWVvdXQpO1xyXG4gfVxyXG4gXHJcbiBmdW5jdGlvbiBib2R5VW5Mb2NrKCkge1xyXG4gICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICBpZiAobG9ja1BhZGRpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxvY2tQYWRkaW5nLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICBjb25zdCBlbCA9IGxvY2tQYWRkaW5nW2luZGV4XTtcclxuICAgICAgICAgZWwuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJzBweCc7XHJcbiAgICAgICB9XHJcbiAgICAgfVxyXG4gICAgIGRvY3VtZW50Qm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnMHB4JztcclxuICAgICBkb2N1bWVudEJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbG9jaycpO1xyXG4gICB9LCAwKTtcclxuIFxyXG4gICB1bmxvY2sgPSBmYWxzZTtcclxuICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgdW5sb2NrID0gdHJ1ZTtcclxuICAgfSwgdGltZW91dCk7XHJcbiB9XHJcbiBcclxuIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICBcclxuICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgIGxldCBwb3B1cEFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC5vcGVuJyk7XHJcbiAgICAgcG9wdXBDbG9zZShwb3B1cEFjdGl2ZSk7XHJcbiAgIH1cclxuICBcclxuIH0pO1xyXG4gXHJcbiAoZnVuY3Rpb24oKXtcclxuICAgLy8g0L/RgNC+0LLQtdGA0Y/QtdC8INC/0L7QtNC00LXRgNC20LrRg1xyXG4gICBpZighRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCl7XHJcbiAgICAgLy8g0YDQtdCw0LvQuNC30YPQtdC8XHJcbiAgICAgRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uKGNzcyl7XHJcbiAgICAgICB2YXIgbm9kZSA9IHRoaXM7XHJcbiAgICAgICB3aGlsZShub2RlKXtcclxuICAgICAgICAgaWYobm9kZS5tYXRjaGVzKGNzcykpIHJldHVybiBub2RlO1xyXG4gICAgICAgICBlbHNlIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICB9XHJcbiAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICB9O1xyXG4gICB9XHJcbiB9KSgpO1xyXG4gKGZ1bmN0aW9uKCl7XHJcbiAgIC8vINC/0YDQvtCy0LXRgNGP0LXQvCDQv9C+0LTQtNC10YDQttC60YNcclxuICAgaWYoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpe1xyXG4gICAgIC8vINC/0L7RgNC10LTQtdC70Y/QtdC8INGB0LLQvtC50YHRgtCy0L5cclxuICAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yfHxcclxuICAgICAgIEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxyXG4gICAgICAgRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yfHxcclxuICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yO1xyXG4gICB9XHJcbiB9KSgpO1xubGV0IGNhdGFsb2dMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX2NhdGFsb2cgc3BhbicpO1xyXG5jYXRhbG9nTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICBjYXRhbG9nTGluay5jbGFzc0xpc3QudG9nZ2xlKCdzaG93Jyk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0YWxvZy1tZW51X193cmFwJykuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xyXG4gICAgY29uc29sZS5sb2coXCJjbGlrXCIpO1xyXG59KTtcclxuXHJcbmxldCB0YWJzVGl0bGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLl90YWJzLWxpbmsnKTtcclxubGV0IHRhYnNDb250ZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5fdGFicy1ibG9jaycpO1xyXG50YWJzVGl0bGVzLmZvckVhY2goZnVuY3Rpb24gKHRpdGxlKSB7XHJcbiAgICB0aXRsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS10YWInKTtcclxuICAgICAgICBsZXQgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5fdGFicy1ibG9ja1tkYXRhLXRhYj1cIicgKyBpZCArICdcIl0nKTtcclxuICAgICAgICBsZXQgYWN0aXZlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuX3RhYnMtbGluay5fYWN0aXZlJyk7XHJcbiAgICAgICAgbGV0IGFjdGl2ZUNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuX3RhYnMtYmxvY2suX2FjdGl2ZScpO1xyXG5cclxuICAgICAgICBhY3RpdmVUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKCdfYWN0aXZlJyk7IFxyXG4gICAgICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ19hY3RpdmUnKTsgXHJcblxyXG4gICAgICAgIGFjdGl2ZUNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnX2FjdGl2ZScpOyBcclxuICAgICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoJ19hY3RpdmUnKTsgXHJcbiAgICB9KTtcclxufSk7XG5cbn0pO1xuIl19
